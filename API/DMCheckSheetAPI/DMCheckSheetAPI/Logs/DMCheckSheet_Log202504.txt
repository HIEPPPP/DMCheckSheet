2025-04-01 07:43:49.223 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 07:43:49.239 +07:00 [INF] CORS policy execution successful.
2025-04-01 07:43:49.240 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 07:43:49.241 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 07:43:49.351 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 07:43:49.354 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 07:43:49.356 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 113.2342ms
2025-04-01 07:43:49.358 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 07:43:49.359 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 07:43:49.365 +07:00 [INF] CORS policy execution successful.
2025-04-01 07:43:49.366 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 143.1994ms
2025-04-01 07:43:49.367 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 07:43:49.371 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 07:43:49.382 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 07:43:49.385 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 07:43:49.386 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 13.6727ms
2025-04-01 07:43:49.388 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 07:43:49.389 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 30.9022ms
2025-04-01 09:14:47.616 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:14:47.622 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:14:47.623 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:14:47.625 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:14:47.645 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:14:47.649 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:14:47.651 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 24.1948ms
2025-04-01 09:14:47.652 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:14:47.654 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:14:47.657 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 41.4207ms
2025-04-01 09:14:47.660 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:14:47.665 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:14:47.666 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:14:47.679 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:14:47.681 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:14:47.683 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 15.1342ms
2025-04-01 09:14:47.685 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:14:47.686 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 32.4728ms
2025-04-01 09:15:04.972 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:15:04.976 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:15:04.977 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:15:04.979 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:15:04.984 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:15:04.986 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:15:04.988 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.6369ms
2025-04-01 09:15:04.989 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:15:04.989 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:15:04.992 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:15:04.992 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 21.285ms
2025-04-01 09:15:04.993 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:15:04.999 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:15:05.004 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:15:05.007 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:15:05.009 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.4697ms
2025-04-01 09:15:05.010 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:15:05.012 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 23.1415ms
2025-04-01 09:15:35.976 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:15:35.983 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:15:35.984 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:15:35.985 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:15:35.992 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:15:35.998 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:15:35.999 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 10.5388ms
2025-04-01 09:15:36.000 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:15:36.000 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:15:36.002 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 25.8339ms
2025-04-01 09:15:36.005 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:15:36.009 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:15:36.010 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:15:36.014 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:15:36.018 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:15:36.019 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 7.54ms
2025-04-01 09:15:36.021 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:15:36.022 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 22.2426ms
2025-04-01 09:15:40.687 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:15:40.691 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:15:40.692 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:15:40.694 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:15:40.699 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:15:40.702 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:15:40.703 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.4888ms
2025-04-01 09:15:40.704 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:15:40.705 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:15:40.707 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:15:40.708 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 20.9957ms
2025-04-01 09:15:40.709 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:15:40.713 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:15:40.717 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:15:40.720 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:15:40.722 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 6.3153ms
2025-04-01 09:15:40.723 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:15:40.725 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 20.5679ms
2025-04-01 09:27:17.249 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:27:17.256 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:27:17.257 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:27:17.258 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:27:17.273 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:27:17.275 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:27:17.276 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 16.8168ms
2025-04-01 09:27:17.278 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:27:17.278 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:27:17.282 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 33.9579ms
2025-04-01 09:27:17.286 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:27:17.290 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:27:17.292 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:27:17.298 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:27:17.302 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:27:17.305 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 10.5572ms
2025-04-01 09:27:17.307 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:27:17.309 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 30.8572ms
2025-04-01 09:27:48.450 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:27:48.458 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:27:48.459 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:27:48.460 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:27:48.465 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:27:48.471 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:27:48.472 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.8595ms
2025-04-01 09:27:48.473 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:27:48.473 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:27:48.475 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:27:48.476 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 26.8032ms
2025-04-01 09:27:48.477 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:27:48.482 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:27:48.489 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:27:48.492 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:27:48.494 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.2128ms
2025-04-01 09:27:48.496 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:27:48.497 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 24.2576ms
2025-04-01 09:28:28.569 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:28:28.578 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:28:28.579 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:28:28.580 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:28:28.584 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:28:28.592 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:28:28.594 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 12.2303ms
2025-04-01 09:28:28.595 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:28:28.596 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:28:28.598 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:28:28.599 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 30.28ms
2025-04-01 09:28:28.600 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:28:28.604 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:28:28.608 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:28:28.611 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:28:28.613 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.5588ms
2025-04-01 09:28:28.615 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:28:28.616 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 21.12ms
2025-04-01 09:32:16.162 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:32:16.168 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:32:16.169 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:32:16.170 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:32:16.176 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:32:16.180 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:32:16.182 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 10.2397ms
2025-04-01 09:32:16.183 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:32:16.184 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:32:16.189 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:32:16.190 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 28.3419ms
2025-04-01 09:32:16.191 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:32:16.195 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:32:16.199 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:32:16.201 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:32:16.203 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.1741ms
2025-04-01 09:32:16.204 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:32:16.205 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 22.7169ms
2025-04-01 09:33:47.846 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:33:47.858 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:33:47.859 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:33:47.861 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:33:47.870 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:33:47.874 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:33:47.876 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 11.3145ms
2025-04-01 09:33:47.877 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:33:47.877 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:33:47.883 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:33:47.884 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 40.5553ms
2025-04-01 09:33:47.885 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:33:47.889 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:33:47.892 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:33:47.895 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:33:47.897 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.8571ms
2025-04-01 09:33:47.899 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:33:47.900 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 23.4657ms
2025-04-01 09:33:53.564 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:33:53.568 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:33:53.569 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:33:53.570 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:33:53.575 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:33:53.578 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:33:53.579 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.4911ms
2025-04-01 09:33:53.580 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:33:53.580 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:33:53.582 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:33:53.583 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 19.1263ms
2025-04-01 09:33:53.584 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:33:53.588 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:33:53.593 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:33:53.595 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:33:53.597 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.7142ms
2025-04-01 09:33:53.598 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:33:53.599 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 19.3981ms
2025-04-01 09:33:54.637 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:33:54.641 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:33:54.642 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:33:54.643 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:33:54.646 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:33:54.648 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:33:54.649 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.0343ms
2025-04-01 09:33:54.650 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:33:54.651 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:33:54.653 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:33:54.654 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 17.3485ms
2025-04-01 09:33:54.655 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:33:54.659 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:33:54.662 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:33:54.665 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:33:54.666 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.7086ms
2025-04-01 09:33:54.668 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:33:54.669 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 18.7419ms
2025-04-01 09:33:55.473 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:33:55.476 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:33:55.477 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:33:55.478 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:33:55.481 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:33:55.484 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:33:55.485 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.4991ms
2025-04-01 09:33:55.486 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:33:55.486 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:33:55.489 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:33:55.490 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 17.4207ms
2025-04-01 09:33:55.491 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:33:55.494 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:33:55.497 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:33:55.500 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:33:55.501 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.501ms
2025-04-01 09:33:55.503 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:33:55.504 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 18.0581ms
2025-04-01 09:33:55.867 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:33:55.870 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:33:55.871 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:33:55.872 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:33:55.876 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:33:55.878 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:33:55.879 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.0031ms
2025-04-01 09:33:55.880 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:33:55.880 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:33:55.884 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:33:55.885 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 18.0431ms
2025-04-01 09:33:55.885 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:33:55.889 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:33:55.892 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:33:55.895 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:33:55.896 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.2885ms
2025-04-01 09:33:55.898 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:33:55.899 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 19.1254ms
2025-04-01 09:36:13.821 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:36:13.828 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:36:13.830 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:36:13.832 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:36:13.841 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:36:13.846 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:36:13.847 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 12.8486ms
2025-04-01 09:36:13.848 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:36:13.850 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:36:13.855 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:36:13.856 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 35.377ms
2025-04-01 09:36:13.857 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:36:13.862 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:36:13.866 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:36:13.868 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:36:13.869 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.6815ms
2025-04-01 09:36:13.871 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:36:13.872 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 23.5021ms
2025-04-01 09:36:15.493 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:36:15.497 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:36:15.498 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:36:15.500 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:36:15.505 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:36:15.508 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:36:15.510 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 7.4174ms
2025-04-01 09:36:15.511 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:36:15.511 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:36:15.514 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:36:15.515 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 21.4444ms
2025-04-01 09:36:15.515 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:36:15.520 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:36:15.524 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:36:15.526 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:36:15.528 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.5598ms
2025-04-01 09:36:15.529 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:36:15.531 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 20.065ms
2025-04-01 09:36:17.576 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:36:17.580 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:36:17.581 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:36:17.582 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:36:17.586 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:36:17.588 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:36:17.589 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.4261ms
2025-04-01 09:36:17.590 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:36:17.591 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:36:17.594 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:36:17.595 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 19.4454ms
2025-04-01 09:36:17.596 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:36:17.601 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:36:17.605 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:36:17.608 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:36:17.610 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 6.2704ms
2025-04-01 09:36:17.611 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:36:17.612 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 21.5928ms
2025-04-01 09:36:29.542 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:36:29.545 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:36:29.546 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:36:29.547 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:36:29.550 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:36:29.553 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:36:29.554 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.2605ms
2025-04-01 09:36:29.555 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:36:29.555 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:36:29.558 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:36:29.558 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.6271ms
2025-04-01 09:36:29.559 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:36:29.563 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:36:29.567 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:36:29.569 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:36:29.571 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.5361ms
2025-04-01 09:36:29.572 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:36:29.573 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 18.2905ms
2025-04-01 09:37:04.545 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:37:04.552 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:37:04.553 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:37:04.554 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:37:04.558 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:37:04.562 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:37:04.564 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 8.3714ms
2025-04-01 09:37:04.565 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:37:04.565 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:37:04.567 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:37:04.568 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 23.208ms
2025-04-01 09:37:04.569 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:37:04.574 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:37:04.577 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:37:04.580 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:37:04.581 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.8905ms
2025-04-01 09:37:04.583 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:37:04.584 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 19.045ms
2025-04-01 09:37:06.260 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:37:06.264 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:37:06.265 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:37:06.267 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:37:06.271 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:37:06.274 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:37:06.275 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.7577ms
2025-04-01 09:37:06.276 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:37:06.276 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:37:06.279 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:37:06.280 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 19.666ms
2025-04-01 09:37:06.281 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:37:06.285 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:37:06.290 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:37:06.292 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:37:06.294 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.3711ms
2025-04-01 09:37:06.295 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:37:06.296 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 20.1456ms
2025-04-01 09:37:08.401 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:37:08.405 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:37:08.406 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:37:08.407 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:37:08.411 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:37:08.414 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:37:08.416 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.1901ms
2025-04-01 09:37:08.417 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:37:08.417 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:37:08.419 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:37:08.420 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 19.6845ms
2025-04-01 09:37:08.421 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:37:08.426 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:37:08.429 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:37:08.432 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:37:08.434 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.3007ms
2025-04-01 09:37:08.436 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:37:08.437 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 20.2102ms
2025-04-01 09:37:21.999 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:37:22.002 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:37:22.004 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/ - 204 null null 5.4732ms
2025-04-01 09:37:22.007 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheet/ - application/json 71
2025-04-01 09:37:22.020 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:37:22.022 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.CreateSheet (DMCheckSheetAPI)'
2025-04-01 09:37:22.031 +07:00 [INF] Route matched with {action = "CreateSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSheet(DMCheckSheetAPI.Models.DTO.CheckSheet.CreateSheetDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:37:22.101 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 255), @p4='?' (Size = 100), @p5='?' (Size = 1000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CheckSheetMST] ([CancelFlag], [CreateAt], [CreateBy], [FormNO], [SheetCode], [SheetName], [UpdateAt], [UpdateBy])
OUTPUT INSERTED.[SheetId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-04-01 09:37:22.117 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-01 09:37:22.142 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.CreateSheet (DMCheckSheetAPI) in 107.6624ms
2025-04-01 09:37:22.144 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.CreateSheet (DMCheckSheetAPI)'
2025-04-01 09:37:22.145 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheet/ - 201 null application/json; charset=utf-8 138.594ms
2025-04-01 09:37:22.150 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:37:22.153 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:37:22.154 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:37:22.155 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:37:22.158 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:37:22.160 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:37:22.162 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.6386ms
2025-04-01 09:37:22.163 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:37:22.165 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 14.8221ms
2025-04-01 09:38:07.714 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:38:07.723 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:38:07.723 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:38:07.725 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:38:07.730 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:38:07.736 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:38:07.737 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 10.4431ms
2025-04-01 09:38:07.738 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:38:07.738 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:38:07.741 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:38:07.742 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 27.331ms
2025-04-01 09:38:07.743 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:38:07.747 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:38:07.758 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:38:07.761 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:38:07.763 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 13.8195ms
2025-04-01 09:38:07.765 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:38:07.767 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 28.64ms
2025-04-01 09:38:42.125 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/7 - null null
2025-04-01 09:38:42.133 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:38:42.133 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/7 - 204 null null 8.2759ms
2025-04-01 09:38:42.140 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5118/api/CheckSheet/7 - null null
2025-04-01 09:38:42.142 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:38:42.143 +07:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-04-01 09:38:42.145 +07:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-04-01 09:38:42.148 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5118/api/CheckSheet/7 - 405 0 null 7.3358ms
2025-04-01 09:40:18.495 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:40:18.500 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:40:18.501 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:40:18.502 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:40:18.505 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:40:18.511 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:40:18.512 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.0075ms
2025-04-01 09:40:18.513 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:40:18.514 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:40:18.519 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:40:18.520 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 26.1509ms
2025-04-01 09:40:18.521 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:40:18.525 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:40:18.529 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:40:18.532 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:40:18.533 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.909ms
2025-04-01 09:40:18.535 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:40:18.536 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 23.0127ms
2025-04-01 09:40:20.596 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:40:20.599 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:40:20.600 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:40:20.601 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:40:20.605 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:40:20.607 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:40:20.608 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.6485ms
2025-04-01 09:40:20.609 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:40:20.610 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:40:20.612 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:40:20.613 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 17.5586ms
2025-04-01 09:40:20.614 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:40:20.618 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:40:20.622 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:40:20.625 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:40:20.627 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 6.8665ms
2025-04-01 09:40:20.629 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:40:20.630 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 20.8981ms
2025-04-01 09:43:15.936 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:43:15.945 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:43:15.946 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:43:15.947 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:43:15.954 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:43:15.958 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:43:15.959 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 9.7334ms
2025-04-01 09:43:15.960 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:43:15.961 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:43:15.967 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:43:15.969 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 33.3589ms
2025-04-01 09:43:15.969 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:43:15.974 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:43:15.977 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:43:15.981 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:43:15.983 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 7.575ms
2025-04-01 09:43:15.985 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:43:15.987 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 26.3106ms
2025-04-01 09:43:16.249 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:43:16.253 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:43:16.254 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:43:16.255 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:43:16.258 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:43:16.260 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:43:16.262 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.1519ms
2025-04-01 09:43:16.263 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:43:16.264 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:43:16.266 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:43:16.267 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 17.9125ms
2025-04-01 09:43:16.268 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:43:16.272 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:43:16.276 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:43:16.280 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:43:16.283 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 8.3655ms
2025-04-01 09:43:16.285 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:43:16.287 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 24.0796ms
2025-04-01 09:43:18.713 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/7 - null null
2025-04-01 09:43:18.716 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:43:18.718 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/7 - 204 null null 5.6232ms
2025-04-01 09:43:18.722 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5118/api/CheckSheet/7 - null null
2025-04-01 09:43:18.725 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:43:18.726 +07:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-04-01 09:43:18.727 +07:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-04-01 09:43:18.729 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5118/api/CheckSheet/7 - 405 0 null 6.9751ms
2025-04-01 09:47:09.359 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/7 - null null
2025-04-01 09:47:09.365 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:47:09.366 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/7 - 204 null null 7.4313ms
2025-04-01 09:47:09.373 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5118/api/CheckSheet/7 - null null
2025-04-01 09:47:09.376 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:47:09.377 +07:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-04-01 09:47:09.378 +07:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-04-01 09:47:09.379 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5118/api/CheckSheet/7 - 405 0 null 5.5403ms
2025-04-01 09:47:11.459 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:47:11.463 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:47:11.465 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:47:11.467 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:47:11.471 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:47:11.473 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:47:11.474 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.6871ms
2025-04-01 09:47:11.475 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:47:11.476 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:47:11.478 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:47:11.479 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 20.4698ms
2025-04-01 09:47:11.480 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:47:11.484 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:47:11.487 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:47:11.490 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:47:11.492 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 6.2107ms
2025-04-01 09:47:11.494 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:47:11.495 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 19.7085ms
2025-04-01 09:47:18.238 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/Device/10/cancel - null null
2025-04-01 09:47:18.243 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:47:18.244 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/Device/10/cancel - 204 null null 6.0008ms
2025-04-01 09:47:18.247 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/Device/10/cancel - null 0
2025-04-01 09:47:18.251 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:47:18.252 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-01 09:47:18.255 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:47:18.308 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[DeviceId] = @__p_0
2025-04-01 09:47:18.343 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DeviceMST] SET [CancelFlag] = @p0
OUTPUT 1
WHERE [DeviceId] = @p1;
2025-04-01 09:47:18.347 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-01 09:47:18.350 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.UpdateCancelFlag (DMCheckSheetAPI) in 91.4964ms
2025-04-01 09:47:18.352 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-01 09:47:18.354 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/Device/10/cancel - 200 null application/json; charset=utf-8 106.4139ms
2025-04-01 09:47:18.358 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:47:18.361 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:47:18.361 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:47:18.363 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:47:18.367 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:47:18.370 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:47:18.371 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 6.1671ms
2025-04-01 09:47:18.372 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:47:18.374 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 15.9218ms
2025-04-01 09:50:30.113 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:50:30.121 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:50:30.122 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:50:30.123 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:50:30.128 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:50:30.133 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:50:30.135 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.8501ms
2025-04-01 09:50:30.136 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:50:30.136 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:50:30.138 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:50:30.139 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 25.6795ms
2025-04-01 09:50:30.140 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:50:30.144 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:50:30.148 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:50:30.154 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:50:30.155 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.5584ms
2025-04-01 09:50:30.157 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:50:30.158 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 22.2335ms
2025-04-01 09:50:32.136 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:50:32.140 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:50:32.141 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:50:32.143 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:50:32.148 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:50:32.150 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:50:32.152 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.7129ms
2025-04-01 09:50:32.153 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:50:32.153 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:50:32.155 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:50:32.156 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 20.0311ms
2025-04-01 09:50:32.157 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:50:32.162 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:50:32.165 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:50:32.168 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:50:32.170 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.3826ms
2025-04-01 09:50:32.172 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:50:32.173 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 20.6787ms
2025-04-01 09:52:12.027 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/7 - null null
2025-04-01 09:52:12.034 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:52:12.035 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/7 - 204 null null 8.601ms
2025-04-01 09:52:12.042 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheet/7 - null 0
2025-04-01 09:52:12.045 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:52:12.046 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.UpdateSheet (DMCheckSheetAPI)'
2025-04-01 09:52:12.048 +07:00 [INF] Route matched with {action = "UpdateSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSheet(Int32, DMCheckSheetAPI.Models.DTO.CheckSheet.UpdateSheetDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:52:12.056 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-01 09:52:12.083 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.UpdateSheet (DMCheckSheetAPI) in 33.2394ms
2025-04-01 09:52:12.085 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.UpdateSheet (DMCheckSheetAPI)'
2025-04-01 09:52:12.086 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheet/7 - 415 null application/problem+json; charset=utf-8 44.0433ms
2025-04-01 09:52:39.985 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:52:39.993 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:52:39.994 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:52:39.995 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:52:40.000 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:52:40.005 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:52:40.006 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.2508ms
2025-04-01 09:52:40.008 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:52:40.008 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:52:40.010 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:52:40.011 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 25.6052ms
2025-04-01 09:52:40.012 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:52:40.016 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:52:40.020 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:52:40.023 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:52:40.024 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.3329ms
2025-04-01 09:52:40.026 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:52:40.027 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 19.5322ms
2025-04-01 09:52:42.531 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/7 - null null
2025-04-01 09:52:42.534 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:52:42.536 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/7 - 204 null null 4.4564ms
2025-04-01 09:52:42.538 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheet/7 - null 0
2025-04-01 09:52:42.541 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:52:42.541 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.UpdateSheet (DMCheckSheetAPI)'
2025-04-01 09:52:42.543 +07:00 [INF] Route matched with {action = "UpdateSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSheet(Int32, DMCheckSheetAPI.Models.DTO.CheckSheet.UpdateSheetDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:52:42.545 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-01 09:52:42.547 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.UpdateSheet (DMCheckSheetAPI) in 3.0299ms
2025-04-01 09:52:42.549 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.UpdateSheet (DMCheckSheetAPI)'
2025-04-01 09:52:42.550 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheet/7 - 415 null application/problem+json; charset=utf-8 11.498ms
2025-04-01 09:53:14.420 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:53:14.428 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:53:14.429 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:53:14.430 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:53:14.435 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:53:14.440 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:53:14.441 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.2158ms
2025-04-01 09:53:14.443 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:53:14.443 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:53:14.444 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 23.5913ms
2025-04-01 09:53:14.446 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:53:14.450 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:53:14.451 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:53:14.455 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:53:14.458 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:53:14.460 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.5336ms
2025-04-01 09:53:14.462 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:53:14.463 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 21.3461ms
2025-04-01 09:53:16.546 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/7/cancel - null null
2025-04-01 09:53:16.550 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:53:16.552 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/7/cancel - 204 null null 5.0423ms
2025-04-01 09:53:16.555 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheet/7/cancel - null 0
2025-04-01 09:53:16.558 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:53:16.559 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-01 09:53:16.563 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:53:16.570 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[SheetId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:53:16.594 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CheckSheetMST] SET [CancelFlag] = @p0
OUTPUT 1
WHERE [SheetId] = @p1;
2025-04-01 09:53:16.598 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-01 09:53:16.600 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.UpdateCancelFlag (DMCheckSheetAPI) in 34.2927ms
2025-04-01 09:53:16.601 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-01 09:53:16.603 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheet/7/cancel - 200 null application/json; charset=utf-8 47.1734ms
2025-04-01 09:53:16.638 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:53:16.642 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:53:16.643 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:53:16.645 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:53:16.648 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:53:16.651 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:53:16.652 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.1773ms
2025-04-01 09:53:16.653 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:53:16.655 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.86ms
2025-04-01 09:53:34.560 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:53:34.565 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:53:34.566 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:53:34.567 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:53:34.570 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:53:34.573 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:53:34.574 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.2845ms
2025-04-01 09:53:34.575 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:53:34.575 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:53:34.578 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:53:34.579 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 19.1713ms
2025-04-01 09:53:34.580 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:53:34.584 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:53:34.588 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:53:34.591 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:53:34.593 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.5491ms
2025-04-01 09:53:34.595 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:53:34.596 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 21.2582ms
2025-04-01 09:53:54.667 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/4 - null null
2025-04-01 09:53:54.673 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:53:54.674 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/4 - 204 null null 7.4072ms
2025-04-01 09:53:54.682 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheet/4 - application/json 295
2025-04-01 09:53:54.685 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:53:54.686 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.UpdateSheet (DMCheckSheetAPI)'
2025-04-01 09:53:54.687 +07:00 [INF] Route matched with {action = "UpdateSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSheet(Int32, DMCheckSheetAPI.Models.DTO.CheckSheet.UpdateSheetDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:53:54.694 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[SheetId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:53:54.711 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 1000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CheckSheetMST] SET [SheetName] = @p0, [UpdateAt] = @p1
OUTPUT 1
WHERE [SheetId] = @p2;
2025-04-01 09:53:54.714 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-01 09:53:54.715 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.UpdateSheet (DMCheckSheetAPI) in 26.1963ms
2025-04-01 09:53:54.716 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.UpdateSheet (DMCheckSheetAPI)'
2025-04-01 09:53:54.718 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheet/4 - 200 null application/json; charset=utf-8 35.7726ms
2025-04-01 09:53:54.721 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:53:54.723 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:53:54.724 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:53:54.725 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:53:54.729 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:53:54.732 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:53:54.734 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.6759ms
2025-04-01 09:53:54.736 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:53:54.737 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.0573ms
2025-04-01 09:53:57.786 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheet/4 - application/json 291
2025-04-01 09:53:57.790 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:53:57.790 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.UpdateSheet (DMCheckSheetAPI)'
2025-04-01 09:53:57.791 +07:00 [INF] Route matched with {action = "UpdateSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSheet(Int32, DMCheckSheetAPI.Models.DTO.CheckSheet.UpdateSheetDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:53:57.797 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[SheetId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:53:57.811 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 1000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CheckSheetMST] SET [SheetName] = @p0, [UpdateAt] = @p1
OUTPUT 1
WHERE [SheetId] = @p2;
2025-04-01 09:53:57.814 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-01 09:53:57.816 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.UpdateSheet (DMCheckSheetAPI) in 22.2303ms
2025-04-01 09:53:57.818 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.UpdateSheet (DMCheckSheetAPI)'
2025-04-01 09:53:57.819 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheet/4 - 200 null application/json; charset=utf-8 33.036ms
2025-04-01 09:53:57.823 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:53:57.825 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:53:57.826 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:53:57.827 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:53:57.831 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:53:57.834 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:53:57.836 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.0768ms
2025-04-01 09:53:57.837 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:53:57.839 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.2129ms
2025-04-01 09:54:01.353 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/4 - null null
2025-04-01 09:54:01.356 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:54:01.357 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/4 - 204 null null 3.6999ms
2025-04-01 09:54:01.362 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheet/4 - application/json 292
2025-04-01 09:54:01.366 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:54:01.367 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.UpdateSheet (DMCheckSheetAPI)'
2025-04-01 09:54:01.369 +07:00 [INF] Route matched with {action = "UpdateSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSheet(Int32, DMCheckSheetAPI.Models.DTO.CheckSheet.UpdateSheetDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:54:01.373 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[SheetId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:54:01.379 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 1000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CheckSheetMST] SET [SheetName] = @p0, [UpdateAt] = @p1
OUTPUT 1
WHERE [SheetId] = @p2;
2025-04-01 09:54:01.382 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-01 09:54:01.385 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.UpdateSheet (DMCheckSheetAPI) in 14.11ms
2025-04-01 09:54:01.387 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.UpdateSheet (DMCheckSheetAPI)'
2025-04-01 09:54:01.388 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheet/4 - 200 null application/json; charset=utf-8 27.0297ms
2025-04-01 09:54:01.393 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:54:01.397 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:54:01.399 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:54:01.400 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:54:01.406 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:54:01.409 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:54:01.412 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.1517ms
2025-04-01 09:54:01.414 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:54:01.416 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 22.3833ms
2025-04-01 09:55:44.951 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:55:44.956 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:55:44.957 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:55:44.958 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:55:44.965 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:55:44.969 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:55:44.970 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.4828ms
2025-04-01 09:55:44.971 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:55:44.972 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:55:44.978 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:55:44.979 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 28.9495ms
2025-04-01 09:55:44.981 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:55:44.986 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:55:44.991 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:55:44.995 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:55:44.996 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.9757ms
2025-04-01 09:55:44.998 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:55:44.999 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 28.6604ms
2025-04-01 09:55:45.194 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:55:45.198 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:55:45.198 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:55:45.199 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:55:45.206 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:55:45.208 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:55:45.210 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 8.2242ms
2025-04-01 09:55:45.211 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:55:45.211 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:55:45.214 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:55:45.215 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 21.5763ms
2025-04-01 09:55:45.216 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:55:45.220 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:55:45.224 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:55:45.232 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:55:45.233 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 11.2303ms
2025-04-01 09:55:45.235 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:55:45.236 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 25.6636ms
2025-04-01 09:55:45.972 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:55:45.977 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:55:45.978 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:55:45.979 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:55:45.983 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:55:45.985 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:55:45.987 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.5402ms
2025-04-01 09:55:45.987 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:55:45.988 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:55:45.990 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:55:45.991 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 19.0323ms
2025-04-01 09:55:45.992 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:55:45.997 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:55:46.000 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:55:46.003 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:55:46.006 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.8459ms
2025-04-01 09:55:46.007 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:55:46.010 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 22.172ms
2025-04-01 09:55:57.970 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:55:57.974 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:55:57.975 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:55:57.977 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:55:57.980 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:55:57.983 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:55:57.984 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.7998ms
2025-04-01 09:55:57.985 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:55:57.986 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:55:57.989 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:55:57.990 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 19.6089ms
2025-04-01 09:55:57.991 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:55:57.997 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:55:58.001 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:55:58.004 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:55:58.006 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.1967ms
2025-04-01 09:55:58.007 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:55:58.008 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 23.3427ms
2025-04-01 09:56:06.466 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:56:06.469 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:56:06.470 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/ - 204 null null 3.9504ms
2025-04-01 09:56:06.474 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheet/ - application/json 67
2025-04-01 09:56:06.476 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:56:06.478 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.CreateSheet (DMCheckSheetAPI)'
2025-04-01 09:56:06.479 +07:00 [INF] Route matched with {action = "CreateSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSheet(DMCheckSheetAPI.Models.DTO.CheckSheet.CreateSheetDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:56:06.496 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 255), @p4='?' (Size = 100), @p5='?' (Size = 1000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CheckSheetMST] ([CancelFlag], [CreateAt], [CreateBy], [FormNO], [SheetCode], [SheetName], [UpdateAt], [UpdateBy])
OUTPUT INSERTED.[SheetId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-04-01 09:56:06.500 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-01 09:56:06.502 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.CreateSheet (DMCheckSheetAPI) in 21.4767ms
2025-04-01 09:56:06.504 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.CreateSheet (DMCheckSheetAPI)'
2025-04-01 09:56:06.505 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheet/ - 201 null application/json; charset=utf-8 30.9819ms
2025-04-01 09:56:06.509 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:56:06.511 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:56:06.512 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:56:06.513 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:56:06.517 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:56:06.520 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:56:06.522 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.545ms
2025-04-01 09:56:06.524 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:56:06.525 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 15.911ms
2025-04-01 09:56:08.514 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/8/cancel - null null
2025-04-01 09:56:08.517 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:56:08.518 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/8/cancel - 204 null null 4.2634ms
2025-04-01 09:56:08.521 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheet/8/cancel - null 0
2025-04-01 09:56:08.524 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:56:08.525 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-01 09:56:08.526 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:56:08.531 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[SheetId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:56:08.545 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CheckSheetMST] SET [CancelFlag] = @p0
OUTPUT 1
WHERE [SheetId] = @p1;
2025-04-01 09:56:08.548 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-01 09:56:08.550 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.UpdateCancelFlag (DMCheckSheetAPI) in 21.9607ms
2025-04-01 09:56:08.551 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-01 09:56:08.552 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheet/8/cancel - 200 null application/json; charset=utf-8 31.2887ms
2025-04-01 09:56:08.556 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:56:08.559 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:56:08.560 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:56:08.561 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:56:08.565 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:56:08.569 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:56:08.571 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.8301ms
2025-04-01 09:56:08.573 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:56:08.575 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 19.4411ms
2025-04-01 09:56:10.737 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:56:10.740 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:56:10.742 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:56:10.743 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:56:10.746 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:56:10.749 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:56:10.751 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.934ms
2025-04-01 09:56:10.752 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:56:10.752 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:56:10.754 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:56:10.755 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 18.0823ms
2025-04-01 09:56:10.756 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:56:10.760 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:56:10.764 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:56:10.767 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:56:10.768 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.2803ms
2025-04-01 09:56:10.770 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:56:10.771 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 19.7769ms
2025-04-01 09:57:56.879 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:57:56.887 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:57:56.888 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:57:56.889 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:57:56.893 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:57:56.898 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:57:56.900 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.7947ms
2025-04-01 09:57:56.901 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:57:56.902 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:57:56.904 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:57:56.905 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 26.6354ms
2025-04-01 09:57:56.906 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:57:56.910 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:57:56.914 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:57:56.918 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:57:56.920 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.7312ms
2025-04-01 09:57:56.921 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:57:56.923 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 21.5644ms
2025-04-01 09:58:00.176 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/4 - null null
2025-04-01 09:58:00.178 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:58:00.179 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/4 - 204 null null 3.2025ms
2025-04-01 09:58:00.182 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheet/4 - application/json 294
2025-04-01 09:58:00.185 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:58:00.187 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.UpdateSheet (DMCheckSheetAPI)'
2025-04-01 09:58:00.188 +07:00 [INF] Route matched with {action = "UpdateSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSheet(Int32, DMCheckSheetAPI.Models.DTO.CheckSheet.UpdateSheetDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:58:00.192 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[SheetId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:58:00.204 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 1000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CheckSheetMST] SET [SheetName] = @p0, [UpdateAt] = @p1
OUTPUT 1
WHERE [SheetId] = @p2;
2025-04-01 09:58:00.207 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-01 09:58:00.208 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.UpdateSheet (DMCheckSheetAPI) in 18.2258ms
2025-04-01 09:58:00.210 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.UpdateSheet (DMCheckSheetAPI)'
2025-04-01 09:58:00.211 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheet/4 - 200 null application/json; charset=utf-8 28.6462ms
2025-04-01 09:58:00.214 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:58:00.217 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:58:00.218 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:00.219 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:58:00.222 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:58:00.225 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:58:00.227 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.6622ms
2025-04-01 09:58:00.228 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:00.229 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 15.0805ms
2025-04-01 09:58:03.945 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheet/4 - application/json 292
2025-04-01 09:58:03.948 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:58:03.949 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.UpdateSheet (DMCheckSheetAPI)'
2025-04-01 09:58:03.950 +07:00 [INF] Route matched with {action = "UpdateSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSheet(Int32, DMCheckSheetAPI.Models.DTO.CheckSheet.UpdateSheetDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:58:03.955 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[SheetId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:58:03.970 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 1000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CheckSheetMST] SET [SheetName] = @p0, [UpdateAt] = @p1
OUTPUT 1
WHERE [SheetId] = @p2;
2025-04-01 09:58:03.974 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-01 09:58:03.975 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.UpdateSheet (DMCheckSheetAPI) in 22.5813ms
2025-04-01 09:58:03.977 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.UpdateSheet (DMCheckSheetAPI)'
2025-04-01 09:58:03.978 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheet/4 - 200 null application/json; charset=utf-8 32.6226ms
2025-04-01 09:58:03.981 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:58:03.984 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:58:03.985 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:03.986 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:58:03.992 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:58:03.995 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:58:03.997 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 8.9895ms
2025-04-01 09:58:03.998 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:04.000 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 18.3445ms
2025-04-01 09:58:08.904 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:58:08.907 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:58:08.909 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/ - 204 null null 4.6401ms
2025-04-01 09:58:08.913 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheet/ - application/json 65
2025-04-01 09:58:08.915 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:58:08.916 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.CreateSheet (DMCheckSheetAPI)'
2025-04-01 09:58:08.918 +07:00 [INF] Route matched with {action = "CreateSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSheet(DMCheckSheetAPI.Models.DTO.CheckSheet.CreateSheetDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:58:08.937 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 255), @p4='?' (Size = 100), @p5='?' (Size = 1000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CheckSheetMST] ([CancelFlag], [CreateAt], [CreateBy], [FormNO], [SheetCode], [SheetName], [UpdateAt], [UpdateBy])
OUTPUT INSERTED.[SheetId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-04-01 09:58:08.940 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-01 09:58:08.942 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.CreateSheet (DMCheckSheetAPI) in 21.3142ms
2025-04-01 09:58:08.944 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.CreateSheet (DMCheckSheetAPI)'
2025-04-01 09:58:08.945 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheet/ - 201 null application/json; charset=utf-8 32.141ms
2025-04-01 09:58:08.948 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:58:08.951 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:58:08.952 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:08.953 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:58:08.957 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:58:08.959 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:58:08.960 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.2357ms
2025-04-01 09:58:08.962 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:08.963 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 14.6478ms
2025-04-01 09:58:10.641 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/9/cancel - null null
2025-04-01 09:58:10.643 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:58:10.644 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheet/9/cancel - 204 null null 3.2427ms
2025-04-01 09:58:10.647 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheet/9/cancel - null 0
2025-04-01 09:58:10.649 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:58:10.650 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-01 09:58:10.652 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:58:10.657 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[SheetId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:58:10.661 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CheckSheetMST] SET [CancelFlag] = @p0
OUTPUT 1
WHERE [SheetId] = @p1;
2025-04-01 09:58:10.664 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-01 09:58:10.665 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.UpdateCancelFlag (DMCheckSheetAPI) in 9.9941ms
2025-04-01 09:58:10.666 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-01 09:58:10.668 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheet/9/cancel - 200 null application/json; charset=utf-8 20.9546ms
2025-04-01 09:58:10.672 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:58:10.675 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:58:10.675 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:10.676 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:58:10.681 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:58:10.684 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:58:10.685 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.0539ms
2025-04-01 09:58:10.686 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:10.687 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 15.2997ms
2025-04-01 09:58:13.828 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:58:13.832 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:58:13.833 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:13.835 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:58:13.838 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:58:13.841 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:58:13.842 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.1675ms
2025-04-01 09:58:13.843 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:58:13.843 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:13.845 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:58:13.846 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 18.2137ms
2025-04-01 09:58:13.847 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:13.852 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:58:13.857 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:58:13.861 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:58:13.863 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.2845ms
2025-04-01 09:58:13.865 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:13.867 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 24.1238ms
2025-04-01 09:58:49.068 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:58:49.075 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:58:49.076 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:49.077 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:58:49.082 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:58:49.088 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:58:49.090 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 10.5807ms
2025-04-01 09:58:49.091 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:58:49.092 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:49.096 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:58:49.097 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 28.8082ms
2025-04-01 09:58:49.098 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:49.103 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:58:49.107 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:58:49.111 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:58:49.112 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.6171ms
2025-04-01 09:58:49.114 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:49.116 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 25.3365ms
2025-04-01 09:58:49.402 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:58:49.406 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:58:49.407 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:58:49.409 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:58:49.413 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:58:49.417 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:58:49.418 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 7.2925ms
2025-04-01 09:58:49.419 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 09:58:49.420 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:58:49.423 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:58:49.424 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 22.4287ms
2025-04-01 09:58:49.425 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:58:49.431 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 09:58:49.440 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:58:49.443 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:58:49.445 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 11.3684ms
2025-04-01 09:58:49.447 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 09:58:49.449 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 29.4335ms
2025-04-01 09:58:49.734 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:58:49.737 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:58:49.740 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:49.741 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:58:49.744 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:58:49.750 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:58:49.753 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 10.5327ms
2025-04-01 09:58:49.754 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:58:49.754 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:49.757 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:58:49.757 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 23.7864ms
2025-04-01 09:58:49.758 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:49.763 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:58:49.768 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:58:49.771 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:58:49.772 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.8962ms
2025-04-01 09:58:49.774 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:49.775 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 21.3532ms
2025-04-01 09:58:51.271 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:58:51.275 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:58:51.276 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:51.278 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:58:51.281 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:58:51.284 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:58:51.285 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.4657ms
2025-04-01 09:58:51.286 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 09:58:51.286 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:51.289 +07:00 [INF] CORS policy execution successful.
2025-04-01 09:58:51.289 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 18.6714ms
2025-04-01 09:58:51.290 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:51.296 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 09:58:51.308 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 09:58:51.312 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 09:58:51.314 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 15.1135ms
2025-04-01 09:58:51.315 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 09:58:51.317 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 31.2022ms
2025-04-01 10:06:19.573 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 10:06:19.580 +07:00 [INF] CORS policy execution successful.
2025-04-01 10:06:19.581 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 10:06:19.583 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 10:06:19.597 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 10:06:19.602 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 10:06:19.604 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 17.7357ms
2025-04-01 10:06:19.605 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 10:06:19.606 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 10:06:19.611 +07:00 [INF] CORS policy execution successful.
2025-04-01 10:06:19.612 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 39.8598ms
2025-04-01 10:06:19.613 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 10:06:19.617 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 10:06:19.624 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 10:06:19.627 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 10:06:19.628 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.1114ms
2025-04-01 10:06:19.630 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 10:06:19.631 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 26.0803ms
2025-04-01 10:24:52.913 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem - null null
2025-04-01 10:24:52.921 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 10:24:52.924 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 10:24:53.016 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 10:24:53.025 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 10:24:53.030 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 103.1864ms
2025-04-01 10:24:53.032 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 10:24:53.033 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem - 200 null application/json; charset=utf-8 120.0225ms
2025-04-01 11:03:04.794 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:03:04.802 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:03:04.805 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:03:04.806 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:03:04.836 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:03:04.841 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:03:04.845 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 36.2434ms
2025-04-01 11:03:04.847 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:03:04.848 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:03:04.855 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 61.1887ms
2025-04-01 11:03:04.861 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:03:04.866 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:03:04.868 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:03:04.881 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:03:04.884 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:03:04.886 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 16.0631ms
2025-04-01 11:03:04.888 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:03:04.889 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 41.1451ms
2025-04-01 11:03:29.110 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:03:29.118 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:03:29.119 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:03:29.121 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:03:29.126 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:03:29.129 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:03:29.130 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.0111ms
2025-04-01 11:03:29.131 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:03:29.131 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:03:29.134 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:03:29.135 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 24.6692ms
2025-04-01 11:03:29.137 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:03:29.144 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:03:29.148 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:03:29.152 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:03:29.153 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 6.8881ms
2025-04-01 11:03:29.154 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:03:29.156 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 24.8451ms
2025-04-01 11:03:38.490 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:03:38.636 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:03:38.638 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:03:38.644 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:03:38.649 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:03:38.650 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.6035ms
2025-04-01 11:03:38.652 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:03:38.653 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 163.2846ms
2025-04-01 11:03:48.864 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:03:48.869 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:03:48.870 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:03:48.872 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:03:48.877 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:03:48.880 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:03:48.882 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.5604ms
2025-04-01 11:03:48.883 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:03:48.883 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:03:48.886 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:03:48.887 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 22.3333ms
2025-04-01 11:03:48.888 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:03:48.893 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:03:48.899 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:03:48.902 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:03:48.903 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.148ms
2025-04-01 11:03:48.905 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:03:48.907 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 24.5036ms
2025-04-01 11:05:28.492 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:05:28.501 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:05:28.502 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:05:28.503 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:05:28.508 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:05:28.510 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:05:28.512 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.0746ms
2025-04-01 11:05:28.513 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:05:28.514 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:05:28.519 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:05:28.520 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 27.6013ms
2025-04-01 11:05:28.520 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:05:28.525 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:05:28.530 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:05:28.533 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:05:28.534 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.1267ms
2025-04-01 11:05:28.536 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:05:28.537 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 24.1886ms
2025-04-01 11:08:51.995 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 11:08:52.001 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:08:52.002 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:08:52.003 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 11:08:52.008 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:08:52.014 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:08:52.016 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 10.0614ms
2025-04-01 11:08:52.017 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 11:08:52.017 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:08:52.019 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:08:52.020 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 25.4797ms
2025-04-01 11:08:52.021 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:08:52.025 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 11:08:52.028 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:08:52.031 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:08:52.033 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.7178ms
2025-04-01 11:08:52.034 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:08:52.035 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 18.399ms
2025-04-01 11:08:53.483 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 11:08:53.487 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:08:53.487 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:08:53.489 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 11:08:53.492 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:08:53.494 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:08:53.496 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.4534ms
2025-04-01 11:08:53.497 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 11:08:53.497 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:08:53.499 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:08:53.500 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 16.8237ms
2025-04-01 11:08:53.501 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:08:53.506 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 11:08:53.509 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:08:53.512 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:08:53.513 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.6351ms
2025-04-01 11:08:53.514 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:08:53.515 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 18.5244ms
2025-04-01 11:08:54.102 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 11:08:54.105 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:08:54.106 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:08:54.107 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 11:08:54.111 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:08:54.114 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:08:54.116 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.2248ms
2025-04-01 11:08:54.116 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 11:08:54.117 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:08:54.120 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:08:54.121 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 19.3255ms
2025-04-01 11:08:54.122 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:08:54.128 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 11:08:54.131 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:08:54.134 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:08:54.135 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.3092ms
2025-04-01 11:08:54.136 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:08:54.138 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 21.2922ms
2025-04-01 11:08:54.814 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:08:54.817 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:08:54.818 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:08:54.818 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:08:54.869 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:08:54.872 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:08:54.874 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 53.5195ms
2025-04-01 11:08:54.875 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:08:54.876 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:08:54.878 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:08:54.879 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 65.4227ms
2025-04-01 11:08:54.880 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:08:54.884 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:08:54.898 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:08:54.902 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:08:54.903 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 18.1207ms
2025-04-01 11:08:54.905 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:08:54.906 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 31.268ms
2025-04-01 11:09:16.239 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 11:09:16.245 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:09:16.245 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:09:16.247 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 11:09:16.251 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:09:16.256 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:09:16.257 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 8.3661ms
2025-04-01 11:09:16.258 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 11:09:16.259 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:09:16.264 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:09:16.265 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 26.3727ms
2025-04-01 11:09:16.265 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:09:16.269 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 11:09:16.272 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:09:16.276 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:09:16.277 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.7598ms
2025-04-01 11:09:16.279 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:09:16.281 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 23.0485ms
2025-04-01 11:09:17.213 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:09:17.216 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:09:17.216 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:09:17.218 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:09:17.222 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:09:17.225 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:09:17.226 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.1602ms
2025-04-01 11:09:17.228 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:09:17.228 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:09:17.229 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 16.073ms
2025-04-01 11:09:17.231 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:09:17.235 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:09:17.236 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:09:17.241 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:09:17.244 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:09:17.246 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.1665ms
2025-04-01 11:09:17.248 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:09:17.249 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 21.1483ms
2025-04-01 11:09:37.138 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 11:09:37.143 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:09:37.145 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:09:37.146 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 11:09:37.149 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:09:37.151 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:09:37.153 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.1884ms
2025-04-01 11:09:37.154 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 11:09:37.154 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:09:37.157 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:09:37.159 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 20.6202ms
2025-04-01 11:09:37.160 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:09:37.164 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 11:09:37.167 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:09:37.170 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:09:37.171 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.724ms
2025-04-01 11:09:37.173 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:09:37.174 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 20.699ms
2025-04-01 11:09:38.297 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 11:09:38.300 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:09:38.301 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:09:38.302 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 11:09:38.306 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:09:38.309 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:09:38.310 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.7433ms
2025-04-01 11:09:38.311 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 11:09:38.312 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:09:38.315 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:09:38.315 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 18.5767ms
2025-04-01 11:09:38.316 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:09:38.320 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 11:09:38.324 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:09:38.327 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:09:38.329 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.3187ms
2025-04-01 11:09:38.331 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:09:38.332 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 21.0314ms
2025-04-01 11:09:50.114 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:09:50.119 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:09:50.120 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:09:50.121 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:09:50.127 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:09:50.130 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:09:50.131 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.9505ms
2025-04-01 11:09:50.132 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:09:50.133 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:09:50.136 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:09:50.137 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 22.3036ms
2025-04-01 11:09:50.138 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:09:50.142 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:09:50.151 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:09:50.154 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:09:50.155 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.8759ms
2025-04-01 11:09:50.157 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:09:50.160 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 27.548ms
2025-04-01 11:12:15.122 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 11:12:15.127 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:12:15.128 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:12:15.129 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 11:12:15.132 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:12:15.138 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:12:15.140 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 8.8069ms
2025-04-01 11:12:15.140 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 11:12:15.142 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:12:15.146 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:12:15.147 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 25.3013ms
2025-04-01 11:12:15.148 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:12:15.152 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 11:12:15.155 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:12:15.158 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:12:15.159 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.5656ms
2025-04-01 11:12:15.160 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:12:15.162 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 21.2313ms
2025-04-01 11:12:19.678 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:12:19.680 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:12:19.682 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:12:19.683 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:12:19.689 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:12:19.692 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:12:19.693 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.1115ms
2025-04-01 11:12:19.694 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:12:19.695 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:12:19.697 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:12:19.698 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 19.8971ms
2025-04-01 11:12:19.698 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:12:19.704 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:12:19.708 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:12:19.711 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:12:19.712 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 6.5266ms
2025-04-01 11:12:19.713 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:12:19.714 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 20.2093ms
2025-04-01 11:12:21.272 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:12:21.276 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:12:21.277 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:12:21.279 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:12:21.284 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:12:21.287 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:12:21.288 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.5131ms
2025-04-01 11:12:21.289 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:12:21.289 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:12:21.292 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:12:21.292 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 20.3625ms
2025-04-01 11:12:21.293 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:12:21.297 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:12:21.302 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:12:21.305 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:12:21.307 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.146ms
2025-04-01 11:12:21.309 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:12:21.310 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 20.6624ms
2025-04-01 11:12:24.779 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:12:24.783 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:12:24.784 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:12:24.785 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:12:24.790 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:12:24.792 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:12:24.794 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 6.9949ms
2025-04-01 11:12:24.795 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:12:24.796 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:12:24.799 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:12:24.800 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 20.7299ms
2025-04-01 11:12:24.801 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:12:24.805 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:12:24.810 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:12:24.814 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:12:24.816 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.5692ms
2025-04-01 11:12:24.818 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:12:24.819 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 24.1315ms
2025-04-01 11:12:42.077 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:12:42.081 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:12:42.082 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:12:42.084 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:12:42.089 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:12:42.092 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:12:42.094 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.6297ms
2025-04-01 11:12:42.095 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:12:42.096 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:12:42.098 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:12:42.099 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 21.9667ms
2025-04-01 11:12:42.100 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:12:42.106 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:12:42.111 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:12:42.114 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:12:42.116 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.8761ms
2025-04-01 11:12:42.118 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:12:42.120 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 24.6951ms
2025-04-01 11:12:46.653 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:12:46.658 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:12:46.659 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:12:46.660 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:12:46.667 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:12:46.671 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:12:46.672 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.9892ms
2025-04-01 11:12:46.673 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:12:46.674 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:12:46.677 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:12:46.678 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 24.6466ms
2025-04-01 11:12:46.679 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:12:46.684 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:12:46.690 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:12:46.694 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:12:46.696 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.0508ms
2025-04-01 11:12:46.698 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:12:46.700 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 26.3654ms
2025-04-01 11:13:13.223 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:13:13.229 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:13:13.230 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:13:13.232 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:13:13.238 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:13:13.243 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:13:13.245 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 11.1008ms
2025-04-01 11:13:13.246 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:13:13.247 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:13:13.253 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:13:13.253 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 30.265ms
2025-04-01 11:13:13.254 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:13:13.258 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:13:13.263 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:13:13.266 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:13:13.268 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.5951ms
2025-04-01 11:13:13.269 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:13:13.271 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 24.4263ms
2025-04-01 11:20:20.709 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:20:20.713 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:20:20.714 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:20:20.715 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:20:20.732 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:20:20.735 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:20:20.736 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 18.9159ms
2025-04-01 11:20:20.738 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:20:20.739 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:20:20.743 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 34.228ms
2025-04-01 11:20:20.747 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:20:20.751 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:20:20.753 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:20:20.759 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:20:20.764 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:20:20.766 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.6553ms
2025-04-01 11:20:20.767 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:20:20.769 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 30.0291ms
2025-04-01 11:45:31.771 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:45:31.778 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:45:31.780 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:45:31.782 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:45:31.803 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:45:31.809 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:45:31.811 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 26.8345ms
2025-04-01 11:45:31.814 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:45:31.815 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:45:31.849 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 78.917ms
2025-04-01 11:45:31.853 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:45:31.858 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:45:31.859 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:45:31.867 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:45:31.873 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:45:31.875 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 13.6923ms
2025-04-01 11:45:31.877 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:45:31.880 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 65.7982ms
2025-04-01 11:45:36.861 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:45:36.864 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:45:36.865 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:45:36.867 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:45:36.872 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:45:36.874 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:45:36.876 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.5022ms
2025-04-01 11:45:36.877 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:45:36.877 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:45:36.880 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:45:36.881 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 19.9523ms
2025-04-01 11:45:36.882 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:45:36.885 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:45:36.890 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:45:36.893 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:45:36.894 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 6.9912ms
2025-04-01 11:45:36.896 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:45:36.897 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 20.413ms
2025-04-01 11:48:31.626 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 11:48:31.633 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:48:31.634 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:48:31.635 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 11:48:31.639 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:48:31.645 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:48:31.646 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 9.7325ms
2025-04-01 11:48:31.647 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 11:48:31.647 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:48:31.650 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:48:31.650 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 24.4364ms
2025-04-01 11:48:31.651 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:48:31.655 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 11:48:31.659 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:48:31.662 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:48:31.663 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.701ms
2025-04-01 11:48:31.664 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:48:31.666 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 18.8079ms
2025-04-01 11:48:34.350 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 11:48:34.354 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:48:34.354 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:48:34.356 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 11:48:34.359 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:48:34.361 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:48:34.363 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.2243ms
2025-04-01 11:48:34.364 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 11:48:34.365 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:48:34.369 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:48:34.370 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 20.5958ms
2025-04-01 11:48:34.371 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:48:34.375 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 11:48:34.379 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:48:34.381 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:48:34.382 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.1833ms
2025-04-01 11:48:34.384 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:48:34.385 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 21.3348ms
2025-04-01 11:48:35.534 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 11:48:35.537 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:48:35.538 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:48:35.539 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 11:48:35.543 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:48:35.546 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:48:35.547 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.4106ms
2025-04-01 11:48:35.548 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 11:48:35.548 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:48:35.550 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:48:35.551 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 17.5574ms
2025-04-01 11:48:35.552 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:48:35.556 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 11:48:35.560 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:48:35.562 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:48:35.564 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.5734ms
2025-04-01 11:48:35.565 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:48:35.566 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 18.1595ms
2025-04-01 11:48:36.171 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:48:36.175 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:48:36.177 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:48:36.178 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:48:36.183 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:48:36.186 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:48:36.187 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.349ms
2025-04-01 11:48:36.188 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:48:36.189 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:48:36.192 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:48:36.193 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 21.3027ms
2025-04-01 11:48:36.193 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:48:36.198 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:48:36.204 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:48:36.206 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:48:36.209 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.0783ms
2025-04-01 11:48:36.211 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:48:36.212 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 24.0911ms
2025-04-01 11:48:41.207 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 11:48:41.212 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:48:41.216 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:48:41.217 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 11:48:41.224 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:48:41.229 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:48:41.230 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 10.901ms
2025-04-01 11:48:41.231 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:48:41.232 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 24.4908ms
2025-04-01 11:48:41.249 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 11:48:41.254 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:48:41.255 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:48:41.256 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 11:48:41.261 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:48:41.265 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:48:41.267 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.2531ms
2025-04-01 11:48:41.268 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:48:41.270 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 21.7937ms
2025-04-01 11:48:41.476 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 11:48:41.479 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:48:41.480 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:48:41.481 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 11:48:41.484 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:48:41.486 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:48:41.487 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 4.925ms
2025-04-01 11:48:41.488 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 11:48:41.489 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:48:41.492 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:48:41.493 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 17.1122ms
2025-04-01 11:48:41.494 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:48:41.497 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 11:48:41.501 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:48:41.503 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:48:41.504 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.3115ms
2025-04-01 11:48:41.506 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:48:41.507 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 18.9177ms
2025-04-01 11:48:43.167 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 11:48:43.170 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:48:43.171 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:48:43.173 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 11:48:43.177 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:48:43.179 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:48:43.181 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.6422ms
2025-04-01 11:48:43.181 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 11:48:43.182 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:48:43.185 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:48:43.186 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 18.6521ms
2025-04-01 11:48:43.187 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:48:43.192 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 11:48:43.196 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:48:43.199 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:48:43.200 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.377ms
2025-04-01 11:48:43.202 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 11:48:43.204 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 22.3378ms
2025-04-01 11:48:43.358 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:48:43.362 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:48:43.363 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:48:43.364 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:48:43.369 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:48:43.372 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:48:43.373 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.173ms
2025-04-01 11:48:43.374 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:48:43.375 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:48:43.377 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:48:43.378 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 19.4182ms
2025-04-01 11:48:43.379 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:48:43.382 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:48:43.387 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:48:43.389 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:48:43.391 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.0577ms
2025-04-01 11:48:43.392 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:48:43.393 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 19.1568ms
2025-04-01 11:53:15.118 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 11:53:15.124 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:53:15.125 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:53:15.126 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 11:53:15.142 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:53:15.144 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:53:15.146 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 18.7358ms
2025-04-01 11:53:15.147 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 11:53:15.148 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:53:15.153 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:53:15.154 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 36.1362ms
2025-04-01 11:53:15.155 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:53:15.159 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 11:53:15.162 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 11:53:15.165 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:53:15.167 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.7148ms
2025-04-01 11:53:15.168 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 11:53:15.169 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 22.215ms
2025-04-01 11:54:51.742 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:54:51.748 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:54:51.749 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:54:51.750 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:54:51.776 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:54:51.780 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:54:51.782 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 30.2372ms
2025-04-01 11:54:51.783 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 11:54:51.784 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:54:51.789 +07:00 [INF] CORS policy execution successful.
2025-04-01 11:54:51.790 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 47.9009ms
2025-04-01 11:54:51.791 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:54:51.795 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 11:54:51.799 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 11:54:51.802 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 11:54:51.803 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.0694ms
2025-04-01 11:54:51.805 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 11:54:51.806 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 23.2678ms
2025-04-01 12:41:19.807 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem - null null
2025-04-01 12:41:19.812 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 12:41:19.813 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 12:41:19.828 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 12:41:19.831 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 12:41:19.833 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 18.2751ms
2025-04-01 12:41:19.834 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 12:41:19.836 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem - 200 null application/json; charset=utf-8 29.1615ms
2025-04-01 12:43:12.783 +07:00 [INF] User profile is available. Using 'C:\Users\24182\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 12:43:13.045 +07:00 [INF] Now listening on: http://localhost:5118
2025-04-01 12:43:13.128 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 12:43:13.130 +07:00 [INF] Hosting environment: Development
2025-04-01 12:43:13.131 +07:00 [INF] Content root path: D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI
2025-04-01 12:43:15.491 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/index.html - null null
2025-04-01 12:43:15.711 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/index.html - 200 null text/html;charset=utf-8 225.5392ms
2025-04-01 12:43:15.719 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/swagger-ui.css - null null
2025-04-01 12:43:15.720 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/swagger-ui-bundle.js - null null
2025-04-01 12:43:15.719 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/_framework/aspnetcore-browser-refresh.js - null null
2025-04-01 12:43:15.720 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/swagger-ui-standalone-preset.js - null null
2025-04-01 12:43:15.720 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/index.css - null null
2025-04-01 12:43:15.728 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/index.js - null null
2025-04-01 12:43:15.742 +07:00 [INF] The file /swagger-ui.css was not modified
2025-04-01 12:43:15.742 +07:00 [INF] The file /swagger-ui-bundle.js was not modified
2025-04-01 12:43:15.743 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 25.0048ms
2025-04-01 12:43:15.745 +07:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2025-04-01 12:43:15.748 +07:00 [INF] The file /index.css was not modified
2025-04-01 12:43:15.752 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/index.js - 200 null application/javascript;charset=utf-8 24.1661ms
2025-04-01 12:43:15.753 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/swagger-ui.css - 304 null text/css 35.8931ms
2025-04-01 12:43:15.754 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/swagger-ui-bundle.js - 304 null text/javascript 33.7529ms
2025-04-01 12:43:15.760 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/swagger-ui-standalone-preset.js - 304 null text/javascript 40.1286ms
2025-04-01 12:43:15.762 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/index.css - 304 null text/css 42.0408ms
2025-04-01 12:43:15.886 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/_vs/browserLink - null null
2025-04-01 12:43:15.926 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.2899ms
2025-04-01 12:43:16.067 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/v1/swagger.json - null null
2025-04-01 12:43:16.174 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 107.3263ms
2025-04-01 12:43:21.011 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem - null null
2025-04-01 12:43:21.025 +07:00 [WRN] Failed to determine the https port for redirect.
2025-04-01 12:43:21.106 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 12:43:21.125 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 12:43:22.425 +07:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 12:43:22.460 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 12:43:22.475 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 1344.2203ms
2025-04-01 12:43:22.477 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 12:43:22.485 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem - 200 null application/json; charset=utf-8 1473.9805ms
2025-04-01 12:43:57.142 +07:00 [INF] User profile is available. Using 'C:\Users\24182\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 12:43:57.356 +07:00 [INF] Now listening on: http://localhost:5118
2025-04-01 12:43:57.459 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 12:43:57.460 +07:00 [INF] Hosting environment: Development
2025-04-01 12:43:57.461 +07:00 [INF] Content root path: D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI
2025-04-01 12:43:59.343 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/index.html - null null
2025-04-01 12:43:59.547 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/index.html - 200 null text/html;charset=utf-8 210.8247ms
2025-04-01 12:43:59.556 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/_framework/aspnetcore-browser-refresh.js - null null
2025-04-01 12:43:59.560 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/index.js - null null
2025-04-01 12:43:59.567 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 12.2037ms
2025-04-01 12:43:59.571 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/_vs/browserLink - null null
2025-04-01 12:43:59.573 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/index.js - 200 null application/javascript;charset=utf-8 13.1645ms
2025-04-01 12:43:59.607 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.6949ms
2025-04-01 12:43:59.750 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/v1/swagger.json - null null
2025-04-01 12:43:59.852 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 102.9239ms
2025-04-01 12:44:03.659 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem - null null
2025-04-01 12:44:03.670 +07:00 [WRN] Failed to determine the https port for redirect.
2025-04-01 12:44:03.742 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 12:44:03.762 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 12:44:04.964 +07:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 12:44:05.003 +07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'DMCheckSheetAPI.Data.CheckSheetDbContext'.
System.InvalidOperationException: The required column 'DataType' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The required column 'DataType' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-04-01 12:44:05.158 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 1389.8304ms
2025-04-01 12:44:05.162 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 12:44:05.167 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The required column 'DataType' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DMCheckSheetAPI.Repositories.Implementation.CheckSheetItemRepository.GetAllAsync() in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Repositories\Implementation\CheckSheetItemRepository.cs:line 89
   at DMCheckSheetAPI.Services.CheckSheetItemServices.GetListItem() in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Services\CheckSheetItemServices.cs:line 22
   at DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem() in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Controllers\CheckSheetItemController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-01 12:44:05.190 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem - 500 null text/plain; charset=utf-8 1530.7177ms
2025-04-01 12:45:49.223 +07:00 [INF] User profile is available. Using 'C:\Users\24182\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 12:45:49.445 +07:00 [INF] Now listening on: http://localhost:5118
2025-04-01 12:45:49.566 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 12:45:49.567 +07:00 [INF] Hosting environment: Development
2025-04-01 12:45:49.568 +07:00 [INF] Content root path: D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI
2025-04-01 12:45:51.515 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/index.html - null null
2025-04-01 12:45:51.725 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/index.html - 200 null text/html;charset=utf-8 216.7903ms
2025-04-01 12:45:51.732 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/_framework/aspnetcore-browser-refresh.js - null null
2025-04-01 12:45:51.734 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/index.js - null null
2025-04-01 12:45:51.738 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 6.103ms
2025-04-01 12:45:51.743 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/index.js - 200 null application/javascript;charset=utf-8 9.0607ms
2025-04-01 12:45:51.756 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/_vs/browserLink - null null
2025-04-01 12:45:51.792 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.0814ms
2025-04-01 12:45:52.051 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/v1/swagger.json - null null
2025-04-01 12:45:52.188 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 137.6734ms
2025-04-01 12:45:56.313 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem - null null
2025-04-01 12:45:56.323 +07:00 [WRN] Failed to determine the https port for redirect.
2025-04-01 12:45:56.395 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 12:45:56.413 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 12:45:57.591 +07:00 [ERR] Failed executing DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 12:45:57.626 +07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'DMCheckSheetAPI.Data.CheckSheetDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near '.'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:1d904377-5d80-48b4-807f-95626fd48ecd
Error Number:102,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near '.'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:1d904377-5d80-48b4-807f-95626fd48ecd
Error Number:102,State:1,Class:15
2025-04-01 12:45:57.759 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 1341.2464ms
2025-04-01 12:45:57.763 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 12:45:57.766 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near '.'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DMCheckSheetAPI.Repositories.Implementation.CheckSheetItemRepository.GetAllAsync() in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Repositories\Implementation\CheckSheetItemRepository.cs:line 91
   at DMCheckSheetAPI.Services.CheckSheetItemServices.GetListItem() in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Services\CheckSheetItemServices.cs:line 22
   at DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem() in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Controllers\CheckSheetItemController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:1d904377-5d80-48b4-807f-95626fd48ecd
Error Number:102,State:1,Class:15
2025-04-01 12:45:57.790 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem - 500 null text/plain; charset=utf-8 1476.0392ms
2025-04-01 12:46:55.687 +07:00 [INF] User profile is available. Using 'C:\Users\24182\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-01 12:46:55.919 +07:00 [INF] Now listening on: http://localhost:5118
2025-04-01 12:46:56.017 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-01 12:46:56.019 +07:00 [INF] Hosting environment: Development
2025-04-01 12:46:56.020 +07:00 [INF] Content root path: D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI
2025-04-01 12:46:58.037 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/index.html - null null
2025-04-01 12:46:58.252 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/index.html - 200 null text/html;charset=utf-8 220.5267ms
2025-04-01 12:46:58.258 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/index.js - null null
2025-04-01 12:46:58.258 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/_framework/aspnetcore-browser-refresh.js - null null
2025-04-01 12:46:58.265 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/index.js - 200 null application/javascript;charset=utf-8 8.0642ms
2025-04-01 12:46:58.267 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 8.7856ms
2025-04-01 12:46:58.275 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/_vs/browserLink - null null
2025-04-01 12:46:58.320 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.4009ms
2025-04-01 12:46:58.483 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/v1/swagger.json - null null
2025-04-01 12:46:58.600 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 117.4491ms
2025-04-01 12:47:03.674 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem - null null
2025-04-01 12:47:03.684 +07:00 [WRN] Failed to determine the https port for redirect.
2025-04-01 12:47:03.761 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 12:47:03.779 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 12:47:05.010 +07:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 12:47:05.048 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 12:47:05.063 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 1279.0089ms
2025-04-01 12:47:05.066 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 12:47:05.073 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem - 200 null application/json; charset=utf-8 1399.0543ms
2025-04-01 12:47:27.601 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 12:47:27.614 +07:00 [INF] CORS policy execution successful.
2025-04-01 12:47:27.618 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 12:47:27.620 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 12:47:27.658 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 12:47:27.662 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 12:47:27.664 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 42.2733ms
2025-04-01 12:47:27.666 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 12:47:27.667 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 12:47:27.673 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 72.1815ms
2025-04-01 12:47:27.675 +07:00 [INF] CORS policy execution successful.
2025-04-01 12:47:27.681 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 12:47:27.682 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 12:47:27.788 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 12:47:27.792 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 12:47:27.795 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 111.1341ms
2025-04-01 12:47:27.797 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 12:47:27.798 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 131.8028ms
2025-04-01 13:06:04.953 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 13:06:04.957 +07:00 [INF] CORS policy execution successful.
2025-04-01 13:06:04.958 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 13:06:04.963 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 13:06:05.167 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 13:06:05.174 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 13:06:05.199 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 233.4625ms
2025-04-01 13:06:05.203 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 13:06:05.203 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 13:06:05.209 +07:00 [INF] CORS policy execution successful.
2025-04-01 13:06:05.210 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 258.1796ms
2025-04-01 13:06:05.211 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 13:06:05.215 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 13:06:05.222 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 13:06:05.225 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 13:06:05.227 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.2925ms
2025-04-01 13:06:05.228 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 13:06:05.230 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 27.8048ms
2025-04-01 13:06:05.272 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 13:06:05.275 +07:00 [INF] CORS policy execution successful.
2025-04-01 13:06:05.276 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 13:06:05.280 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 13:06:05.291 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 13:06:05.295 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 13:06:05.298 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 16.2693ms
2025-04-01 13:06:05.300 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-01 13:06:05.301 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 13:06:05.304 +07:00 [INF] CORS policy execution successful.
2025-04-01 13:06:05.305 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 33.5449ms
2025-04-01 13:06:05.306 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 13:06:05.313 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-01 13:06:05.319 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-01 13:06:05.322 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 13:06:05.323 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 7.5715ms
2025-04-01 13:06:05.324 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-01 13:06:05.326 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 25.7565ms
2025-04-01 13:06:05.667 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 13:06:05.671 +07:00 [INF] CORS policy execution successful.
2025-04-01 13:06:05.672 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 13:06:05.674 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 13:06:05.680 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 13:06:05.683 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 13:06:05.684 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.1806ms
2025-04-01 13:06:05.685 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-01 13:06:05.685 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 13:06:05.688 +07:00 [INF] CORS policy execution successful.
2025-04-01 13:06:05.689 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 21.879ms
2025-04-01 13:06:05.689 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 13:06:05.694 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-01 13:06:05.698 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-01 13:06:05.701 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 13:06:05.703 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.4914ms
2025-04-01 13:06:05.704 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-01 13:06:05.705 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 20.3652ms
2025-04-01 13:06:06.590 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 13:06:06.593 +07:00 [INF] CORS policy execution successful.
2025-04-01 13:06:06.594 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 13:06:06.595 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 13:06:06.634 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 13:06:06.638 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 13:06:06.639 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 41.7131ms
2025-04-01 13:06:06.640 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 13:06:06.641 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 13:06:06.644 +07:00 [INF] CORS policy execution successful.
2025-04-01 13:06:06.645 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 54.5915ms
2025-04-01 13:06:06.645 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 13:06:06.650 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 13:06:06.655 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 13:06:06.658 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 13:06:06.660 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.5933ms
2025-04-01 13:06:06.661 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 13:06:06.662 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 21.6259ms
2025-04-01 15:16:22.441 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 15:16:22.449 +07:00 [INF] CORS policy execution successful.
2025-04-01 15:16:22.451 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:16:22.452 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 15:16:22.472 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 15:16:22.475 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 15:16:22.477 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 22.7029ms
2025-04-01 15:16:22.480 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 15:16:22.481 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:16:22.486 +07:00 [INF] CORS policy execution successful.
2025-04-01 15:16:22.487 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 46.3233ms
2025-04-01 15:16:22.488 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:16:22.491 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 15:16:22.497 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 15:16:22.500 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 15:16:22.501 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.894ms
2025-04-01 15:16:22.503 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:16:22.505 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 25.1412ms
2025-04-01 15:26:47.457 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 15:26:47.465 +07:00 [INF] CORS policy execution successful.
2025-04-01 15:26:47.466 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:26:47.468 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 15:26:47.483 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 15:26:47.486 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 15:26:47.488 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 18.2305ms
2025-04-01 15:26:47.490 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:26:47.490 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 15:26:47.495 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 37.7385ms
2025-04-01 15:26:47.498 +07:00 [INF] CORS policy execution successful.
2025-04-01 15:26:47.502 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:26:47.503 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 15:26:47.511 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 15:26:47.516 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 15:26:47.518 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 12.8546ms
2025-04-01 15:26:47.519 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:26:47.521 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 31.1575ms
2025-04-01 15:49:16.641 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 15:49:16.645 +07:00 [INF] CORS policy execution successful.
2025-04-01 15:49:16.646 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:49:16.647 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 15:49:16.662 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 15:49:16.665 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 15:49:16.666 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 17.3455ms
2025-04-01 15:49:16.668 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:49:16.669 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 27.9606ms
2025-04-01 15:53:50.116 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 15:53:50.123 +07:00 [INF] CORS policy execution successful.
2025-04-01 15:53:50.124 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:53:50.125 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 15:53:50.140 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 15:53:50.143 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 15:53:50.145 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 17.1908ms
2025-04-01 15:53:50.147 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:53:50.148 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 15:53:50.153 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 36.3167ms
2025-04-01 15:53:50.155 +07:00 [INF] CORS policy execution successful.
2025-04-01 15:53:50.159 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:53:50.160 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 15:53:50.168 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 15:53:50.171 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 15:53:50.173 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.6183ms
2025-04-01 15:53:50.174 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:53:50.176 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 27.6545ms
2025-04-01 15:55:15.662 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 15:55:15.695 +07:00 [INF] CORS policy execution successful.
2025-04-01 15:55:15.696 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:55:15.697 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 15:55:15.703 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 15:55:15.706 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 15:55:15.708 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.2496ms
2025-04-01 15:55:15.709 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 15:55:15.712 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:55:15.716 +07:00 [INF] CORS policy execution successful.
2025-04-01 15:55:15.717 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 55.3653ms
2025-04-01 15:55:15.718 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:55:15.722 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 15:55:15.732 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 15:55:15.736 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 15:55:15.738 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 13.5444ms
2025-04-01 15:55:15.740 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:55:15.742 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 33.479ms
2025-04-01 15:59:07.658 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 15:59:07.667 +07:00 [INF] CORS policy execution successful.
2025-04-01 15:59:07.669 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:59:07.670 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 15:59:07.687 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 15:59:07.690 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 15:59:07.692 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 18.9332ms
2025-04-01 15:59:07.693 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:59:07.694 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 36.215ms
2025-04-01 15:59:34.987 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 15:59:34.998 +07:00 [INF] CORS policy execution successful.
2025-04-01 15:59:34.999 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:59:35.000 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 15:59:35.019 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 15:59:35.023 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 15:59:35.025 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 22.5482ms
2025-04-01 15:59:35.026 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:59:35.026 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 15:59:35.031 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 44.0018ms
2025-04-01 15:59:35.036 +07:00 [INF] CORS policy execution successful.
2025-04-01 15:59:35.040 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:59:35.042 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 15:59:35.049 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 15:59:35.053 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 15:59:35.054 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.326ms
2025-04-01 15:59:35.056 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 15:59:35.058 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 31.6857ms
2025-04-01 16:00:28.889 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:00:28.894 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:00:28.895 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:00:28.897 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:00:28.906 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:00:28.913 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:00:28.915 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 16.1998ms
2025-04-01 16:00:28.916 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:00:28.917 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:00:28.921 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:00:28.922 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 33.1547ms
2025-04-01 16:00:28.923 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:00:28.928 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:00:28.935 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:00:28.939 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:00:28.941 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.1672ms
2025-04-01 16:00:28.943 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:00:28.945 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 28.4713ms
2025-04-01 16:01:32.867 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:01:32.875 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:01:32.876 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:01:32.877 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:01:32.885 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:01:32.889 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:01:32.891 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 11.5767ms
2025-04-01 16:01:32.892 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:01:32.892 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:01:32.899 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:01:32.900 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 33.1507ms
2025-04-01 16:01:32.901 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:01:32.905 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:01:32.910 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:01:32.913 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:01:32.915 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.1171ms
2025-04-01 16:01:32.917 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:01:32.918 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 26.1426ms
2025-04-01 16:01:56.697 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:01:56.704 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:01:56.705 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:01:56.706 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:01:56.713 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:01:56.720 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:01:56.722 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 12.8586ms
2025-04-01 16:01:56.723 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:01:56.724 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:01:56.730 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:01:56.731 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 35.1073ms
2025-04-01 16:01:56.732 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:01:56.737 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:01:56.743 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:01:56.747 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:01:56.750 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.9816ms
2025-04-01 16:01:56.751 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:01:56.753 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 29.6976ms
2025-04-01 16:02:49.946 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:02:49.949 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:02:49.950 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:02:49.951 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:02:49.957 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:02:49.960 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:02:49.962 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.655ms
2025-04-01 16:02:49.963 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:02:49.964 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:02:49.969 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:02:49.970 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 24.2197ms
2025-04-01 16:02:49.971 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:02:49.976 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:02:49.985 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:02:49.991 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:02:49.993 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 16.0026ms
2025-04-01 16:02:49.995 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:02:49.997 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 33.7794ms
2025-04-01 16:03:28.288 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:03:28.298 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:03:28.299 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:03:28.301 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:03:28.311 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:03:28.314 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:03:28.316 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 12.276ms
2025-04-01 16:03:28.318 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:03:28.319 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 30.4403ms
2025-04-01 16:04:24.455 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:04:24.462 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:04:24.463 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:04:24.465 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:04:24.475 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:04:24.477 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:04:24.479 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 12.7932ms
2025-04-01 16:04:24.480 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:04:24.481 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:04:24.487 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:04:24.488 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 33.358ms
2025-04-01 16:04:24.489 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:04:24.492 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:04:24.498 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:04:24.501 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:04:24.503 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.7984ms
2025-04-01 16:04:24.505 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:04:24.506 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 26.1094ms
2025-04-01 16:09:04.605 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:09:04.612 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:09:04.613 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:09:04.615 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:09:04.621 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:09:04.626 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:09:04.628 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 11.1729ms
2025-04-01 16:09:04.629 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:09:04.630 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:09:04.636 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:09:04.637 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 33.2119ms
2025-04-01 16:09:04.638 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:09:04.643 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:09:04.654 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:09:04.657 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:09:04.659 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 14.1344ms
2025-04-01 16:09:04.661 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:09:04.662 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 33.2374ms
2025-04-01 16:12:01.395 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:12:01.402 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:12:01.404 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:12:01.405 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:12:01.412 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:12:01.416 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:12:01.418 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.9036ms
2025-04-01 16:12:01.419 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:12:01.421 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:12:01.426 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:12:01.427 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 32.615ms
2025-04-01 16:12:01.428 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:12:01.433 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:12:01.438 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:12:01.442 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:12:01.445 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.6525ms
2025-04-01 16:12:01.446 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:12:01.448 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 28.7036ms
2025-04-01 16:17:14.652 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:17:14.660 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:17:14.661 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:17:14.662 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:17:14.667 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:17:14.670 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:17:14.672 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.5709ms
2025-04-01 16:17:14.674 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:17:14.674 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:17:14.679 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 27.1622ms
2025-04-01 16:17:14.684 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:17:14.689 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:17:14.691 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:17:14.697 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:17:14.700 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:17:14.702 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.7648ms
2025-04-01 16:17:14.704 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:17:14.706 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 32.1899ms
2025-04-01 16:18:16.496 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:18:16.504 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:18:16.505 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:18:16.507 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:18:16.513 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:18:16.516 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:18:16.518 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.4429ms
2025-04-01 16:18:16.519 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:18:16.520 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:18:16.525 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:18:16.527 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 30.2906ms
2025-04-01 16:18:16.527 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:18:16.531 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:18:16.539 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:18:16.543 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:18:16.545 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 12.4012ms
2025-04-01 16:18:16.547 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:18:16.548 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 29.315ms
2025-04-01 16:19:55.285 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:19:55.292 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:19:55.293 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:19:55.294 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:19:55.301 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:19:55.306 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:19:55.307 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 11.2615ms
2025-04-01 16:19:55.308 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:19:55.310 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:19:55.314 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:19:55.315 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 30.0074ms
2025-04-01 16:19:55.316 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:19:55.320 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:19:55.325 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:19:55.328 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:19:55.329 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.3686ms
2025-04-01 16:19:55.331 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:19:55.332 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 23.9185ms
2025-04-01 16:25:08.236 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:25:08.244 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:25:08.245 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:25:08.246 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:25:08.261 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:25:08.264 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:25:08.266 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 17.963ms
2025-04-01 16:25:08.268 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:25:08.268 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:25:08.272 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 36.2543ms
2025-04-01 16:25:08.276 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:25:08.281 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:25:08.282 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:25:08.290 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:25:08.294 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:25:08.296 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 11.2735ms
2025-04-01 16:25:08.298 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:25:08.300 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 32.3371ms
2025-04-01 16:26:19.480 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:26:19.495 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:26:19.496 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:26:19.498 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:26:19.503 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:26:19.508 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:26:19.510 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.5873ms
2025-04-01 16:26:19.510 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:26:19.512 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:26:19.518 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:26:19.519 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 39.8872ms
2025-04-01 16:26:19.520 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:26:19.525 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:26:19.530 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:26:19.534 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:26:19.536 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.3094ms
2025-04-01 16:26:19.538 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:26:19.539 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 29.0445ms
2025-04-01 16:30:15.431 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:30:15.441 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:30:15.442 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:30:15.443 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:30:15.448 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:30:15.452 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:30:15.453 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.1479ms
2025-04-01 16:30:15.454 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-01 16:30:15.455 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:30:15.461 +07:00 [INF] CORS policy execution successful.
2025-04-01 16:30:15.462 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 30.8282ms
2025-04-01 16:30:15.462 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:30:15.467 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-01 16:30:15.471 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-01 16:30:15.475 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-01 16:30:15.477 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.5418ms
2025-04-01 16:30:15.479 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-01 16:30:15.480 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 26.217ms
2025-04-02 08:17:00.239 +07:00 [INF] User profile is available. Using 'C:\Users\24182\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-02 08:17:00.614 +07:00 [INF] Now listening on: http://localhost:5118
2025-04-02 08:17:00.711 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-02 08:17:00.713 +07:00 [INF] Hosting environment: Development
2025-04-02 08:17:00.714 +07:00 [INF] Content root path: D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI
2025-04-02 08:17:06.988 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/index.html - null null
2025-04-02 08:17:07.349 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/index.html - 200 null text/html;charset=utf-8 374.1647ms
2025-04-02 08:17:07.357 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/_framework/aspnetcore-browser-refresh.js - null null
2025-04-02 08:17:07.364 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 8.0987ms
2025-04-02 08:17:07.392 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/index.js - null null
2025-04-02 08:17:07.397 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/index.js - 200 null application/javascript;charset=utf-8 4.9511ms
2025-04-02 08:17:07.511 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/_vs/browserLink - null null
2025-04-02 08:17:07.568 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.1048ms
2025-04-02 08:17:07.710 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/v1/swagger.json - null null
2025-04-02 08:17:07.832 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 122.3018ms
2025-04-02 08:17:12.721 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem - null null
2025-04-02 08:17:12.736 +07:00 [WRN] Failed to determine the https port for redirect.
2025-04-02 08:17:12.852 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:17:12.872 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:17:14.459 +07:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:17:14.497 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:17:14.512 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 1634.1811ms
2025-04-02 08:17:14.515 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:17:14.523 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem - 200 null application/json; charset=utf-8 1804.7419ms
2025-04-02 08:26:40.056 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:26:40.065 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:26:40.070 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:26:40.072 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:26:40.112 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:26:40.117 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:26:40.121 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 47.0975ms
2025-04-02 08:26:40.123 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:26:40.124 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:26:40.130 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 77.2674ms
2025-04-02 08:26:40.133 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:26:40.139 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:26:40.141 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:26:40.240 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:26:40.254 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:26:40.263 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 120.0767ms
2025-04-02 08:26:40.265 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:26:40.266 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 142.7702ms
2025-04-02 08:27:07.359 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:27:07.362 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:27:07.363 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:27:07.365 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:27:07.370 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:27:07.374 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:27:07.377 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.2847ms
2025-04-02 08:27:07.380 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:27:07.380 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:27:07.383 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:27:07.384 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 25.5591ms
2025-04-02 08:27:07.385 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:27:07.390 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:27:07.396 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:27:07.399 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:27:07.401 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.1812ms
2025-04-02 08:27:07.403 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:27:07.405 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 25.169ms
2025-04-02 08:28:52.036 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:28:52.043 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:28:52.044 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:28:52.046 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:28:52.053 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:28:52.058 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:28:52.062 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 14.0995ms
2025-04-02 08:28:52.064 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:28:52.065 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:28:52.070 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 33.908ms
2025-04-02 08:28:52.073 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:28:52.076 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:28:52.078 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:28:52.083 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:28:52.087 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:28:52.088 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.8225ms
2025-04-02 08:28:52.090 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:28:52.091 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 26.0082ms
2025-04-02 08:31:04.907 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:31:04.914 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:31:04.915 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:31:04.916 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:31:04.927 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:31:04.930 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:31:04.932 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 13.3499ms
2025-04-02 08:31:04.934 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:31:04.935 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:31:04.941 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:31:04.942 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 34.5781ms
2025-04-02 08:31:04.942 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:31:04.947 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:31:04.953 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:31:04.956 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:31:04.958 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.1062ms
2025-04-02 08:31:04.959 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:31:04.961 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 27.0495ms
2025-04-02 08:35:53.463 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:35:53.469 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:35:53.470 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:35:53.472 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:35:53.478 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:35:53.482 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:35:53.484 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.7893ms
2025-04-02 08:35:53.485 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:35:53.489 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:35:53.492 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:35:53.493 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 31.502ms
2025-04-02 08:35:53.494 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:35:53.498 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:35:53.504 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:35:53.507 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:35:53.508 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.1009ms
2025-04-02 08:35:53.510 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:35:53.511 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 26.236ms
2025-04-02 08:38:46.205 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:38:46.215 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:38:46.216 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:38:46.217 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:38:46.224 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:38:46.229 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:38:46.231 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 12.8687ms
2025-04-02 08:38:46.233 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:38:46.235 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:38:46.241 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:38:46.242 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 37.121ms
2025-04-02 08:38:46.243 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:38:46.249 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:38:46.260 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:38:46.265 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:38:46.267 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 11.2383ms
2025-04-02 08:38:46.271 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:38:46.273 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 39.7629ms
2025-04-02 08:39:01.101 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:39:01.105 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:39:01.106 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:39:01.107 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:39:01.113 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:39:01.117 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:39:01.119 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.2679ms
2025-04-02 08:39:01.121 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:39:01.121 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:39:01.124 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:39:01.125 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 23.9669ms
2025-04-02 08:39:01.126 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:39:01.130 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:39:01.135 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:39:01.138 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:39:01.140 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.6093ms
2025-04-02 08:39:01.141 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:39:01.142 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 21.3743ms
2025-04-02 08:39:19.227 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:39:19.233 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:39:19.235 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:39:19.238 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:39:19.260 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:39:19.270 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:39:19.272 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 30.3059ms
2025-04-02 08:39:19.274 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:39:19.276 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 48.7571ms
2025-04-02 08:39:20.827 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:39:20.831 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:39:20.832 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:39:20.833 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:39:20.839 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:39:20.843 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:39:20.844 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.9075ms
2025-04-02 08:39:20.846 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:39:20.848 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 20.9482ms
2025-04-02 08:43:00.519 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:43:00.526 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:43:00.527 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:43:00.529 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:43:00.535 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:43:00.538 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:43:00.540 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.7034ms
2025-04-02 08:43:00.541 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:43:00.543 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 24.3494ms
2025-04-02 08:43:07.174 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:43:07.178 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:43:07.179 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:43:07.181 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:43:07.186 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:43:07.190 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:43:07.192 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.6755ms
2025-04-02 08:43:07.194 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:43:07.195 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 21.0937ms
2025-04-02 08:43:31.509 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:43:31.516 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:43:31.517 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:43:31.518 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:43:31.523 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:43:31.526 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:43:31.528 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.6543ms
2025-04-02 08:43:31.530 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:43:31.531 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 22.6452ms
2025-04-02 08:43:36.125 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:43:36.128 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:43:36.129 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:43:36.130 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:43:36.137 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:43:36.141 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:43:36.142 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.8412ms
2025-04-02 08:43:36.144 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:43:36.145 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 20.1736ms
2025-04-02 08:53:11.423 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:53:11.431 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:53:11.432 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:53:11.433 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:53:11.450 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:53:11.453 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:53:11.455 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 19.2345ms
2025-04-02 08:53:11.456 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:53:11.458 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 35.5518ms
2025-04-02 08:54:34.499 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:54:34.504 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:54:34.505 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:54:34.507 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:54:34.514 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:54:34.519 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:54:34.521 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 12.1747ms
2025-04-02 08:54:34.523 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:54:34.524 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 27.8417ms
2025-04-02 08:55:09.106 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:55:09.131 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:55:09.132 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:55:09.134 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:55:09.141 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:55:09.148 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:55:09.152 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 15.2481ms
2025-04-02 08:55:09.171 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:55:09.173 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 67.0392ms
2025-04-02 08:57:52.878 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:57:52.885 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:57:52.886 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:57:52.888 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:57:52.894 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:57:52.898 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:57:52.900 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.8875ms
2025-04-02 08:57:52.901 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:57:52.902 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 24.5248ms
2025-04-02 08:59:51.623 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:59:51.676 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:59:51.677 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:59:51.679 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:59:51.693 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:59:51.697 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:59:51.699 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 17.269ms
2025-04-02 08:59:51.702 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:59:51.704 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 82.4513ms
2025-04-02 08:59:53.037 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 08:59:53.040 +07:00 [INF] CORS policy execution successful.
2025-04-02 08:59:53.041 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:59:53.042 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 08:59:53.053 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 08:59:53.057 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 08:59:53.058 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 14.6151ms
2025-04-02 08:59:53.060 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 08:59:53.061 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 24.5578ms
2025-04-02 09:01:32.839 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 09:01:32.846 +07:00 [INF] CORS policy execution successful.
2025-04-02 09:01:32.847 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:01:32.848 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 09:01:32.859 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 09:01:32.862 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 09:01:32.864 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 13.2381ms
2025-04-02 09:01:32.865 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:01:32.867 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 28.0999ms
2025-04-02 09:04:03.526 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 09:04:03.538 +07:00 [INF] CORS policy execution successful.
2025-04-02 09:04:03.539 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:04:03.540 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 09:04:03.544 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 09:04:03.547 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 09:04:03.549 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.5152ms
2025-04-02 09:04:03.551 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:04:03.553 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 26.2732ms
2025-04-02 09:04:06.351 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 09:04:06.354 +07:00 [INF] CORS policy execution successful.
2025-04-02 09:04:06.356 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:04:06.357 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 09:04:06.363 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 09:04:06.367 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 09:04:06.369 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.3443ms
2025-04-02 09:04:06.371 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:04:06.372 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 21.5504ms
2025-04-02 09:04:26.520 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 09:04:26.527 +07:00 [INF] CORS policy execution successful.
2025-04-02 09:04:26.528 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:04:26.529 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 09:04:26.544 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 09:04:26.548 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 09:04:26.550 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 17.5657ms
2025-04-02 09:04:26.551 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:04:26.554 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 33.8998ms
2025-04-02 09:04:29.149 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 09:04:29.152 +07:00 [INF] CORS policy execution successful.
2025-04-02 09:04:29.154 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:04:29.155 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 09:04:29.161 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 09:04:29.165 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 09:04:29.167 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.6586ms
2025-04-02 09:04:29.169 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:04:29.170 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 20.7141ms
2025-04-02 09:08:21.754 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 09:08:21.770 +07:00 [INF] CORS policy execution successful.
2025-04-02 09:08:21.773 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:08:21.776 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 09:08:21.812 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 09:08:21.815 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 09:08:21.818 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 31.431ms
2025-04-02 09:08:21.820 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:08:21.821 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 67.6994ms
2025-04-02 09:09:05.514 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 09:09:05.522 +07:00 [INF] CORS policy execution successful.
2025-04-02 09:09:05.523 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:09:05.525 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 09:09:05.530 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 09:09:05.533 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 09:09:05.534 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.3811ms
2025-04-02 09:09:05.536 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:09:05.538 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 24.0158ms
2025-04-02 09:09:30.519 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 09:09:30.526 +07:00 [INF] CORS policy execution successful.
2025-04-02 09:09:30.528 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:09:30.529 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 09:09:30.538 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 09:09:30.542 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 09:09:30.544 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 12.6656ms
2025-04-02 09:09:30.545 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:09:30.546 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 27.7205ms
2025-04-02 09:09:34.518 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 09:09:34.522 +07:00 [INF] CORS policy execution successful.
2025-04-02 09:09:34.523 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:09:34.524 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 09:09:34.530 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 09:09:34.533 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 09:09:34.535 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.8668ms
2025-04-02 09:09:34.536 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:09:34.538 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 19.1482ms
2025-04-02 09:09:37.309 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 09:09:37.312 +07:00 [INF] CORS policy execution successful.
2025-04-02 09:09:37.316 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:09:37.317 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 09:09:37.326 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 09:09:37.330 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 09:09:37.332 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 11.8369ms
2025-04-02 09:09:37.334 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:09:37.335 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 25.6547ms
2025-04-02 09:10:39.527 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 09:10:39.533 +07:00 [INF] CORS policy execution successful.
2025-04-02 09:10:39.534 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:10:39.535 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 09:10:39.544 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 09:10:39.552 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 09:10:39.553 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 16.0686ms
2025-04-02 09:10:39.555 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:10:39.557 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 29.998ms
2025-04-02 09:10:47.137 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 09:10:47.141 +07:00 [INF] CORS policy execution successful.
2025-04-02 09:10:47.142 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:10:47.143 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 09:10:47.149 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 09:10:47.154 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 09:10:47.156 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.746ms
2025-04-02 09:10:47.158 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:10:47.160 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 22.6482ms
2025-04-02 09:11:43.526 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 09:11:43.532 +07:00 [INF] CORS policy execution successful.
2025-04-02 09:11:43.533 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:11:43.535 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 09:11:43.542 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 09:11:43.546 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 09:11:43.548 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.554ms
2025-04-02 09:11:43.549 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:11:43.550 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 24.1461ms
2025-04-02 09:19:30.508 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 09:19:30.512 +07:00 [INF] CORS policy execution successful.
2025-04-02 09:19:30.513 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:19:30.515 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 09:19:30.533 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 09:19:30.536 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 09:19:30.538 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 20.4563ms
2025-04-02 09:19:30.539 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:19:30.541 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 32.8724ms
2025-04-02 09:19:32.412 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 09:19:32.416 +07:00 [INF] CORS policy execution successful.
2025-04-02 09:19:32.417 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:19:32.419 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 09:19:32.429 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 09:19:32.432 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 09:19:32.434 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 12.8918ms
2025-04-02 09:19:32.436 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:19:32.437 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 25.0709ms
2025-04-02 09:41:07.550 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 09:41:07.556 +07:00 [INF] CORS policy execution successful.
2025-04-02 09:41:07.557 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:41:07.558 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 09:41:07.573 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 09:41:07.577 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 09:41:07.578 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 18.7265ms
2025-04-02 09:41:07.580 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:41:07.581 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 31.8912ms
2025-04-02 09:42:29.194 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 09:42:29.204 +07:00 [INF] CORS policy execution successful.
2025-04-02 09:42:29.205 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:42:29.208 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 09:42:29.214 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 09:42:29.218 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 09:42:29.220 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.6692ms
2025-04-02 09:42:29.222 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:42:29.223 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 29.1998ms
2025-04-02 09:48:45.059 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 09:48:45.066 +07:00 [INF] CORS policy execution successful.
2025-04-02 09:48:45.068 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:48:45.069 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 09:48:45.084 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 09:48:45.088 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 09:48:45.089 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 18.6787ms
2025-04-02 09:48:45.091 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 09:48:45.092 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 33.7582ms
2025-04-02 10:01:18.762 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 10:01:18.765 +07:00 [INF] CORS policy execution successful.
2025-04-02 10:01:18.767 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 10:01:18.768 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 10:01:18.794 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 10:01:18.798 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 10:01:18.799 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 23.5629ms
2025-04-02 10:01:18.800 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 10:01:18.801 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 39.5858ms
2025-04-02 10:58:48.898 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 10:58:48.919 +07:00 [INF] CORS policy execution successful.
2025-04-02 10:58:48.921 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 10:58:48.923 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 10:58:48.983 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 10:58:48.986 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 10:58:48.988 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 62.7013ms
2025-04-02 10:58:48.990 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 10:58:48.991 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 93.5541ms
2025-04-02 10:58:51.444 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-02 10:58:51.449 +07:00 [INF] CORS policy execution successful.
2025-04-02 10:58:51.451 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-02 10:58:51.473 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-02 10:58:51.691 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-02 10:58:51.705 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 10:58:51.733 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 256.1499ms
2025-04-02 10:58:51.734 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-02 10:58:51.735 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 291.5053ms
2025-04-02 10:58:52.357 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 10:58:52.360 +07:00 [INF] CORS policy execution successful.
2025-04-02 10:58:52.361 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 10:58:52.363 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 10:58:52.389 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 10:58:52.393 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 10:58:52.395 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 30.1001ms
2025-04-02 10:58:52.397 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 10:58:52.398 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 40.8631ms
2025-04-02 10:58:55.663 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 10:58:55.666 +07:00 [INF] CORS policy execution successful.
2025-04-02 10:58:55.667 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 10:58:55.668 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 10:58:55.674 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 10:58:55.678 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 10:58:55.680 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.4864ms
2025-04-02 10:58:55.682 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 10:58:55.684 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 20.8244ms
2025-04-02 10:59:32.846 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 10:59:32.849 +07:00 [INF] CORS policy execution successful.
2025-04-02 10:59:32.851 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 10:59:32.852 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 10:59:32.858 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 10:59:32.865 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 10:59:32.867 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 13.3396ms
2025-04-02 10:59:32.869 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 10:59:32.870 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 23.8832ms
2025-04-02 11:03:32.330 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 11:03:32.339 +07:00 [INF] CORS policy execution successful.
2025-04-02 11:03:32.340 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 11:03:32.342 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 11:03:32.348 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 11:03:32.357 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 11:03:32.360 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 16.1008ms
2025-04-02 11:03:32.361 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 11:03:32.364 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 33.8268ms
2025-04-02 11:03:35.500 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 11:03:35.502 +07:00 [INF] CORS policy execution successful.
2025-04-02 11:03:35.504 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 11:03:35.505 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 11:03:35.518 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 11:03:35.521 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 11:03:35.523 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 16.2744ms
2025-04-02 11:03:35.524 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 11:03:35.525 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 25.6934ms
2025-04-02 11:05:15.526 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 11:05:15.533 +07:00 [INF] CORS policy execution successful.
2025-04-02 11:05:15.534 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 11:05:15.535 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 11:05:15.541 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 11:05:15.543 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 11:05:15.545 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.155ms
2025-04-02 11:05:15.547 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 11:05:15.548 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 22.7074ms
2025-04-02 11:05:47.471 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 11:05:47.478 +07:00 [INF] CORS policy execution successful.
2025-04-02 11:05:47.480 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 11:05:47.482 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 11:05:47.490 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 11:05:47.498 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 11:05:47.500 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 14.9948ms
2025-04-02 11:05:47.501 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 11:05:47.503 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 31.819ms
2025-04-02 11:06:02.688 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 11:06:02.691 +07:00 [INF] CORS policy execution successful.
2025-04-02 11:06:02.692 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 11:06:02.694 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 11:06:02.699 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 11:06:02.703 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 11:06:02.704 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.0099ms
2025-04-02 11:06:02.706 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 11:06:02.708 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 19.6785ms
2025-04-02 11:08:44.475 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 11:08:44.483 +07:00 [INF] CORS policy execution successful.
2025-04-02 11:08:44.483 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 11:08:44.484 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 11:08:44.490 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 11:08:44.493 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 11:08:44.494 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.4875ms
2025-04-02 11:08:44.495 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 11:08:44.496 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 21.5935ms
2025-04-02 11:08:48.071 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 11:08:48.075 +07:00 [INF] CORS policy execution successful.
2025-04-02 11:08:48.076 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 11:08:48.078 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 11:08:48.084 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 11:08:48.088 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 11:08:48.090 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.2325ms
2025-04-02 11:08:48.092 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 11:08:48.094 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 22.9257ms
2025-04-02 11:08:49.465 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 11:08:49.468 +07:00 [INF] CORS policy execution successful.
2025-04-02 11:08:49.469 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 11:08:49.470 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 11:08:49.476 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 11:08:49.479 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 11:08:49.481 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.619ms
2025-04-02 11:08:49.482 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 11:08:49.484 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 18.7959ms
2025-04-02 11:08:51.502 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 11:08:51.509 +07:00 [INF] CORS policy execution successful.
2025-04-02 11:08:51.510 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 11:08:51.512 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 11:08:51.523 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 11:08:51.527 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 11:08:51.528 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 12.4587ms
2025-04-02 11:08:51.530 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 11:08:51.531 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 29.626ms
2025-04-02 11:08:52.467 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-02 11:08:52.470 +07:00 [INF] CORS policy execution successful.
2025-04-02 11:08:52.471 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 11:08:52.472 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-02 11:08:52.478 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-02 11:08:52.481 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-02 11:08:52.482 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.1528ms
2025-04-02 11:08:52.484 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-02 11:08:52.485 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 17.8179ms
2025-04-04 08:49:05.718 +07:00 [INF] User profile is available. Using 'C:\Users\24182\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-04 08:49:06.058 +07:00 [INF] Now listening on: http://localhost:5118
2025-04-04 08:49:06.138 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-04 08:49:06.141 +07:00 [INF] Hosting environment: Development
2025-04-04 08:49:06.142 +07:00 [INF] Content root path: D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI
2025-04-04 08:49:12.851 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/index.html - null null
2025-04-04 08:49:13.441 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/index.html - 200 null text/html;charset=utf-8 597.4704ms
2025-04-04 08:49:13.462 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/_framework/aspnetcore-browser-refresh.js - null null
2025-04-04 08:49:13.470 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 8.0011ms
2025-04-04 08:49:13.497 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/index.js - null null
2025-04-04 08:49:13.502 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/index.js - 200 null application/javascript;charset=utf-8 5.3861ms
2025-04-04 08:49:13.633 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/_vs/browserLink - null null
2025-04-04 08:49:13.686 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.1959ms
2025-04-04 08:49:13.949 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/v1/swagger.json - null null
2025-04-04 08:49:14.039 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/favicon-32x32.png - null null
2025-04-04 08:49:14.147 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 197.7812ms
2025-04-04 08:49:14.180 +07:00 [INF] The file /favicon-32x32.png was not modified
2025-04-04 08:49:14.259 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/favicon-32x32.png - 304 null image/png 219.6661ms
2025-04-04 08:51:44.205 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-04 08:51:44.213 +07:00 [INF] CORS policy execution successful.
2025-04-04 08:51:44.217 +07:00 [WRN] Failed to determine the https port for redirect.
2025-04-04 08:51:44.345 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 08:51:44.369 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-04 08:51:45.840 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-04 08:51:45.873 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 08:51:45.896 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 1521.63ms
2025-04-04 08:51:45.900 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 08:51:45.907 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 1702.3548ms
2025-04-04 08:51:46.825 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-04 08:51:46.831 +07:00 [INF] CORS policy execution successful.
2025-04-04 08:51:46.834 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 08:51:46.835 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-04 08:51:46.857 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-04 08:51:46.861 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 08:51:46.863 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 25.2354ms
2025-04-04 08:51:46.864 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 08:51:46.867 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 41.5952ms
2025-04-04 08:51:48.567 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-04 08:51:48.572 +07:00 [INF] CORS policy execution successful.
2025-04-04 08:51:48.574 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 08:51:48.578 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-04 08:51:48.638 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-04 08:51:48.642 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 08:51:48.645 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 64.8916ms
2025-04-04 08:51:48.648 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 08:51:48.650 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 82.7283ms
2025-04-04 08:51:50.133 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 08:51:50.138 +07:00 [INF] CORS policy execution successful.
2025-04-04 08:51:50.139 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 08:51:50.144 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 08:51:50.213 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 08:51:50.222 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 08:51:50.227 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 80.7396ms
2025-04-04 08:51:50.230 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 08:51:50.232 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 98.7386ms
2025-04-04 08:52:07.880 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 08:52:07.884 +07:00 [INF] CORS policy execution successful.
2025-04-04 08:52:07.886 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 08:52:07.889 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 08:52:07.906 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 08:52:07.912 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 08:52:07.916 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 24.4812ms
2025-04-04 08:52:07.919 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 08:52:07.922 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 41.4127ms
2025-04-04 08:52:39.481 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 08:52:39.485 +07:00 [INF] CORS policy execution successful.
2025-04-04 08:52:39.487 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 08:52:39.489 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 08:52:39.511 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 08:52:39.517 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 08:52:39.521 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 29.3476ms
2025-04-04 08:52:39.525 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 08:52:39.526 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 45.4654ms
2025-04-04 08:57:44.587 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 08:57:44.590 +07:00 [INF] CORS policy execution successful.
2025-04-04 08:57:44.591 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 08:57:44.593 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 08:57:44.640 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 08:57:44.643 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 08:57:44.645 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 37.7469ms
2025-04-04 08:57:44.646 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 08:57:44.647 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 60.5605ms
2025-04-04 08:58:11.612 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 08:58:11.615 +07:00 [INF] CORS policy execution successful.
2025-04-04 08:58:11.616 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 08:58:11.617 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 08:58:11.623 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 08:58:11.626 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 08:58:11.628 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.7269ms
2025-04-04 08:58:11.633 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 08:58:11.635 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 23.0124ms
2025-04-04 09:17:18.842 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 09:17:18.846 +07:00 [INF] CORS policy execution successful.
2025-04-04 09:17:18.848 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 09:17:18.849 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 09:17:18.888 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 09:17:18.891 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 09:17:18.893 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 35.7166ms
2025-04-04 09:17:18.895 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 09:17:18.896 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 54.2245ms
2025-04-04 09:17:23.263 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 09:17:23.265 +07:00 [INF] CORS policy execution successful.
2025-04-04 09:17:23.266 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 09:17:23.268 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 09:17:23.275 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 09:17:23.280 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 09:17:23.282 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 11.841ms
2025-04-04 09:17:23.283 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 09:17:23.285 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 22.1122ms
2025-04-04 09:18:17.283 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 09:18:17.289 +07:00 [INF] CORS policy execution successful.
2025-04-04 09:18:17.290 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 09:18:17.292 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 09:18:17.303 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 09:18:17.307 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 09:18:17.310 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.7316ms
2025-04-04 09:18:17.311 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 09:18:17.313 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 29.7668ms
2025-04-04 09:20:02.586 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 09:20:02.588 +07:00 [INF] CORS policy execution successful.
2025-04-04 09:20:02.589 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 09:20:02.590 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 09:20:02.600 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 09:20:02.605 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 09:20:02.607 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 14.596ms
2025-04-04 09:20:02.609 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 09:20:02.610 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 24.4632ms
2025-04-04 10:18:13.357 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 10:18:13.367 +07:00 [INF] CORS policy execution successful.
2025-04-04 10:18:13.369 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 10:18:13.371 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 10:18:13.446 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 10:18:13.466 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 10:18:13.505 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 131.5361ms
2025-04-04 10:18:13.507 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 10:18:13.509 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 499 null application/json; charset=utf-8 152.2307ms
2025-04-04 10:18:14.878 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 10:18:14.898 +07:00 [INF] CORS policy execution successful.
2025-04-04 10:18:14.900 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 10:18:14.901 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 10:18:14.907 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 10:18:14.911 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 10:18:14.913 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.3279ms
2025-04-04 10:18:14.916 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 10:18:14.918 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 40.8309ms
2025-04-04 10:18:27.250 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 10:18:27.253 +07:00 [INF] CORS policy execution successful.
2025-04-04 10:18:27.254 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 10:18:27.255 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 10:18:27.260 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 10:18:27.263 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 10:18:27.265 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.7164ms
2025-04-04 10:18:27.266 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 10:18:27.267 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 17.5583ms
2025-04-04 10:39:11.625 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-04 10:39:11.628 +07:00 [INF] CORS policy execution successful.
2025-04-04 10:39:11.634 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 10:39:11.636 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-04 10:39:11.659 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-04 10:39:11.661 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 10:39:11.663 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 24.4808ms
2025-04-04 10:39:11.664 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 10:39:11.666 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 41.1617ms
2025-04-04 10:39:13.222 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 10:39:13.225 +07:00 [INF] CORS policy execution successful.
2025-04-04 10:39:13.226 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 10:39:13.227 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 10:39:13.255 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 10:39:13.257 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 10:39:13.259 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 29.5184ms
2025-04-04 10:39:13.260 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 10:39:13.261 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 39.5668ms
2025-04-04 10:42:07.647 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 10:42:07.651 +07:00 [INF] CORS policy execution successful.
2025-04-04 10:42:07.652 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 10:42:07.653 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 10:42:07.659 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 10:42:07.662 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 10:42:07.663 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.5057ms
2025-04-04 10:42:07.664 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 10:42:07.665 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 18.201ms
2025-04-04 10:44:15.274 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 10:44:15.289 +07:00 [INF] CORS policy execution successful.
2025-04-04 10:44:15.291 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 10:44:15.293 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 10:44:15.300 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 10:44:15.308 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 10:44:15.310 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 14.6328ms
2025-04-04 10:44:15.312 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 10:44:15.313 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 39.5607ms
2025-04-04 10:44:31.074 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 10:44:31.078 +07:00 [INF] CORS policy execution successful.
2025-04-04 10:44:31.086 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 10:44:31.087 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 10:44:31.093 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 10:44:31.096 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 10:44:31.097 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.3489ms
2025-04-04 10:44:31.099 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 10:44:31.100 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 25.4625ms
2025-04-04 11:40:51.246 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 11:40:51.271 +07:00 [INF] CORS policy execution successful.
2025-04-04 11:40:51.273 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 11:40:51.274 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 11:40:51.411 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 11:40:51.417 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 11:40:51.419 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 143.2453ms
2025-04-04 11:40:51.421 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 11:40:51.423 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 176.5049ms
2025-04-04 11:44:09.155 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 11:44:09.159 +07:00 [INF] CORS policy execution successful.
2025-04-04 11:44:09.160 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 11:44:09.161 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 11:44:09.170 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 11:44:09.176 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 11:44:09.178 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 14.9215ms
2025-04-04 11:44:09.180 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 11:44:09.181 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 29.6197ms
2025-04-04 11:47:00.225 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 11:47:00.228 +07:00 [INF] CORS policy execution successful.
2025-04-04 11:47:00.230 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 11:47:00.231 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 11:47:00.246 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 11:47:00.250 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 11:47:00.252 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 17.8573ms
2025-04-04 11:47:00.253 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 11:47:00.254 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 29.5588ms
2025-04-04 11:51:13.292 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 11:51:13.297 +07:00 [INF] CORS policy execution successful.
2025-04-04 11:51:13.298 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 11:51:13.299 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 11:51:13.330 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 11:51:13.333 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 11:51:13.335 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 33.8157ms
2025-04-04 11:51:13.336 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 11:51:13.338 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 46.2121ms
2025-04-04 12:49:20.276 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-04 12:49:20.282 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:49:20.283 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:49:20.285 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-04 12:49:20.299 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:49:20.302 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:49:20.303 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 16.578ms
2025-04-04 12:49:20.305 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:49:20.306 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 30.5655ms
2025-04-04 12:49:20.964 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-04 12:49:20.968 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:49:20.969 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:49:20.970 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-04 12:49:20.975 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:49:20.981 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:49:20.982 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 10.3814ms
2025-04-04 12:49:20.984 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:49:20.985 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 20.5946ms
2025-04-04 12:49:21.538 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-04 12:49:21.541 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:49:21.542 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:49:21.543 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-04 12:49:21.548 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:49:21.551 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:49:21.552 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.3151ms
2025-04-04 12:49:21.554 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:49:21.555 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.8734ms
2025-04-04 12:49:22.662 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 12:49:22.666 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:49:22.668 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 12:49:22.669 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 12:49:22.696 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 12:49:22.701 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:49:22.702 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 30.9864ms
2025-04-04 12:49:22.704 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 12:49:22.705 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 42.8792ms
2025-04-04 12:49:23.068 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-04 12:49:23.071 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:49:23.072 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:49:23.073 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-04 12:49:23.077 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:49:23.079 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:49:23.081 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.9173ms
2025-04-04 12:49:23.082 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:49:23.084 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.2647ms
2025-04-04 12:49:24.940 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 12:49:24.944 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:49:24.945 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 12:49:24.946 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 12:49:24.974 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 12:49:24.978 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:49:24.979 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 30.8085ms
2025-04-04 12:49:24.981 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 12:49:24.982 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 42.2907ms
2025-04-04 12:50:57.376 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-04 12:50:57.381 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:50:57.382 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:50:57.384 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-04 12:50:57.394 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:50:57.400 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:50:57.401 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 14.6807ms
2025-04-04 12:50:57.403 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:50:57.404 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 27.3324ms
2025-04-04 12:50:58.160 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-04 12:50:58.165 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:50:58.166 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:50:58.167 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-04 12:50:58.171 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:50:58.174 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:50:58.175 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 6.4206ms
2025-04-04 12:50:58.177 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:50:58.178 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 17.8964ms
2025-04-04 12:50:58.834 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-04 12:50:58.838 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:50:58.839 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:50:58.840 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-04 12:50:58.844 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:50:58.847 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:50:58.848 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.2684ms
2025-04-04 12:50:58.850 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:50:58.851 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.5594ms
2025-04-04 12:51:00.067 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 12:51:00.071 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:51:00.072 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 12:51:00.073 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 12:51:00.101 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 12:51:00.104 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:51:00.106 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 30.4547ms
2025-04-04 12:51:00.107 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 12:51:00.108 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 41.1896ms
2025-04-04 12:51:42.191 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-04 12:51:42.198 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:51:42.199 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:51:42.201 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-04 12:51:42.205 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:51:42.210 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:51:42.212 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.2916ms
2025-04-04 12:51:42.213 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:51:42.214 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 23.0724ms
2025-04-04 12:51:43.954 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-04 12:51:43.957 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:51:43.959 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:51:43.960 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-04 12:51:43.964 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:51:43.967 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:51:43.968 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 6.3589ms
2025-04-04 12:51:43.969 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:51:43.970 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 16.4513ms
2025-04-04 12:51:44.315 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-04 12:51:44.319 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:51:44.320 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:51:44.322 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-04 12:51:44.325 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:51:44.328 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:51:44.329 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.7761ms
2025-04-04 12:51:44.330 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:51:44.331 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.6729ms
2025-04-04 12:51:45.121 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-04 12:51:45.125 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:51:45.126 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:51:45.128 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-04 12:51:45.132 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:51:45.134 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:51:45.135 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.483ms
2025-04-04 12:51:45.136 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:51:45.138 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 16.5297ms
2025-04-04 12:51:45.752 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-04 12:51:45.756 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:51:45.757 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:51:45.758 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-04 12:51:45.763 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:51:45.765 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:51:45.766 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.0898ms
2025-04-04 12:51:45.768 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:51:45.769 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.9882ms
2025-04-04 12:51:46.929 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-04 12:51:46.933 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:51:46.933 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:51:46.934 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-04 12:51:46.938 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:51:46.941 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:51:46.942 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 6.0145ms
2025-04-04 12:51:46.944 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:51:46.945 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 16.4562ms
2025-04-04 12:51:47.236 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-04 12:51:47.240 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:51:47.241 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:51:47.243 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-04 12:51:47.247 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:51:47.250 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:51:47.251 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.3789ms
2025-04-04 12:51:47.253 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:51:47.254 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 18.0385ms
2025-04-04 12:51:47.700 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 12:51:47.703 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:51:47.704 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 12:51:47.705 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 12:51:47.731 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 12:51:47.735 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:51:47.736 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 28.982ms
2025-04-04 12:51:47.738 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 12:51:47.739 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 39.2116ms
2025-04-04 12:51:49.760 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-04 12:51:49.764 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:51:49.765 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:51:49.766 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-04 12:51:49.771 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:51:49.773 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:51:49.774 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.7513ms
2025-04-04 12:51:49.776 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:51:49.778 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 17.4443ms
2025-04-04 12:51:50.040 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-04 12:51:50.045 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:51:50.046 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:51:50.047 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-04 12:51:50.050 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:51:50.053 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:51:50.054 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.5442ms
2025-04-04 12:51:50.055 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:51:50.056 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 15.7139ms
2025-04-04 12:51:50.959 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-04 12:51:50.962 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:51:50.963 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:51:50.964 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-04 12:51:50.968 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:51:50.970 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:51:50.971 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.5647ms
2025-04-04 12:51:50.973 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:51:50.974 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 14.9564ms
2025-04-04 12:51:52.669 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 12:51:52.673 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:51:52.674 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 12:51:52.675 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 12:51:52.703 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 12:51:52.706 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:51:52.707 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 29.91ms
2025-04-04 12:51:52.709 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 12:51:52.711 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 41.8094ms
2025-04-04 12:51:53.505 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-04 12:51:53.509 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:51:53.509 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:51:53.510 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-04 12:51:53.514 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:51:53.517 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:51:53.518 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.9591ms
2025-04-04 12:51:53.520 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:51:53.521 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 15.7176ms
2025-04-04 12:51:53.995 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-04 12:51:53.998 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:51:53.998 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:51:53.999 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-04 12:51:54.003 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:51:54.005 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:51:54.006 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.3542ms
2025-04-04 12:51:54.008 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:51:54.009 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 14.5792ms
2025-04-04 12:51:54.464 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 12:51:54.467 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:51:54.468 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 12:51:54.469 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 12:51:54.497 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 12:51:54.500 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:51:54.501 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 30.3459ms
2025-04-04 12:51:54.503 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 12:51:54.504 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 40.4082ms
2025-04-04 12:51:55.075 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-04 12:51:55.079 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:51:55.080 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:51:55.081 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-04 12:51:55.085 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:51:55.087 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:51:55.089 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.4529ms
2025-04-04 12:51:55.090 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:51:55.092 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 17.0785ms
2025-04-04 12:51:55.449 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-04 12:51:55.453 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:51:55.453 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:51:55.454 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-04 12:51:55.458 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:51:55.461 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:51:55.463 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 6.5952ms
2025-04-04 12:51:55.464 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:51:55.465 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 16.3535ms
2025-04-04 12:51:55.945 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 12:51:55.949 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:51:55.950 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 12:51:55.951 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 12:51:55.977 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 12:51:55.981 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:51:55.982 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 30.0263ms
2025-04-04 12:51:55.984 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 12:51:55.985 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 39.8781ms
2025-04-04 12:51:59.604 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-04 12:51:59.608 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:51:59.609 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:51:59.611 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-04 12:51:59.615 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:51:59.617 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:51:59.619 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.7029ms
2025-04-04 12:51:59.620 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:51:59.621 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 17.2691ms
2025-04-04 12:52:02.080 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-04 12:52:02.085 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:52:02.086 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:52:02.087 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-04 12:52:02.094 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:52:02.098 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:52:02.100 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 9.8947ms
2025-04-04 12:52:02.102 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:52:02.104 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 23.3787ms
2025-04-04 12:52:04.602 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-04 12:52:04.606 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:52:04.607 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:52:04.608 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-04 12:52:04.613 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:52:04.616 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:52:04.617 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 6.6721ms
2025-04-04 12:52:04.618 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:52:04.619 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 17.7742ms
2025-04-04 12:52:06.137 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-04 12:52:06.142 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:52:06.144 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:52:06.145 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-04 12:52:06.149 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:52:06.152 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:52:06.153 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.9873ms
2025-04-04 12:52:06.155 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 12:52:06.156 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 18.343ms
2025-04-04 12:52:07.248 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-04 12:52:07.252 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:52:07.253 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:52:07.254 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-04 12:52:07.257 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-04 12:52:07.261 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:52:07.262 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.2781ms
2025-04-04 12:52:07.263 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 12:52:07.264 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.2894ms
2025-04-04 12:52:08.546 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 12:52:08.550 +07:00 [INF] CORS policy execution successful.
2025-04-04 12:52:08.551 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 12:52:08.552 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 12:52:08.578 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 12:52:08.581 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 12:52:08.583 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 29.1645ms
2025-04-04 12:52:08.584 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 12:52:08.585 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 39.2639ms
2025-04-04 13:46:00.219 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 13:46:00.224 +07:00 [INF] CORS policy execution successful.
2025-04-04 13:46:00.225 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 13:46:00.227 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 13:46:00.245 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 13:46:00.249 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 13:46:00.250 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 21.513ms
2025-04-04 13:46:00.252 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 13:46:00.253 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 34.7681ms
2025-04-04 13:46:11.936 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 13:46:11.939 +07:00 [INF] CORS policy execution successful.
2025-04-04 13:46:11.941 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 13:46:11.942 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 13:46:11.948 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 13:46:11.951 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 13:46:11.952 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.7432ms
2025-04-04 13:46:11.954 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 13:46:11.955 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 19.1543ms
2025-04-04 13:49:28.522 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 13:49:28.531 +07:00 [INF] CORS policy execution successful.
2025-04-04 13:49:28.532 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 13:49:28.534 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 13:49:28.541 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 13:49:28.544 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 13:49:28.546 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.1273ms
2025-04-04 13:49:28.548 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 13:49:28.549 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 27.1395ms
2025-04-04 14:47:11.532 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-04 14:47:11.537 +07:00 [INF] CORS policy execution successful.
2025-04-04 14:47:11.538 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 14:47:11.540 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-04 14:47:11.559 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-04 14:47:11.561 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 14:47:11.563 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 21.4286ms
2025-04-04 14:47:11.564 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 14:47:11.565 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 33.2868ms
2025-04-04 14:47:12.224 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-04 14:47:12.228 +07:00 [INF] CORS policy execution successful.
2025-04-04 14:47:12.229 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 14:47:12.230 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-04 14:47:12.234 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-04 14:47:12.243 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 14:47:12.245 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 13.2496ms
2025-04-04 14:47:12.246 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 14:47:12.247 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 23.5696ms
2025-04-04 14:47:13.528 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-04 14:47:13.532 +07:00 [INF] CORS policy execution successful.
2025-04-04 14:47:13.533 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 14:47:13.534 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-04 14:47:13.540 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-04 14:47:13.544 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 14:47:13.545 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 8.8319ms
2025-04-04 14:47:13.546 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 14:47:13.547 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 18.5923ms
2025-04-04 14:47:13.963 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 14:47:13.967 +07:00 [INF] CORS policy execution successful.
2025-04-04 14:47:13.968 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 14:47:13.970 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 14:47:13.996 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 14:47:13.999 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 14:47:14.001 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 29.3955ms
2025-04-04 14:47:14.002 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 14:47:14.004 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 40.8253ms
2025-04-04 14:47:52.539 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-04 14:47:52.545 +07:00 [INF] CORS policy execution successful.
2025-04-04 14:47:52.546 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 14:47:52.547 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-04 14:47:52.552 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-04 14:47:52.557 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 14:47:52.559 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 10.0556ms
2025-04-04 14:47:52.560 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 14:47:52.561 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 22.5188ms
2025-04-04 14:47:52.806 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-04 14:47:52.809 +07:00 [INF] CORS policy execution successful.
2025-04-04 14:47:52.810 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 14:47:52.811 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-04 14:47:52.815 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-04 14:47:52.817 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 14:47:52.818 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.4393ms
2025-04-04 14:47:52.820 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 14:47:52.821 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 15.5359ms
2025-04-04 14:48:12.299 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/Device/ - null null
2025-04-04 14:48:12.305 +07:00 [INF] CORS policy execution successful.
2025-04-04 14:48:12.309 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/Device/ - 204 null null 9.8887ms
2025-04-04 14:48:12.314 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/Device/ - application/json 96
2025-04-04 14:48:12.318 +07:00 [INF] CORS policy execution successful.
2025-04-04 14:48:12.319 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.CreateDevice (DMCheckSheetAPI)'
2025-04-04 14:48:12.335 +07:00 [INF] Route matched with {action = "CreateDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDevice(DMCheckSheetAPI.Models.DTO.Device.CreateDeviceDTO) on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-04 14:48:12.616 +07:00 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 255), @p4='?' (Size = 500), @p5='?' (DbType = Int32), @p6='?' (Size = 500), @p7='?' (DbType = DateTime2), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DeviceMST] ([CancelFlag], [CreateAt], [CreateBy], [DeviceCode], [DeviceName], [Frequency], [Location], [UpdateAt], [UpdateBy])
OUTPUT INSERTED.[DeviceId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-04-04 14:48:12.646 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-04 14:48:12.664 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.CreateDevice (DMCheckSheetAPI) in 326.7653ms
2025-04-04 14:48:12.667 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.CreateDevice (DMCheckSheetAPI)'
2025-04-04 14:48:12.668 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/Device/ - 201 null application/json; charset=utf-8 354.3615ms
2025-04-04 14:48:12.672 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-04 14:48:12.675 +07:00 [INF] CORS policy execution successful.
2025-04-04 14:48:12.675 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 14:48:12.676 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-04 14:48:12.680 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-04 14:48:12.682 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 14:48:12.684 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.5689ms
2025-04-04 14:48:12.685 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-04 14:48:12.686 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 14.0907ms
2025-04-04 14:48:42.610 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 14:48:42.614 +07:00 [INF] CORS policy execution successful.
2025-04-04 14:48:42.615 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 14:48:42.616 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 14:48:42.643 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 14:48:42.653 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 14:48:42.655 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 36.1006ms
2025-04-04 14:48:42.656 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 14:48:42.657 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 46.617ms
2025-04-04 15:23:43.791 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 15:23:43.798 +07:00 [INF] CORS policy execution successful.
2025-04-04 15:23:43.799 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 15:23:43.801 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 15:23:43.816 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 15:23:43.819 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 15:23:43.820 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 17.1763ms
2025-04-04 15:23:43.821 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 15:23:43.822 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 32.2144ms
2025-04-04 15:24:09.167 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 15:24:09.173 +07:00 [INF] CORS policy execution successful.
2025-04-04 15:24:09.174 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 15:24:09.175 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 15:24:09.181 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 15:24:09.187 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 15:24:09.189 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 11.6898ms
2025-04-04 15:24:09.190 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 15:24:09.192 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 24.6573ms
2025-04-04 15:24:19.270 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 15:24:19.274 +07:00 [INF] CORS policy execution successful.
2025-04-04 15:24:19.275 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 15:24:19.277 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 15:24:19.284 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 15:24:19.292 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 15:24:19.294 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 14.6139ms
2025-04-04 15:24:19.296 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 15:24:19.297 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 27.69ms
2025-04-04 15:57:45.780 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-04 15:57:45.786 +07:00 [INF] CORS policy execution successful.
2025-04-04 15:57:45.786 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 15:57:45.787 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-04 15:57:45.802 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-04 15:57:45.805 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 15:57:45.807 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 16.6406ms
2025-04-04 15:57:45.808 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-04 15:57:45.810 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 29.3912ms
2025-04-04 15:57:46.228 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-04 15:57:46.231 +07:00 [INF] CORS policy execution successful.
2025-04-04 15:57:46.232 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 15:57:46.233 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-04 15:57:46.257 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-04 15:57:46.262 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-04 15:57:46.263 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 29.0428ms
2025-04-04 15:57:46.265 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-04 15:57:46.266 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 37.956ms
2025-04-05 08:18:37.853 +07:00 [INF] User profile is available. Using 'C:\Users\24182\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-05 08:18:38.314 +07:00 [INF] Now listening on: http://localhost:5118
2025-04-05 08:18:38.397 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-05 08:18:38.399 +07:00 [INF] Hosting environment: Development
2025-04-05 08:18:38.400 +07:00 [INF] Content root path: D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI
2025-04-05 08:18:42.299 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/index.html - null null
2025-04-05 08:18:42.613 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/index.html - 200 null text/html;charset=utf-8 322.978ms
2025-04-05 08:18:42.628 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/swagger-ui.css - null null
2025-04-05 08:18:42.628 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/_framework/aspnetcore-browser-refresh.js - null null
2025-04-05 08:18:42.628 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/swagger-ui-standalone-preset.js - null null
2025-04-05 08:18:42.628 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/index.css - null null
2025-04-05 08:18:42.626 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/swagger-ui-bundle.js - null null
2025-04-05 08:18:42.630 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/index.js - null null
2025-04-05 08:18:42.646 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 25.1953ms
2025-04-05 08:18:42.648 +07:00 [INF] The file /swagger-ui.css was not modified
2025-04-05 08:18:42.648 +07:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2025-04-05 08:18:42.650 +07:00 [INF] The file /index.css was not modified
2025-04-05 08:18:42.652 +07:00 [INF] The file /swagger-ui-bundle.js was not modified
2025-04-05 08:18:42.655 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/index.js - 200 null application/javascript;charset=utf-8 25.5558ms
2025-04-05 08:18:42.660 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/swagger-ui.css - 304 null text/css 34.0289ms
2025-04-05 08:18:42.661 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/swagger-ui-standalone-preset.js - 304 null text/javascript 37.7239ms
2025-04-05 08:18:42.662 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/index.css - 304 null text/css 41.2525ms
2025-04-05 08:18:42.663 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/swagger-ui-bundle.js - 304 null text/javascript 40.8401ms
2025-04-05 08:18:42.795 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/_vs/browserLink - null null
2025-04-05 08:18:42.839 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.103ms
2025-04-05 08:18:42.962 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/v1/swagger.json - null null
2025-04-05 08:18:43.065 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 102.9163ms
2025-04-05 08:18:57.910 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 08:18:57.924 +07:00 [INF] CORS policy execution successful.
2025-04-05 08:18:57.928 +07:00 [WRN] Failed to determine the https port for redirect.
2025-04-05 08:18:58.057 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:18:58.086 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 08:18:59.774 +07:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 08:18:59.811 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 08:18:59.843 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 1750.5336ms
2025-04-05 08:18:59.861 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:18:59.869 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 1959.3336ms
2025-04-05 08:20:42.451 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 08:20:42.456 +07:00 [INF] CORS policy execution successful.
2025-04-05 08:20:42.463 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:20:42.465 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 08:20:42.493 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 08:20:42.497 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 08:20:42.499 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 31.7168ms
2025-04-05 08:20:42.500 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:20:42.502 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 52.2877ms
2025-04-05 08:20:55.650 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 08:20:55.654 +07:00 [INF] CORS policy execution successful.
2025-04-05 08:20:55.658 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:20:55.659 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 08:20:55.729 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 08:20:55.733 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 08:20:55.734 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 72.0521ms
2025-04-05 08:20:55.735 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:20:55.737 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 87.0844ms
2025-04-05 08:20:57.225 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 08:20:57.229 +07:00 [INF] CORS policy execution successful.
2025-04-05 08:20:57.231 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:20:57.232 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 08:20:57.241 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 08:20:57.247 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 08:20:57.251 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 16.4365ms
2025-04-05 08:20:57.254 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:20:57.259 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 33.6741ms
2025-04-05 08:22:12.361 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 08:22:12.366 +07:00 [INF] CORS policy execution successful.
2025-04-05 08:22:12.367 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:22:12.369 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 08:22:12.375 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 08:22:12.379 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 08:22:12.380 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.8299ms
2025-04-05 08:22:12.382 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:22:12.384 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 26.9802ms
2025-04-05 08:22:23.648 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 08:22:23.652 +07:00 [INF] CORS policy execution successful.
2025-04-05 08:22:23.653 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:22:23.655 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 08:22:23.661 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 08:22:23.664 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 08:22:23.665 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.418ms
2025-04-05 08:22:23.666 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:22:23.668 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 19.3338ms
2025-04-05 08:22:25.198 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 08:22:25.202 +07:00 [INF] CORS policy execution successful.
2025-04-05 08:22:25.203 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:22:25.205 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 08:22:25.212 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 08:22:25.217 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 08:22:25.220 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 11.6803ms
2025-04-05 08:22:25.222 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:22:25.224 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 25.2588ms
2025-04-05 08:22:59.220 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 08:22:59.227 +07:00 [INF] CORS policy execution successful.
2025-04-05 08:22:59.227 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:22:59.228 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 08:22:59.237 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 08:22:59.243 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 08:22:59.245 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 14.7027ms
2025-04-05 08:22:59.246 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:22:59.248 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 27.6914ms
2025-04-05 08:25:13.731 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 08:25:13.740 +07:00 [INF] CORS policy execution successful.
2025-04-05 08:25:13.741 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:25:13.742 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 08:25:13.748 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 08:25:13.754 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 08:25:13.755 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 11.6594ms
2025-04-05 08:25:13.758 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:25:13.759 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 28.0224ms
2025-04-05 08:25:35.729 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 08:25:35.732 +07:00 [INF] CORS policy execution successful.
2025-04-05 08:25:35.733 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:25:35.734 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 08:25:35.741 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 08:25:35.745 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 08:25:35.748 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 12.0078ms
2025-04-05 08:25:35.749 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:25:35.751 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 22.0387ms
2025-04-05 08:32:38.903 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 08:32:38.908 +07:00 [INF] CORS policy execution successful.
2025-04-05 08:32:38.909 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:32:38.911 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 08:32:38.928 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 08:32:38.936 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 08:32:38.937 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 24.8126ms
2025-04-05 08:32:38.939 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:32:38.940 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 38.1345ms
2025-04-05 08:36:02.725 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 08:36:02.732 +07:00 [INF] CORS policy execution successful.
2025-04-05 08:36:02.733 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:36:02.734 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 08:36:02.740 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 08:36:02.743 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 08:36:02.744 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.4221ms
2025-04-05 08:36:02.746 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 08:36:02.747 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 21.5433ms
2025-04-05 09:24:31.723 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 09:24:31.731 +07:00 [INF] CORS policy execution successful.
2025-04-05 09:24:31.732 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 09:24:31.733 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 09:24:31.749 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 09:24:31.751 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 09:24:31.753 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 18.8907ms
2025-04-05 09:24:31.755 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 09:24:31.756 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 32.8105ms
2025-04-05 09:38:10.711 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 09:38:10.721 +07:00 [INF] CORS policy execution successful.
2025-04-05 09:38:10.722 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 09:38:10.724 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 09:38:10.747 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 09:38:10.751 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 09:38:10.752 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 26.6877ms
2025-04-05 09:38:10.754 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 09:38:10.755 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 44.0966ms
2025-04-05 09:38:14.444 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 09:38:14.447 +07:00 [INF] CORS policy execution successful.
2025-04-05 09:38:14.449 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 09:38:14.450 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 09:38:14.455 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 09:38:14.459 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 09:38:14.460 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.9084ms
2025-04-05 09:38:14.462 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 09:38:14.464 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 20.0812ms
2025-04-05 09:47:36.714 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 09:47:36.718 +07:00 [INF] CORS policy execution successful.
2025-04-05 09:47:36.720 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 09:47:36.721 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 09:47:36.739 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 09:47:36.742 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 09:47:36.745 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 21.5484ms
2025-04-05 09:47:36.746 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 09:47:36.748 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 33.9226ms
2025-04-05 09:47:39.026 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 09:47:39.029 +07:00 [INF] CORS policy execution successful.
2025-04-05 09:47:39.030 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 09:47:39.031 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 09:47:39.037 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 09:47:39.041 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 09:47:39.043 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.1655ms
2025-04-05 09:47:39.045 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 09:47:39.046 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 19.8813ms
2025-04-05 09:56:27.698 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 09:56:27.703 +07:00 [INF] CORS policy execution successful.
2025-04-05 09:56:27.704 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 09:56:27.705 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 09:56:27.727 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 09:56:27.731 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 09:56:27.732 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 24.1761ms
2025-04-05 09:56:27.734 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 09:56:27.735 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 37.1595ms
2025-04-05 10:06:50.403 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:06:50.410 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:06:50.411 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:06:50.413 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:06:50.434 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:06:50.438 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:06:50.439 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 24.4234ms
2025-04-05 10:06:50.441 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:06:50.442 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 38.9427ms
2025-04-05 10:09:43.561 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:09:43.569 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:09:43.570 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:09:43.571 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:09:43.578 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:09:43.583 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:09:43.584 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.4227ms
2025-04-05 10:09:43.586 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:09:43.588 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 27.5079ms
2025-04-05 10:10:02.469 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:10:02.473 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:10:02.475 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:10:02.477 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:10:02.490 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:10:02.494 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:10:02.498 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 19.011ms
2025-04-05 10:10:02.500 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:10:02.503 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 33.2356ms
2025-04-05 10:10:37.995 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:10:37.999 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:10:38.000 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:10:38.002 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:10:38.008 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:10:38.015 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:10:38.017 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 12.6928ms
2025-04-05 10:10:38.018 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:10:38.020 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 24.6658ms
2025-04-05 10:10:46.998 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:10:47.001 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:10:47.003 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:10:47.004 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:10:47.010 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:10:47.014 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:10:47.015 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.5464ms
2025-04-05 10:10:47.016 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:10:47.017 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 19.8486ms
2025-04-05 10:11:02.680 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:11:02.683 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:11:02.684 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:11:02.685 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:11:02.693 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:11:02.697 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:11:02.698 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 11.3311ms
2025-04-05 10:11:02.699 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:11:02.701 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 20.8981ms
2025-04-05 10:12:15.690 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:12:15.697 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:12:15.698 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:12:15.699 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:12:15.704 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:12:15.707 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:12:15.708 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.0927ms
2025-04-05 10:12:15.710 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:12:15.711 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 21.3391ms
2025-04-05 10:12:43.679 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:12:43.696 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:12:43.697 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:12:43.698 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:12:43.705 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:12:43.709 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:12:43.711 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.1318ms
2025-04-05 10:12:43.713 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:12:43.714 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 34.5435ms
2025-04-05 10:28:08.105 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:28:08.108 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:28:08.110 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:28:08.111 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:28:08.127 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:28:08.130 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:28:08.132 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 19.4137ms
2025-04-05 10:28:08.134 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:28:08.136 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 30.4125ms
2025-04-05 10:28:40.367 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:28:40.375 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:28:40.376 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:28:40.378 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:28:40.383 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:28:40.387 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:28:40.389 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.1965ms
2025-04-05 10:28:40.391 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:28:40.392 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 24.6223ms
2025-04-05 10:29:40.237 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:29:40.245 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:29:40.246 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:29:40.248 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:29:40.254 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:29:40.256 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:29:40.258 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.9575ms
2025-04-05 10:29:40.259 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:29:40.261 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 23.9376ms
2025-04-05 10:33:32.690 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:33:32.698 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:33:32.699 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:33:32.700 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:33:32.706 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:33:32.710 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:33:32.711 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.7913ms
2025-04-05 10:33:32.713 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:33:32.714 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 24.3213ms
2025-04-05 10:35:19.296 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:35:19.303 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:35:19.304 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:35:19.305 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:35:19.315 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:35:19.318 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:35:19.319 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 12.3783ms
2025-04-05 10:35:19.321 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:35:19.322 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 26.1408ms
2025-04-05 10:36:52.704 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:36:52.711 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:36:52.712 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:36:52.714 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:36:52.729 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:36:52.733 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:36:52.735 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 17.0606ms
2025-04-05 10:36:52.737 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:36:52.738 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 34.115ms
2025-04-05 10:37:00.023 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:37:00.027 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:37:00.028 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:37:00.029 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:37:00.041 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:37:00.045 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:37:00.047 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 15.3296ms
2025-04-05 10:37:00.049 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:37:00.050 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 26.9449ms
2025-04-05 10:41:36.672 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:41:36.680 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:41:36.681 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:41:36.683 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:41:36.699 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:41:36.703 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:41:36.704 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 18.9136ms
2025-04-05 10:41:36.706 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:41:36.708 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 35.9357ms
2025-04-05 10:44:05.690 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:44:05.696 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:44:05.697 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:44:05.698 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:44:05.704 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:44:05.707 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:44:05.709 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.4204ms
2025-04-05 10:44:05.710 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:44:05.711 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 21.2667ms
2025-04-05 10:44:10.892 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:44:10.895 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:44:10.896 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:44:10.897 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:44:10.906 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:44:10.909 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:44:10.911 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.2825ms
2025-04-05 10:44:10.912 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:44:10.913 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 21.4548ms
2025-04-05 10:45:58.295 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:45:58.300 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:45:58.301 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:45:58.302 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:45:58.308 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:45:58.313 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:45:58.314 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.424ms
2025-04-05 10:45:58.316 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:45:58.317 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 23.0921ms
2025-04-05 10:46:01.918 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:46:01.921 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:46:01.922 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:46:01.923 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:46:01.928 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:46:01.932 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:46:01.933 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.1813ms
2025-04-05 10:46:01.935 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:46:01.936 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 17.8924ms
2025-04-05 10:50:29.211 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:50:29.217 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:50:29.218 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:50:29.219 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:50:29.231 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:50:29.237 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:50:29.240 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 18.5698ms
2025-04-05 10:50:29.241 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:50:29.243 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 32.3454ms
2025-04-05 10:54:12.390 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:54:12.393 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:54:12.395 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:54:12.396 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:54:12.402 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:54:12.405 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:54:12.407 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.7428ms
2025-04-05 10:54:12.408 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:54:12.409 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 18.7295ms
2025-04-05 10:54:26.670 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:54:26.674 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:54:26.676 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:54:26.678 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:54:26.684 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:54:26.689 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:54:26.692 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 11.2529ms
2025-04-05 10:54:26.694 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:54:26.695 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 25.202ms
2025-04-05 10:58:32.083 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 10:58:32.091 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:58:32.092 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:58:32.098 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 10:58:32.223 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 10:58:32.228 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:58:32.246 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 145.6861ms
2025-04-05 10:58:32.249 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:58:32.250 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 167.4572ms
2025-04-05 10:58:32.380 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:58:32.383 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:58:32.385 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:58:32.386 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:58:32.414 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:58:32.417 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:58:32.419 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 30.3572ms
2025-04-05 10:58:32.421 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:58:32.422 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 42.2327ms
2025-04-05 10:58:33.431 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 10:58:33.434 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:58:33.435 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:58:33.436 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 10:58:33.443 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 10:58:33.448 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:58:33.450 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 11.9496ms
2025-04-05 10:58:33.451 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:58:33.452 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 21.4767ms
2025-04-05 10:58:33.748 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-05 10:58:33.751 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:58:33.752 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-05 10:58:33.756 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-05 10:58:33.767 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-05 10:58:33.770 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:58:33.773 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 15.1011ms
2025-04-05 10:58:33.775 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-05 10:58:33.776 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 28.8719ms
2025-04-05 10:58:34.100 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 10:58:34.104 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:58:34.106 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:58:34.107 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 10:58:34.113 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 10:58:34.115 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:58:34.117 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.9353ms
2025-04-05 10:58:34.118 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:58:34.119 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 19.3567ms
2025-04-05 10:58:36.100 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-05 10:58:36.104 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:58:36.105 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-05 10:58:36.107 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-05 10:58:36.111 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-05 10:58:36.113 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:58:36.115 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 6.1359ms
2025-04-05 10:58:36.116 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-05 10:58:36.117 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 16.7395ms
2025-04-05 10:58:37.923 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 10:58:37.926 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:58:37.927 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:58:37.928 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 10:58:37.932 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 10:58:37.935 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:58:37.937 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.374ms
2025-04-05 10:58:37.939 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:58:37.940 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 17.4749ms
2025-04-05 10:58:39.432 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:58:39.436 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:58:39.437 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:58:39.439 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:58:39.465 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:58:39.469 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:58:39.471 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 30.5373ms
2025-04-05 10:58:39.472 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:58:39.473 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 40.9917ms
2025-04-05 10:58:40.224 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 10:58:40.229 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:58:40.231 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:58:40.232 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 10:58:40.238 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 10:58:40.241 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:58:40.243 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.2179ms
2025-04-05 10:58:40.244 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:58:40.246 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 22.0639ms
2025-04-05 10:58:40.713 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:58:40.717 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:58:40.718 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:58:40.719 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:58:40.747 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:58:40.751 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:58:40.753 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 30.6484ms
2025-04-05 10:58:40.755 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:58:40.757 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 44.0003ms
2025-04-05 10:58:42.234 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 10:58:42.238 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:58:42.240 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:58:42.241 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 10:58:42.246 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 10:58:42.248 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:58:42.249 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.4998ms
2025-04-05 10:58:42.251 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:58:42.253 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 18.8735ms
2025-04-05 10:58:42.758 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:58:42.761 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:58:42.763 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:58:42.764 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:58:42.791 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:58:42.794 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:58:42.796 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 29.4793ms
2025-04-05 10:58:42.797 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:58:42.798 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 40.5418ms
2025-04-05 10:58:43.268 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 10:58:43.273 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:58:43.274 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:58:43.274 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 10:58:43.278 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 10:58:43.281 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:58:43.282 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.126ms
2025-04-05 10:58:43.284 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:58:43.286 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 17.5386ms
2025-04-05 10:58:43.738 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:58:43.742 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:58:43.743 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:58:43.744 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:58:43.772 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:58:43.775 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:58:43.776 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 29.9497ms
2025-04-05 10:58:43.777 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:58:43.779 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 41.0479ms
2025-04-05 10:58:44.224 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 10:58:44.227 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:58:44.228 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:58:44.229 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 10:58:44.233 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 10:58:44.235 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:58:44.237 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.9863ms
2025-04-05 10:58:44.239 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:58:44.240 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.4104ms
2025-04-05 10:58:44.627 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:58:44.631 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:58:44.631 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:58:44.633 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:58:44.659 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:58:44.663 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:58:44.664 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 29.6306ms
2025-04-05 10:58:44.666 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:58:44.667 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 40.5588ms
2025-04-05 10:58:45.776 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 10:58:45.780 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:58:45.781 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:58:45.782 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 10:58:45.786 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 10:58:45.789 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:58:45.791 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.2011ms
2025-04-05 10:58:45.792 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:58:45.794 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 17.6528ms
2025-04-05 10:58:46.514 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:58:46.518 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:58:46.519 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:58:46.520 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:58:46.548 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:58:46.551 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:58:46.553 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 30.3028ms
2025-04-05 10:58:46.554 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:58:46.556 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 41.6539ms
2025-04-05 10:58:46.821 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 10:58:46.825 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:58:46.826 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:58:46.827 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 10:58:46.831 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 10:58:46.833 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:58:46.835 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.9545ms
2025-04-05 10:58:46.837 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:58:46.838 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.8245ms
2025-04-05 10:58:47.274 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:58:47.277 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:58:47.278 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:58:47.280 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:58:47.306 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:58:47.309 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:58:47.311 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 29.8986ms
2025-04-05 10:58:47.313 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:58:47.314 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 39.856ms
2025-04-05 10:59:08.539 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 10:59:08.548 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:59:08.549 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:59:08.551 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 10:59:08.556 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 10:59:08.561 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:59:08.563 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 10.319ms
2025-04-05 10:59:08.564 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:59:08.566 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 26.9205ms
2025-04-05 10:59:09.393 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:59:09.397 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:59:09.398 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:59:09.399 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:59:09.427 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:59:09.431 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:59:09.432 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 30.263ms
2025-04-05 10:59:09.433 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:59:09.434 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 41.1173ms
2025-04-05 10:59:16.770 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:59:16.775 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:59:16.776 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:59:16.778 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:59:16.784 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:59:16.787 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:59:16.789 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.5287ms
2025-04-05 10:59:16.790 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:59:16.791 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 20.9634ms
2025-04-05 10:59:17.340 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 10:59:17.344 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:59:17.345 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:59:17.348 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 10:59:17.351 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 10:59:17.354 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:59:17.356 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.3818ms
2025-04-05 10:59:17.357 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:59:17.358 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 18.0824ms
2025-04-05 10:59:18.362 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:59:18.365 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:59:18.366 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:59:18.367 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:59:18.393 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:59:18.397 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:59:18.398 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 28.3529ms
2025-04-05 10:59:18.399 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:59:18.400 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 38.2852ms
2025-04-05 10:59:19.285 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 10:59:19.289 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:59:19.290 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:59:19.291 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 10:59:19.295 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 10:59:19.297 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:59:19.299 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.6121ms
2025-04-05 10:59:19.300 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:59:19.301 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.1655ms
2025-04-05 10:59:21.239 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:59:21.242 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:59:21.243 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:59:21.244 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:59:21.270 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:59:21.273 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:59:21.275 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 29.5506ms
2025-04-05 10:59:21.277 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:59:21.278 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 39.024ms
2025-04-05 10:59:21.603 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 10:59:21.607 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:59:21.609 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:59:21.611 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 10:59:21.615 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 10:59:21.623 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:59:21.625 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 12.3367ms
2025-04-05 10:59:21.627 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:59:21.628 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 25.3657ms
2025-04-05 10:59:21.965 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:59:21.969 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:59:21.970 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:59:21.971 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:59:21.996 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:59:22.000 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:59:22.002 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 28.3492ms
2025-04-05 10:59:22.004 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:59:22.005 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 40.0023ms
2025-04-05 10:59:22.219 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 10:59:22.221 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:59:22.223 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:59:22.224 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 10:59:22.228 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 10:59:22.230 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:59:22.231 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.5273ms
2025-04-05 10:59:22.233 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:59:22.234 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 15.3019ms
2025-04-05 10:59:22.841 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:59:22.844 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:59:22.845 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:59:22.847 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:59:22.872 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:59:22.875 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:59:22.877 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 26.8676ms
2025-04-05 10:59:22.878 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:59:22.879 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 38.0443ms
2025-04-05 10:59:23.084 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 10:59:23.088 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:59:23.090 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:59:23.091 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 10:59:23.094 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 10:59:23.097 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:59:23.098 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.1668ms
2025-04-05 10:59:23.099 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:59:23.100 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 15.9963ms
2025-04-05 10:59:27.066 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:59:27.069 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:59:27.071 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:59:27.073 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:59:27.099 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:59:27.104 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:59:27.107 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 31.8122ms
2025-04-05 10:59:27.109 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:59:27.110 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 44.0291ms
2025-04-05 10:59:27.932 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 10:59:27.937 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:59:27.937 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:59:27.939 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 10:59:27.942 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 10:59:27.944 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:59:27.946 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.4748ms
2025-04-05 10:59:27.947 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:59:27.948 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 15.9069ms
2025-04-05 10:59:30.477 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:59:30.481 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:59:30.482 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:59:30.483 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:59:30.510 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:59:30.513 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:59:30.515 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 30.2365ms
2025-04-05 10:59:30.517 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:59:30.518 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 41.1994ms
2025-04-05 10:59:30.809 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-05 10:59:30.813 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:59:30.814 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-05 10:59:30.815 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-05 10:59:30.819 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-05 10:59:30.822 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:59:30.823 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 6.8292ms
2025-04-05 10:59:30.825 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-05 10:59:30.826 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 16.672ms
2025-04-05 10:59:31.581 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 10:59:31.585 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:59:31.586 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:59:31.588 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 10:59:31.592 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 10:59:31.594 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:59:31.596 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.6062ms
2025-04-05 10:59:31.598 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 10:59:31.599 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 17.6749ms
2025-04-05 10:59:31.850 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 10:59:31.854 +07:00 [INF] CORS policy execution successful.
2025-04-05 10:59:31.855 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:59:31.857 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 10:59:31.884 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 10:59:31.887 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 10:59:31.888 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 29.7191ms
2025-04-05 10:59:31.890 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 10:59:31.891 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 41.1514ms
2025-04-05 11:01:43.015 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:01:43.021 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:01:43.022 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:01:43.023 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:01:43.029 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 11:01:43.032 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:01:43.034 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.621ms
2025-04-05 11:01:43.035 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:01:43.037 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 22.0843ms
2025-04-05 11:01:47.437 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:01:47.440 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:01:47.441 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:01:47.442 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:01:47.450 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 11:01:47.453 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:01:47.454 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.0797ms
2025-04-05 11:01:47.456 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:01:47.457 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 19.7077ms
2025-04-05 11:01:55.654 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:01:55.657 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:01:55.658 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:01:55.659 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:01:55.664 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 11:01:55.667 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:01:55.669 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.9086ms
2025-04-05 11:01:55.670 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:01:55.671 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 17.2013ms
2025-04-05 11:13:31.678 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:13:31.684 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:13:31.685 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:13:31.687 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:13:31.703 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 11:13:31.713 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:13:31.715 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 25.4829ms
2025-04-05 11:13:31.716 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:13:31.717 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 38.982ms
2025-04-05 11:14:42.446 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:14:42.453 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:14:42.454 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:14:42.455 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:14:42.460 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 11:14:42.463 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:14:42.464 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.2904ms
2025-04-05 11:14:42.465 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:14:42.467 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 20.6331ms
2025-04-05 11:14:45.043 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:14:45.046 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:14:45.047 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:14:45.048 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:14:45.054 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 11:14:45.057 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:14:45.058 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.9455ms
2025-04-05 11:14:45.059 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:14:45.061 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 18.1132ms
2025-04-05 11:14:50.948 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:14:50.952 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:14:50.954 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 6.1751ms
2025-04-05 11:14:50.962 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 124
2025-04-05 11:14:50.964 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:14:50.966 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 11:14:50.974 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:14:51.022 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-05 11:14:51.041 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 64.1216ms
2025-04-05 11:14:51.043 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 11:14:51.044 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 400 null application/problem+json; charset=utf-8 82.3876ms
2025-04-05 11:16:59.661 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:16:59.668 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:16:59.669 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:16:59.670 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:16:59.675 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 11:16:59.679 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:16:59.681 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.1227ms
2025-04-05 11:16:59.685 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:16:59.687 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 25.843ms
2025-04-05 11:17:25.687 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem - application/json 146
2025-04-05 11:17:25.696 +07:00 [INF] CORS policy execution failed.
2025-04-05 11:17:25.697 +07:00 [INF] Request origin http://localhost:5118 does not have permission to access the resource.
2025-04-05 11:17:25.698 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 11:17:25.700 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:17:25.963 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CheckSheetItemMST] ([CancelFlag], [Content], [CreateAt], [CreateBy], [DataType], [IsRequire], [OrderNumber], [ParentId], [SheetId], [UpdateAt], [UpdateBy])
OUTPUT INSERTED.[ItemId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-04-05 11:17:26.024 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'DMCheckSheetAPI.Data.CheckSheetDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_CheckSheetItemMST_CheckSheetMST_SheetId". The conflict occurred in database "DMCheckSheet", table "dbo.CheckSheetMST", column 'SheetId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f76ef745-ed92-49bf-96e0-c1c4a12d212a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_CheckSheetItemMST_CheckSheetMST_SheetId". The conflict occurred in database "DMCheckSheet", table "dbo.CheckSheetMST", column 'SheetId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f76ef745-ed92-49bf-96e0-c1c4a12d212a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-05 11:17:26.224 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 522.8122ms
2025-04-05 11:17:26.227 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 11:17:26.229 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_CheckSheetItemMST_CheckSheetMST_SheetId". The conflict occurred in database "DMCheckSheet", table "dbo.CheckSheetMST", column 'SheetId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f76ef745-ed92-49bf-96e0-c1c4a12d212a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at DMCheckSheetAPI.Repositories.Implementation.CheckSheetItemRepository.CreateAsync(CheckSheetItemMST checkSheetItemMST) in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Repositories\Implementation\CheckSheetItemRepository.cs:line 22
   at DMCheckSheetAPI.Services.CheckSheetItemServices.CreateItem(CreateItemDTO createItemDTO) in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Services\CheckSheetItemServices.cs:line 38
   at DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem(CreateItemDTO createItemDTO) in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Controllers\CheckSheetItemController.cs:line 46
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-05 11:17:26.254 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem - 500 null text/plain; charset=utf-8 566.8081ms
2025-04-05 11:17:50.706 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:17:50.713 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:17:50.714 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:17:50.715 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:17:50.741 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 11:17:50.750 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:17:50.752 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 35.5299ms
2025-04-05 11:17:50.753 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:17:50.754 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 48.7084ms
2025-04-05 11:18:00.658 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:18:00.662 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:18:00.663 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:18:00.664 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:18:00.670 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 11:18:00.673 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:18:00.674 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.9755ms
2025-04-05 11:18:00.676 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:18:00.677 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 19.1026ms
2025-04-05 11:18:06.874 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:18:06.878 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:18:06.879 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 4.6219ms
2025-04-05 11:18:06.885 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 122
2025-04-05 11:18:06.887 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:18:06.888 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 11:18:06.889 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:18:06.892 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-05 11:18:06.894 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 3.3533ms
2025-04-05 11:18:06.896 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 11:18:06.897 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 400 null application/problem+json; charset=utf-8 12.175ms
2025-04-05 11:30:41.655 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:30:41.662 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:30:41.663 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:30:41.664 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:30:41.682 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 11:30:41.686 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:30:41.689 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 23.3966ms
2025-04-05 11:30:41.691 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:30:41.693 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 37.9233ms
2025-04-05 11:31:22.663 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:31:22.670 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:31:22.671 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:31:22.672 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:31:22.678 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 11:31:22.680 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:31:22.682 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 6.9583ms
2025-04-05 11:31:22.683 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:31:22.685 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 21.2117ms
2025-04-05 11:31:52.255 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:31:52.262 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:31:52.263 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:31:52.264 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:31:52.273 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 11:31:52.276 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:31:52.278 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 12.7098ms
2025-04-05 11:31:52.280 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:31:52.281 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 26.0039ms
2025-04-05 11:32:03.632 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 11:32:03.635 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:32:03.637 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:32:03.638 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 11:32:03.646 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 11:32:03.654 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:32:03.656 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 14.5587ms
2025-04-05 11:32:03.658 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:32:03.660 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 28.1296ms
2025-04-05 11:32:07.248 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 11:32:07.251 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:32:07.252 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:32:07.254 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 11:32:07.258 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:32:07.262 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 11:32:07.266 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:32:07.270 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:32:07.271 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:32:07.273 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 14.4388ms
2025-04-05 11:32:07.274 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:32:07.275 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:32:07.279 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 30.9038ms
2025-04-05 11:32:07.315 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 11:32:07.318 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:32:07.320 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 42.8807ms
2025-04-05 11:32:07.321 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:32:07.322 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 64.0371ms
2025-04-05 11:32:51.458 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 11:32:51.470 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:32:51.472 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:32:51.473 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 11:32:51.478 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 11:32:51.491 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:32:51.492 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 17.6527ms
2025-04-05 11:32:51.494 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:32:51.495 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 37.9555ms
2025-04-05 11:32:53.793 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 11:32:53.796 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:32:53.798 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:32:53.799 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 11:32:53.803 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:32:53.806 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 11:32:53.812 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:32:53.817 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:32:53.817 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:32:53.819 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 17.1107ms
2025-04-05 11:32:53.820 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:32:53.821 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:32:53.826 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 32.4349ms
2025-04-05 11:32:53.891 +07:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 11:32:53.894 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:32:53.896 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 71.9884ms
2025-04-05 11:32:53.897 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:32:53.898 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 95.4145ms
2025-04-05 11:36:43.639 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 11:36:43.647 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:36:43.648 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:36:43.649 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 11:36:43.654 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 11:36:43.662 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:36:43.664 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 12.9313ms
2025-04-05 11:36:43.666 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:36:43.667 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 27.8848ms
2025-04-05 11:36:45.922 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 11:36:45.925 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:36:45.926 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:36:45.927 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 11:36:45.927 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:36:45.931 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 11:36:45.937 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:36:45.939 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:36:45.940 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:36:45.941 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 12.6245ms
2025-04-05 11:36:45.943 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:36:45.944 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:36:45.948 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 26.2806ms
2025-04-05 11:36:45.997 +07:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 11:36:46.000 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:36:46.002 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 55.6785ms
2025-04-05 11:36:46.003 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:36:46.004 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 76.7269ms
2025-04-05 11:36:52.526 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 11:36:52.529 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:36:52.530 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:36:52.531 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:36:52.532 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 11:36:52.534 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:36:52.537 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:36:52.539 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 11:36:52.539 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:36:52.542 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:36:52.546 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 10.8232ms
2025-04-05 11:36:52.546 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 11:36:52.548 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:36:52.551 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:36:52.552 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 26.452ms
2025-04-05 11:36:52.554 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.4001ms
2025-04-05 11:36:52.559 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:36:52.560 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 29.6114ms
2025-04-05 11:37:37.757 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 11:37:37.765 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:37:37.766 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:37:37.767 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 11:37:37.772 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 11:37:37.778 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:37:37.779 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.9374ms
2025-04-05 11:37:37.780 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:37:37.782 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 24.8721ms
2025-04-05 11:37:42.813 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 11:37:42.816 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:37:42.817 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:37:42.818 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 11:37:42.819 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:37:42.824 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 11:37:42.828 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:37:42.832 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:37:42.833 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:37:42.835 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 14.4435ms
2025-04-05 11:37:42.837 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:37:42.839 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:37:42.843 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 30.1665ms
2025-04-05 11:37:42.890 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 11:37:42.893 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:37:42.895 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 54.588ms
2025-04-05 11:37:42.896 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:37:42.897 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 78.7094ms
2025-04-05 11:37:51.180 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 11:37:51.183 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:37:51.184 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:37:51.185 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:37:51.185 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 11:37:51.187 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:37:51.191 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:37:51.192 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 11:37:51.193 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:37:51.196 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:37:51.201 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 11:37:51.201 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 11.5655ms
2025-04-05 11:37:51.205 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:37:51.206 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:37:51.207 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.225ms
2025-04-05 11:37:51.209 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 28.9947ms
2025-04-05 11:37:51.210 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:37:51.215 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 30.0069ms
2025-04-05 11:41:31.680 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:41:31.686 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:41:31.687 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:41:31.688 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:41:31.693 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 11:41:31.696 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:41:31.698 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.5449ms
2025-04-05 11:41:31.700 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:41:31.701 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 21.7437ms
2025-04-05 11:41:35.605 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 11:41:35.608 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:41:35.609 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:41:35.610 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 11:41:35.616 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:41:35.616 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 11:41:35.624 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:41:35.626 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:41:35.627 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:41:35.628 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 15.0984ms
2025-04-05 11:41:35.630 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:41:35.631 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:41:35.635 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 29.4885ms
2025-04-05 11:41:35.645 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 11:41:35.650 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:41:35.652 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 19.4493ms
2025-04-05 11:41:35.654 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:41:35.656 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 40.4246ms
2025-04-05 11:48:57.517 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 11:48:57.520 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:48:57.522 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:48:57.522 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 11:48:57.528 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 11:48:57.532 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:48:57.535 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:48:57.537 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 11:48:57.549 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 11:48:57.552 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:48:57.555 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 11:48:57.560 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 25.8684ms
2025-04-05 11:48:57.563 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:48:57.565 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:48:57.566 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 22.8831ms
2025-04-05 11:48:57.567 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 50.164ms
2025-04-05 11:48:57.569 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 11:48:57.573 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 50.6042ms
2025-04-05 11:54:22.613 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 11:54:22.616 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:54:22.618 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:54:22.619 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 11:54:22.636 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 11:54:22.639 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:54:22.641 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 19.8278ms
2025-04-05 11:54:22.643 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:54:22.645 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 32.2228ms
2025-04-05 11:56:07.660 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 11:56:07.666 +07:00 [INF] CORS policy execution successful.
2025-04-05 11:56:07.667 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:56:07.668 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 11:56:07.673 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 11:56:07.679 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 11:56:07.681 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 10.4597ms
2025-04-05 11:56:07.682 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 11:56:07.683 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 23.7942ms
2025-04-05 12:42:20.792 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 12:42:20.800 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:42:20.802 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 12:42:20.804 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 12:42:20.831 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 12:42:20.834 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 12:42:20.835 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 29.0245ms
2025-04-05 12:42:20.837 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 12:42:20.838 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 46.1944ms
2025-04-05 12:43:31.630 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 12:43:31.636 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:43:31.637 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:43:31.638 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 12:43:31.664 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 12:43:31.668 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 12:43:31.669 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 29.9804ms
2025-04-05 12:43:31.671 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:43:31.672 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 42.0601ms
2025-04-05 12:43:59.612 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 12:43:59.614 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:43:59.615 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:43:59.616 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 12:43:59.621 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 12:43:59.629 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 12:43:59.630 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 12.5473ms
2025-04-05 12:43:59.632 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:43:59.634 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 21.6098ms
2025-04-05 12:44:08.632 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 12:44:08.636 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:44:08.637 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:44:08.638 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 12:44:08.642 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 12:44:08.645 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 12:44:08.646 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 6.1ms
2025-04-05 12:44:08.647 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:44:08.649 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 16.6175ms
2025-04-05 12:44:12.639 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 12:44:12.643 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:44:12.644 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:44:12.645 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 12:44:12.650 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 12:44:12.654 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 12:44:12.656 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.2696ms
2025-04-05 12:44:12.658 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:44:12.660 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 21.1667ms
2025-04-05 12:44:15.999 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 12:44:16.003 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 12:44:16.007 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:44:16.010 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:44:16.011 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 12:44:16.012 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:44:16.013 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 12:44:16.014 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 12:44:16.019 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 12:44:16.033 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 12:44:16.035 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 19.1091ms
2025-04-05 12:44:16.036 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 12:44:16.038 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 39.0458ms
2025-04-05 12:44:16.043 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 12:44:16.050 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 12:44:16.052 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 31.1688ms
2025-04-05 12:44:16.054 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:44:16.055 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 52.5144ms
2025-04-05 12:50:31.624 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 12:50:31.627 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 12:50:31.630 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:50:31.633 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:50:31.633 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 12:50:31.634 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:50:31.635 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 12:50:31.636 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 12:50:31.651 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 12:50:31.653 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 12:50:31.656 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 12:50:31.656 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 17.5606ms
2025-04-05 12:50:31.659 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 12:50:31.660 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 12:50:31.661 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 16.5274ms
2025-04-05 12:50:31.662 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 38.1709ms
2025-04-05 12:50:31.663 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:50:31.667 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 39.3923ms
2025-04-05 12:50:37.051 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 12:50:37.053 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 12:50:37.056 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:50:37.058 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:50:37.058 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 12:50:37.059 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:50:37.060 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 12:50:37.061 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 12:50:37.065 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 12:50:37.073 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 12:50:37.074 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 11.6574ms
2025-04-05 12:50:37.076 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 12:50:37.077 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 25.7774ms
2025-04-05 12:50:37.095 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 12:50:37.099 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 12:50:37.100 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 30.8588ms
2025-04-05 12:50:37.102 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:50:37.103 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 50.1971ms
2025-04-05 12:51:30.638 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 12:51:30.638 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 12:51:30.648 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:51:30.651 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:51:30.652 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 12:51:30.653 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:51:30.654 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 12:51:30.656 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 12:51:30.661 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 12:51:30.700 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 12:51:30.701 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 42.7265ms
2025-04-05 12:51:30.703 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 12:51:30.704 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 66.1806ms
2025-04-05 12:51:30.720 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 12:51:30.723 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 12:51:30.725 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 63.0656ms
2025-04-05 12:51:30.726 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:51:30.728 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 90.1023ms
2025-04-05 12:51:33.198 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 12:51:33.199 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 12:51:33.202 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:51:33.205 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:51:33.205 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 12:51:33.206 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:51:33.207 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 12:51:33.208 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 12:51:33.212 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 12:51:33.216 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 12:51:33.219 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 8.6679ms
2025-04-05 12:51:33.220 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 12:51:33.221 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 23.009ms
2025-04-05 12:51:33.237 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 12:51:33.240 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 12:51:33.242 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 28.6692ms
2025-04-05 12:51:33.243 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:51:33.244 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 44.9569ms
2025-04-05 12:51:41.215 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 12:51:41.218 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:51:41.220 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 4.5639ms
2025-04-05 12:51:41.223 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 121
2025-04-05 12:51:41.225 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:51:41.226 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 12:51:41.227 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 12:51:41.232 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-05 12:51:41.234 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 5.1075ms
2025-04-05 12:51:41.235 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 12:51:41.237 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 400 null application/problem+json; charset=utf-8 14.0976ms
2025-04-05 12:52:30.055 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 12:52:30.060 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:52:30.061 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 6.3539ms
2025-04-05 12:52:30.068 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 121
2025-04-05 12:52:30.071 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:52:30.072 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 12:52:30.072 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 12:52:30.076 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-05 12:52:30.077 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 2.9983ms
2025-04-05 12:52:30.079 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 12:52:30.081 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 400 null application/problem+json; charset=utf-8 12.4205ms
2025-04-05 12:53:03.636 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 12:53:03.639 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:53:03.639 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:53:03.640 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 12:53:03.667 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 12:53:03.671 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 12:53:03.672 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 29.9091ms
2025-04-05 12:53:03.674 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:53:03.675 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 39.5233ms
2025-04-05 12:53:05.470 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 12:53:05.472 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:53:05.473 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 3.7636ms
2025-04-05 12:53:05.481 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 121
2025-04-05 12:53:05.484 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:53:05.484 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 12:53:05.485 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 12:53:05.489 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-05 12:53:05.491 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 3.6331ms
2025-04-05 12:53:05.492 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 12:53:05.493 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 400 null application/problem+json; charset=utf-8 12.6666ms
2025-04-05 12:53:07.455 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 12:53:07.456 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 12:53:07.458 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:53:07.461 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:53:07.461 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 12:53:07.462 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:53:07.463 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 12:53:07.465 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 12:53:07.470 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 12:53:07.479 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 12:53:07.479 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 12:53:07.482 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 12:53:07.484 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 16.7054ms
2025-04-05 12:53:07.486 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.6798ms
2025-04-05 12:53:07.487 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 12:53:07.489 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:53:07.490 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 35.8208ms
2025-04-05 12:53:07.492 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 35.9307ms
2025-04-05 12:53:12.865 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 12:53:12.868 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:53:12.869 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 4.3405ms
2025-04-05 12:53:12.872 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 121
2025-04-05 12:53:12.874 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:53:12.875 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 12:53:12.876 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 12:53:12.879 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-05 12:53:12.881 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 3.0995ms
2025-04-05 12:53:12.882 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 12:53:12.884 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 400 null application/problem+json; charset=utf-8 11.6595ms
2025-04-05 12:55:35.608 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 12:55:35.610 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 12:55:35.616 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:55:35.618 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:55:35.619 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 12:55:35.620 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:55:35.621 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 12:55:35.622 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 12:55:35.629 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 12:55:35.634 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 12:55:35.634 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 12:55:35.637 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 12:55:35.638 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 13.482ms
2025-04-05 12:55:35.640 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.8881ms
2025-04-05 12:55:35.641 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 12:55:35.643 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:55:35.644 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 35.1877ms
2025-04-05 12:55:35.645 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 35.094ms
2025-04-05 12:55:44.663 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 12:55:44.665 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:55:44.666 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 3.5277ms
2025-04-05 12:55:44.669 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 121
2025-04-05 12:55:44.672 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:55:44.673 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 12:55:44.674 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 12:55:44.677 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-05 12:55:44.678 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 2.4242ms
2025-04-05 12:55:44.680 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 12:55:44.681 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 400 null application/problem+json; charset=utf-8 11.263ms
2025-04-05 12:55:53.830 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 12:55:53.832 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:55:53.833 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 3.4586ms
2025-04-05 12:55:53.836 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 121
2025-04-05 12:55:53.839 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:55:53.839 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 12:55:53.841 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 12:55:53.844 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-05 12:55:53.845 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 2.332ms
2025-04-05 12:55:53.847 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 12:55:53.849 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 400 null application/problem+json; charset=utf-8 12.0959ms
2025-04-05 12:56:42.623 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 12:56:42.630 +07:00 [INF] CORS policy execution successful.
2025-04-05 12:56:42.631 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:56:42.632 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 12:56:42.636 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 12:56:42.640 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 12:56:42.643 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.2169ms
2025-04-05 12:56:42.644 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 12:56:42.646 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 22.815ms
2025-04-05 13:12:57.303 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:12:57.313 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:12:57.315 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:12:57.316 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:12:57.336 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:12:57.339 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:12:57.341 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 23.9205ms
2025-04-05 13:12:57.342 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:12:57.344 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 41.215ms
2025-04-05 13:13:02.803 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:13:02.807 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:13:02.808 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:13:02.808 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:13:02.818 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:13:02.821 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:13:02.823 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:13:02.824 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:13:02.825 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:13:02.827 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:13:02.832 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.2987ms
2025-04-05 13:13:02.832 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:13:02.833 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:13:02.837 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:13:02.838 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 34.7036ms
2025-04-05 13:13:02.840 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.6645ms
2025-04-05 13:13:02.845 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:13:02.847 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 38.2616ms
2025-04-05 13:13:10.204 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:13:10.208 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:13:10.209 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 5.4232ms
2025-04-05 13:13:10.213 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 125
2025-04-05 13:13:10.215 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:13:10.216 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:13:10.217 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:13:10.240 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CheckSheetItemMST] ([CancelFlag], [Content], [CreateAt], [CreateBy], [DataType], [IsRequire], [OrderNumber], [ParentId], [SheetId], [UpdateAt], [UpdateBy])
OUTPUT INSERTED.[ItemId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-04-05 13:13:10.261 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-05 13:13:10.282 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 62.9195ms
2025-04-05 13:13:10.285 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:13:10.286 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 201 null application/json; charset=utf-8 72.7591ms
2025-04-05 13:13:40.799 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:13:40.816 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:13:40.818 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:13:40.846 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:13:40.850 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:13:40.851 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 30.623ms
2025-04-05 13:13:40.852 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:13:40.854 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 54.9048ms
2025-04-05 13:13:43.642 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:13:43.643 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:13:43.646 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:13:43.648 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:13:43.649 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:13:43.650 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:13:43.651 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:13:43.652 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:13:43.657 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:13:43.670 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:13:43.672 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 17.8901ms
2025-04-05 13:13:43.674 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:13:43.675 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 33.3741ms
2025-04-05 13:13:43.680 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:13:43.685 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:13:43.686 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 27.5698ms
2025-04-05 13:13:43.687 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:13:43.688 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 45.7278ms
2025-04-05 13:14:36.622 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:14:36.629 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:14:36.630 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:14:36.630 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:14:36.636 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:14:36.639 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:14:36.641 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.5018ms
2025-04-05 13:14:36.642 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:14:36.643 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 20.4338ms
2025-04-05 13:14:48.715 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:14:48.722 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:14:48.723 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 8.1413ms
2025-04-05 13:14:48.726 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 125
2025-04-05 13:14:48.728 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:14:48.730 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:14:48.731 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:14:48.781 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CheckSheetItemMST] ([CancelFlag], [Content], [CreateAt], [CreateBy], [DataType], [IsRequire], [OrderNumber], [ParentId], [SheetId], [UpdateAt], [UpdateBy])
OUTPUT INSERTED.[ItemId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-04-05 13:14:48.785 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-05 13:14:48.787 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 54.956ms
2025-04-05 13:14:48.789 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:14:48.790 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 201 null application/json; charset=utf-8 63.6779ms
2025-04-05 13:14:48.793 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:14:48.796 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:14:48.797 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:14:48.798 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:14:48.825 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:14:48.828 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:14:48.829 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 28.6257ms
2025-04-05 13:14:48.830 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:14:48.832 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 38.7003ms
2025-04-05 13:15:10.123 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:15:10.129 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:15:10.130 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 7.2195ms
2025-04-05 13:15:10.138 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 122
2025-04-05 13:15:10.141 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:15:10.142 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:15:10.143 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:15:10.157 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CheckSheetItemMST] ([CancelFlag], [Content], [CreateAt], [CreateBy], [DataType], [IsRequire], [OrderNumber], [ParentId], [SheetId], [UpdateAt], [UpdateBy])
OUTPUT INSERTED.[ItemId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-04-05 13:15:10.161 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-05 13:15:10.163 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 17.6185ms
2025-04-05 13:15:10.165 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:15:10.166 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 201 null application/json; charset=utf-8 27.7958ms
2025-04-05 13:15:10.170 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:15:10.173 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:15:10.174 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:15:10.175 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:15:10.202 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:15:10.205 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:15:10.207 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 29.7367ms
2025-04-05 13:15:10.208 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:15:10.209 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 39.272ms
2025-04-05 13:17:35.679 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:17:35.686 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:17:35.687 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:17:35.688 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:17:35.692 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:17:35.697 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:17:35.698 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 8.8494ms
2025-04-05 13:17:35.700 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:17:35.701 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 21.5521ms
2025-04-05 13:17:42.898 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:17:42.901 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:17:42.902 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 3.932ms
2025-04-05 13:17:42.907 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 124
2025-04-05 13:17:42.910 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:17:42.910 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:17:42.912 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:17:42.929 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CheckSheetItemMST] ([CancelFlag], [Content], [CreateAt], [CreateBy], [DataType], [IsRequire], [OrderNumber], [ParentId], [SheetId], [UpdateAt], [UpdateBy])
OUTPUT INSERTED.[ItemId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-04-05 13:17:42.933 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-05 13:17:42.935 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 20.0083ms
2025-04-05 13:17:42.936 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:17:42.938 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 201 null application/json; charset=utf-8 30.6231ms
2025-04-05 13:17:42.941 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:17:42.943 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:17:42.944 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:17:42.945 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:17:42.987 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:17:42.992 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:17:42.993 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 46.3457ms
2025-04-05 13:17:42.995 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:17:42.996 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 55.0731ms
2025-04-05 13:18:36.181 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:18:36.189 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:18:36.189 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:18:36.190 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:18:36.194 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:18:36.200 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:18:36.202 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.68ms
2025-04-05 13:18:36.203 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:18:36.204 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 23.242ms
2025-04-05 13:18:37.758 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-05 13:18:37.763 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:18:37.764 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-05 13:18:37.766 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-05 13:18:37.769 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:18:37.772 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:18:37.773 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.9309ms
2025-04-05 13:18:37.775 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-05 13:18:37.777 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 18.2209ms
2025-04-05 13:18:39.160 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:18:39.164 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:18:39.165 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:18:39.167 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:18:39.171 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:18:39.173 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:18:39.175 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.1893ms
2025-04-05 13:18:39.176 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:18:39.177 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 17.5165ms
2025-04-05 13:18:40.320 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:18:40.321 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:18:40.326 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:18:40.329 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:18:40.330 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:18:40.330 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:18:40.331 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:18:40.332 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:18:40.337 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:18:40.343 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:18:40.344 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.2123ms
2025-04-05 13:18:40.345 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:18:40.346 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 26.4643ms
2025-04-05 13:18:40.351 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:18:40.356 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:18:40.359 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 21.4339ms
2025-04-05 13:18:40.360 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:18:40.362 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 40.313ms
2025-04-05 13:18:43.444 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:18:43.452 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:18:43.453 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:18:43.455 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:18:43.460 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:18:43.463 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:18:43.465 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.0219ms
2025-04-05 13:18:43.467 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:18:43.468 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 24.1194ms
2025-04-05 13:18:43.717 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-05 13:18:43.721 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:18:43.722 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-05 13:18:43.722 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-05 13:18:43.726 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:18:43.728 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:18:43.730 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.8593ms
2025-04-05 13:18:43.731 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-05 13:18:43.733 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 15.7802ms
2025-04-05 13:18:44.260 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:18:44.264 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:18:44.266 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:18:44.267 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:18:44.271 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:18:44.273 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:18:44.275 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.0791ms
2025-04-05 13:18:44.276 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:18:44.278 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 17.5216ms
2025-04-05 13:18:44.518 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:18:44.519 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:18:44.521 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:18:44.524 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:18:44.524 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:18:44.525 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:18:44.526 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:18:44.528 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:18:44.531 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:18:44.536 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:18:44.537 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.8452ms
2025-04-05 13:18:44.538 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:18:44.540 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 22.2234ms
2025-04-05 13:18:44.568 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:18:44.571 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:18:44.572 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 39.8336ms
2025-04-05 13:18:44.574 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:18:44.575 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 56.5957ms
2025-04-05 13:19:16.155 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:19:16.162 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:19:16.163 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:19:16.164 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:19:16.168 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:19:16.173 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:19:16.174 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 8.514ms
2025-04-05 13:19:16.176 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:19:16.177 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 22.0266ms
2025-04-05 13:19:21.232 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:19:21.235 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:19:21.237 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 4.141ms
2025-04-05 13:19:21.240 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 124
2025-04-05 13:19:21.242 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:19:21.244 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:19:21.245 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:19:21.249 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-05 13:19:21.251 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 2.8697ms
2025-04-05 13:19:21.252 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:19:21.254 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 400 null application/problem+json; charset=utf-8 13.748ms
2025-04-05 13:19:21.258 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:19:21.263 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:19:21.264 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:19:21.266 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:19:21.306 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:19:21.310 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:19:21.313 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 43.2079ms
2025-04-05 13:19:21.314 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:19:21.316 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 57.6849ms
2025-04-05 13:19:29.366 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:19:29.368 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:19:29.369 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:19:29.372 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:19:29.372 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:19:29.373 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:19:29.375 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:19:29.376 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:19:29.384 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:19:29.387 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:19:29.389 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 11.0256ms
2025-04-05 13:19:29.391 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:19:29.393 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 26.9694ms
2025-04-05 13:19:29.407 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:19:29.411 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:19:29.412 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 31.2173ms
2025-04-05 13:19:29.414 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:19:29.415 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 47.656ms
2025-04-05 13:19:36.522 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:19:36.526 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:19:36.527 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 5.2843ms
2025-04-05 13:19:36.531 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 124
2025-04-05 13:19:36.534 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:19:36.535 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:19:36.536 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:19:36.539 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-05 13:19:36.541 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 3.0038ms
2025-04-05 13:19:36.544 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:19:36.545 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 400 null application/problem+json; charset=utf-8 13.7733ms
2025-04-05 13:19:36.551 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:19:36.554 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:19:36.555 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:19:36.556 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:19:36.561 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:19:36.564 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:19:36.566 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.8158ms
2025-04-05 13:19:36.567 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:19:36.569 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 18.071ms
2025-04-05 13:20:54.456 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:20:54.463 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:20:54.464 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:20:54.465 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:20:54.504 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:20:54.508 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:20:54.509 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 42.9161ms
2025-04-05 13:20:54.511 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:20:54.512 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 56.5872ms
2025-04-05 13:21:00.233 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:21:00.236 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:21:00.237 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 3.7507ms
2025-04-05 13:21:00.245 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 124
2025-04-05 13:21:00.247 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:21:00.248 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:21:00.249 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:21:00.252 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-05 13:21:00.253 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 2.2359ms
2025-04-05 13:21:00.255 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:21:00.256 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 400 null application/problem+json; charset=utf-8 10.8206ms
2025-04-05 13:21:00.260 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:21:00.263 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:21:00.264 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:21:00.266 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:21:00.272 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:21:00.276 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:21:00.279 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.919ms
2025-04-05 13:21:00.281 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:21:00.282 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 22.3641ms
2025-04-05 13:21:05.070 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:21:05.084 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:21:05.087 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:21:05.093 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:21:05.096 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:21:05.099 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.7789ms
2025-04-05 13:21:05.101 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:21:05.102 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 32.2751ms
2025-04-05 13:22:16.627 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:22:16.631 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:22:16.632 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:22:16.633 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:22:16.639 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:22:16.641 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:22:16.643 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.4623ms
2025-04-05 13:22:16.645 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:22:16.646 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 19.0734ms
2025-04-05 13:22:49.314 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:22:49.317 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:22:49.325 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:22:49.328 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:22:49.329 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:22:49.329 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:22:49.331 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:22:49.332 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:22:49.339 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:22:49.350 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:22:49.351 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 16.3147ms
2025-04-05 13:22:49.353 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:22:49.354 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 39.7565ms
2025-04-05 13:22:49.360 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:22:49.365 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:22:49.366 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 28.508ms
2025-04-05 13:22:49.368 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:22:49.369 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 51.3673ms
2025-04-05 13:22:56.662 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:22:56.665 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:22:56.666 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 4.042ms
2025-04-05 13:22:56.670 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 124
2025-04-05 13:22:56.673 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:22:56.674 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:22:56.676 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:22:56.680 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-05 13:22:56.681 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 2.9062ms
2025-04-05 13:22:56.683 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:22:56.685 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 400 null application/problem+json; charset=utf-8 14.7034ms
2025-04-05 13:22:56.689 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:22:56.692 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:22:56.693 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:22:56.694 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:22:56.700 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:22:56.703 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:22:56.705 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.3603ms
2025-04-05 13:22:56.707 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:22:56.708 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 19.5474ms
2025-04-05 13:23:32.607 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:23:32.608 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:23:32.614 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:23:32.616 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:23:32.616 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:23:32.617 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:23:32.618 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:23:32.619 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:23:32.625 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:23:32.629 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:23:32.631 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.7334ms
2025-04-05 13:23:32.632 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:23:32.633 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 26.0223ms
2025-04-05 13:23:32.652 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:23:32.656 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:23:32.658 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 31.2828ms
2025-04-05 13:23:32.660 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:23:32.661 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 52.6233ms
2025-04-05 13:23:38.984 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:23:38.989 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:23:38.989 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 4.9341ms
2025-04-05 13:23:38.993 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 126
2025-04-05 13:23:38.996 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:23:38.997 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:23:38.998 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:23:39.011 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CheckSheetItemMST] ([CancelFlag], [Content], [CreateAt], [CreateBy], [DataType], [IsRequire], [OrderNumber], [ParentId], [SheetId], [UpdateAt], [UpdateBy])
OUTPUT INSERTED.[ItemId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-04-05 13:23:39.014 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-05 13:23:39.016 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 15.7578ms
2025-04-05 13:23:39.019 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:23:39.020 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 201 null application/json; charset=utf-8 27.1929ms
2025-04-05 13:23:39.024 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:23:39.027 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:23:39.028 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:23:39.029 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:23:39.055 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:23:39.058 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:23:39.060 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 29.0485ms
2025-04-05 13:23:39.062 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:23:39.063 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 39.3682ms
2025-04-05 13:24:13.225 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:24:13.234 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:24:13.235 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 10.5347ms
2025-04-05 13:24:13.245 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 127
2025-04-05 13:24:13.249 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:24:13.251 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:24:13.253 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:24:13.272 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CheckSheetItemMST] ([CancelFlag], [Content], [CreateAt], [CreateBy], [DataType], [IsRequire], [OrderNumber], [ParentId], [SheetId], [UpdateAt], [UpdateBy])
OUTPUT INSERTED.[ItemId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-04-05 13:24:13.274 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-05 13:24:13.276 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 19.7938ms
2025-04-05 13:24:13.278 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:24:13.279 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 201 null application/json; charset=utf-8 33.6032ms
2025-04-05 13:24:13.283 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:24:13.286 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:24:13.288 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:24:13.289 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:24:13.314 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:24:13.318 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:24:13.320 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 29.1094ms
2025-04-05 13:24:13.322 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:24:13.324 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 40.9542ms
2025-04-05 13:25:49.931 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:25:49.935 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:25:49.940 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:25:49.942 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:25:49.942 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:25:49.943 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:25:49.944 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:25:49.945 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:25:49.951 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:25:49.956 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:25:49.957 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:25:49.957 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 10.7469ms
2025-04-05 13:25:49.960 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:25:49.961 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:25:49.962 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.2316ms
2025-04-05 13:25:49.963 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 32.18ms
2025-04-05 13:25:49.964 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:25:49.968 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 32.8091ms
2025-04-05 13:25:58.336 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:25:58.341 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:25:58.342 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:25:58.343 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:25:58.346 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:25:58.349 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:25:58.350 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.6889ms
2025-04-05 13:25:58.352 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:25:58.353 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 17.0883ms
2025-04-05 13:26:00.551 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:26:00.551 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:26:00.554 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:26:00.556 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:26:00.557 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:26:00.558 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:26:00.559 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:26:00.559 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:26:00.563 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:26:00.568 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:26:00.569 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 8.0888ms
2025-04-05 13:26:00.571 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:26:00.572 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 21.3255ms
2025-04-05 13:26:00.590 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:26:00.593 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:26:00.595 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 30.0112ms
2025-04-05 13:26:00.596 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:26:00.598 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 47.2459ms
2025-04-05 13:27:36.754 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:27:36.758 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:27:36.759 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:27:36.760 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:27:36.765 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:27:36.773 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:27:36.774 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 12.0266ms
2025-04-05 13:27:36.776 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:27:36.778 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 23.1098ms
2025-04-05 13:27:37.940 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:27:37.941 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:27:37.943 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:27:37.946 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:27:37.946 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:27:37.947 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:27:37.948 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:27:37.949 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:27:37.953 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:27:37.961 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:27:37.962 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:27:37.965 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:27:37.966 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 15.4273ms
2025-04-05 13:27:37.967 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.329ms
2025-04-05 13:27:37.968 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:27:37.970 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:27:37.971 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 31.6896ms
2025-04-05 13:27:37.973 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 31.9743ms
2025-04-05 13:27:55.963 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:27:55.966 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:27:55.967 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:27:55.968 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:27:55.972 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:27:55.974 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:27:55.975 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.4916ms
2025-04-05 13:27:55.977 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:27:55.978 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 15.6631ms
2025-04-05 13:27:56.914 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-05 13:27:56.917 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:27:56.918 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-05 13:27:56.919 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-05 13:27:56.922 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:27:56.924 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:27:56.926 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.1711ms
2025-04-05 13:27:56.927 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-05 13:27:56.929 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 14.9034ms
2025-04-05 13:27:57.476 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:27:57.481 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:27:57.482 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:27:57.483 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:27:57.486 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:27:57.489 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:27:57.491 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.0927ms
2025-04-05 13:27:57.492 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:27:57.494 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 18.0482ms
2025-04-05 13:27:57.964 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:27:57.964 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:27:57.968 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:27:57.970 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:27:57.971 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:27:57.972 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:27:57.973 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:27:57.974 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:27:57.977 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:27:57.982 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:27:57.983 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.8333ms
2025-04-05 13:27:57.985 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:27:57.986 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 22.3394ms
2025-04-05 13:27:58.003 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:27:58.007 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:27:58.008 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 29.8698ms
2025-04-05 13:27:58.010 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:27:58.012 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 47.2468ms
2025-04-05 13:28:27.668 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:28:27.675 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:28:27.676 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:28:27.677 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:28:27.681 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:28:27.686 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:28:27.687 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 8.535ms
2025-04-05 13:28:27.689 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:28:27.691 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 23.0936ms
2025-04-05 13:28:32.618 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:28:32.620 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:28:32.622 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:28:32.624 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:28:32.625 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:28:32.626 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:28:32.628 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:28:32.629 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:28:32.634 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:28:32.644 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:28:32.646 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 14.5271ms
2025-04-05 13:28:32.647 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:28:32.648 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 30.1866ms
2025-04-05 13:28:32.664 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:28:32.667 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:28:32.669 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 33.5351ms
2025-04-05 13:28:32.670 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:28:32.671 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 51.7547ms
2025-04-05 13:29:02.115 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-05 13:29:02.122 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:29:02.123 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-05 13:29:02.124 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-05 13:29:02.129 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:29:02.136 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:29:02.137 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 11.1026ms
2025-04-05 13:29:02.138 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-05 13:29:02.140 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 24.4345ms
2025-04-05 13:29:45.528 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:29:45.536 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:29:45.537 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:29:45.538 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:29:45.543 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:29:45.545 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:29:45.547 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.857ms
2025-04-05 13:29:45.549 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:29:45.551 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 23.0376ms
2025-04-05 13:29:46.752 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:29:46.753 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:29:46.760 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:29:46.762 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:29:46.763 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:29:46.764 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:29:46.765 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:29:46.766 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:29:46.771 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:29:46.779 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:29:46.781 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 12.773ms
2025-04-05 13:29:46.782 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:29:46.783 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 31.6588ms
2025-04-05 13:29:46.801 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:29:46.804 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:29:46.806 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 31.236ms
2025-04-05 13:29:46.808 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:29:46.809 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 56.3823ms
2025-04-05 13:29:51.122 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:29:51.125 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:29:51.127 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:29:51.128 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:29:51.132 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:29:51.134 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:29:51.135 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.4299ms
2025-04-05 13:29:51.137 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:29:51.138 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.1585ms
2025-04-05 13:32:38.887 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:32:38.892 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:32:38.895 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:32:38.898 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:32:38.899 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:32:38.900 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:32:38.901 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:32:38.903 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:32:38.910 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:32:38.916 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:32:38.917 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 12.2631ms
2025-04-05 13:32:38.920 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:32:38.921 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 35.0027ms
2025-04-05 13:32:38.937 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:32:38.940 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:32:38.942 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 29.5992ms
2025-04-05 13:32:38.943 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:32:38.944 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 53.3024ms
2025-04-05 13:37:57.618 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:37:57.625 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:37:57.625 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:37:57.626 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:37:57.642 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:37:57.645 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:37:57.646 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 18.1885ms
2025-04-05 13:37:57.648 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:37:57.649 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 31.0321ms
2025-04-05 13:52:16.302 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:52:16.307 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:52:16.311 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:52:16.314 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:52:16.315 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:52:16.316 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:52:16.318 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:52:16.319 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:52:16.339 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:52:16.343 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:52:16.346 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:52:16.347 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 23.9496ms
2025-04-05 13:52:16.350 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:52:16.351 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:52:16.353 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 24.035ms
2025-04-05 13:52:16.354 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 52.2512ms
2025-04-05 13:52:16.356 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:52:16.360 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 52.7861ms
2025-04-05 13:53:02.805 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:53:02.809 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:53:02.810 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 5.227ms
2025-04-05 13:53:02.818 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 126
2025-04-05 13:53:02.821 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:53:02.822 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:53:02.823 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:53:02.841 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CheckSheetItemMST] ([CancelFlag], [Content], [CreateAt], [CreateBy], [DataType], [IsRequire], [OrderNumber], [ParentId], [SheetId], [UpdateAt], [UpdateBy])
OUTPUT INSERTED.[ItemId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-04-05 13:53:02.845 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-05 13:53:02.847 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 21.4907ms
2025-04-05 13:53:02.849 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:53:02.850 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 201 null application/json; charset=utf-8 31.7629ms
2025-04-05 13:53:02.853 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:53:02.856 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:53:02.857 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:53:02.858 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:53:02.884 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:53:02.887 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:53:02.889 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 29.5655ms
2025-04-05 13:53:02.890 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:53:02.891 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 38.039ms
2025-04-05 13:53:18.708 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:53:18.712 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:53:18.713 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 4.9508ms
2025-04-05 13:53:18.716 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 126
2025-04-05 13:53:18.720 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:53:18.721 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:53:18.722 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:53:18.739 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CheckSheetItemMST] ([CancelFlag], [Content], [CreateAt], [CreateBy], [DataType], [IsRequire], [OrderNumber], [ParentId], [SheetId], [UpdateAt], [UpdateBy])
OUTPUT INSERTED.[ItemId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-04-05 13:53:18.743 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-05 13:53:18.745 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 20.7479ms
2025-04-05 13:53:18.747 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 13:53:18.748 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 201 null application/json; charset=utf-8 31.5443ms
2025-04-05 13:53:18.751 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:53:18.754 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:53:18.754 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:53:18.755 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:53:18.760 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:53:18.763 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:53:18.765 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.5102ms
2025-04-05 13:53:18.766 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:53:18.767 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 16.0609ms
2025-04-05 13:53:55.689 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:53:55.699 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:53:55.704 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:53:55.707 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:53:55.709 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:53:55.710 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:53:55.712 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:53:55.713 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:53:55.717 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:53:55.725 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:53:55.726 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 11.5088ms
2025-04-05 13:53:55.728 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:53:55.729 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 39.462ms
2025-04-05 13:53:55.747 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:53:55.750 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:53:55.752 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 33.4122ms
2025-04-05 13:53:55.754 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:53:55.755 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 55.9279ms
2025-04-05 13:54:02.051 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 13:54:02.055 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:54:02.055 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:54:02.057 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 13:54:02.060 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 13:54:02.063 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:54:02.064 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.5162ms
2025-04-05 13:54:02.065 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 13:54:02.066 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 14.9709ms
2025-04-05 13:57:57.623 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 13:57:57.630 +07:00 [INF] CORS policy execution successful.
2025-04-05 13:57:57.631 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:57:57.632 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 13:57:57.652 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 13:57:57.655 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 13:57:57.657 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 22.9771ms
2025-04-05 13:57:57.658 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 13:57:57.660 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 37.3887ms
2025-04-05 14:00:39.622 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:00:39.629 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:00:39.630 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:00:39.631 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:00:39.637 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:00:39.640 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:00:39.642 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.6257ms
2025-04-05 14:00:39.643 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:00:39.644 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 22.1157ms
2025-04-05 14:01:45.588 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:01:45.595 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:01:45.596 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:01:45.597 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:01:45.625 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:01:45.628 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:01:45.630 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 30.8503ms
2025-04-05 14:01:45.632 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:01:45.633 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 44.9574ms
2025-04-05 14:01:58.593 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:01:58.597 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:01:58.598 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:01:58.600 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:01:58.660 +07:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:01:58.663 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:01:58.665 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 62.502ms
2025-04-05 14:01:58.666 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:01:58.668 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 74.3689ms
2025-04-05 14:02:17.588 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:02:17.591 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:02:17.591 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:02:17.592 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:02:17.597 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:02:17.600 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:02:17.601 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.5593ms
2025-04-05 14:02:17.603 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:02:17.604 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 16.367ms
2025-04-05 14:03:04.351 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:03:04.358 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:03:04.359 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:03:04.362 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:03:04.363 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:03:04.364 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:03:04.365 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:03:04.366 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:03:04.373 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:03:04.380 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:03:04.386 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 18.7943ms
2025-04-05 14:03:04.388 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:03:04.388 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:03:04.391 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:03:04.392 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 40.6542ms
2025-04-05 14:03:04.394 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 20.9515ms
2025-04-05 14:03:04.398 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:03:04.399 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 41.0481ms
2025-04-05 14:03:31.519 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:03:31.525 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:03:31.526 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 7.6995ms
2025-04-05 14:03:31.535 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 95
2025-04-05 14:03:31.537 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:03:31.538 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 14:03:31.539 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:03:31.559 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CheckSheetItemMST] ([CancelFlag], [Content], [CreateAt], [CreateBy], [DataType], [IsRequire], [OrderNumber], [ParentId], [SheetId], [UpdateAt], [UpdateBy])
OUTPUT INSERTED.[ItemId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-04-05 14:03:31.562 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-05 14:03:31.564 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 22.5813ms
2025-04-05 14:03:31.566 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 14:03:31.568 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 201 null application/json; charset=utf-8 33.3813ms
2025-04-05 14:03:31.571 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:03:31.573 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:03:31.574 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:03:31.575 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:03:31.803 +07:00 [INF] Executed DbCommand (226ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:03:31.806 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:03:31.807 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 230.7379ms
2025-04-05 14:03:31.809 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:03:31.810 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 239.0014ms
2025-04-05 14:03:57.039 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:03:57.045 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:03:57.046 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:03:57.047 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:03:57.051 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:03:57.057 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:03:57.058 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.6392ms
2025-04-05 14:03:57.059 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:03:57.061 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 22.0742ms
2025-04-05 14:03:57.971 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:03:57.971 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:03:57.977 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:03:57.980 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:03:57.980 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:03:57.981 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:03:57.982 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:03:57.983 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:03:57.993 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:03:58.000 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:03:58.002 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 17.3265ms
2025-04-05 14:03:58.005 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:03:58.005 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:03:58.009 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:03:58.010 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 38.8465ms
2025-04-05 14:03:58.011 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 22.8614ms
2025-04-05 14:03:58.016 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:03:58.017 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 46.0688ms
2025-04-05 14:03:58.302 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:03:58.305 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:03:58.306 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:03:58.307 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:03:58.311 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:03:58.313 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:03:58.315 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.1419ms
2025-04-05 14:03:58.317 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:03:58.318 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.2069ms
2025-04-05 14:03:59.819 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-05 14:03:59.822 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:03:59.823 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-05 14:03:59.824 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-05 14:03:59.828 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:03:59.830 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:03:59.832 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.5997ms
2025-04-05 14:03:59.833 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-05 14:03:59.834 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 15.5442ms
2025-04-05 14:04:00.944 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:04:00.949 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:04:00.950 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:04:00.951 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:04:00.959 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:04:00.962 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:04:00.963 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 10.2959ms
2025-04-05 14:04:00.965 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:04:00.967 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 22.2351ms
2025-04-05 14:04:02.233 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:04:02.235 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:04:02.237 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:04:02.239 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:04:02.239 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:04:02.240 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:04:02.241 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:04:02.242 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:04:02.246 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:04:02.250 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:04:02.252 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.9959ms
2025-04-05 14:04:02.253 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:04:02.254 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 21.2538ms
2025-04-05 14:04:02.340 +07:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:04:02.344 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:04:02.346 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 99.6554ms
2025-04-05 14:04:02.349 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:04:02.350 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 115.1127ms
2025-04-05 14:05:35.232 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:05:35.237 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:05:35.240 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:05:35.244 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:05:35.245 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:05:35.246 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:05:35.247 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:05:35.249 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:05:35.255 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:05:35.261 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:05:35.262 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:05:35.263 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 12.7669ms
2025-04-05 14:05:35.267 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:05:35.269 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:05:35.271 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 14.9076ms
2025-04-05 14:05:35.272 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 40.2933ms
2025-04-05 14:05:35.274 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:05:35.280 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 43.1383ms
2025-04-05 14:07:24.741 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:07:24.747 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:07:24.752 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:07:24.756 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:07:24.757 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:07:24.758 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:07:24.759 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:07:24.760 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:07:24.773 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:07:24.782 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:07:24.783 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 20.7021ms
2025-04-05 14:07:24.785 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:07:24.786 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 45.7052ms
2025-04-05 14:07:24.799 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:07:24.802 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:07:24.804 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 34.3492ms
2025-04-05 14:07:24.806 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:07:24.807 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 59.8288ms
2025-04-05 14:07:42.829 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:07:42.834 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:07:42.835 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:07:42.836 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:07:42.840 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:07:42.843 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:07:42.845 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.3438ms
2025-04-05 14:07:42.847 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:07:42.848 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 19.0904ms
2025-04-05 14:07:43.202 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-05 14:07:43.206 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:07:43.206 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-05 14:07:43.208 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-05 14:07:43.211 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:07:43.214 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:07:43.216 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 6.7853ms
2025-04-05 14:07:43.218 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-05 14:07:43.219 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 16.87ms
2025-04-05 14:07:43.599 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:07:43.602 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:07:43.603 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:07:43.604 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:07:43.608 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:07:43.610 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:07:43.612 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.7302ms
2025-04-05 14:07:43.613 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:07:43.615 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.1853ms
2025-04-05 14:07:44.336 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:07:44.337 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:07:44.340 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:07:44.342 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:07:44.343 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:07:44.344 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:07:44.345 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:07:44.346 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:07:44.350 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:07:44.356 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:07:44.358 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.6718ms
2025-04-05 14:07:44.360 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:07:44.361 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 24.554ms
2025-04-05 14:07:44.409 +07:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:07:44.412 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:07:44.413 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 60.7244ms
2025-04-05 14:07:44.415 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:07:44.416 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 79.5106ms
2025-04-05 14:07:44.987 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:07:44.992 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:07:44.993 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:07:44.994 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:07:44.999 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:07:45.002 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:07:45.004 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.6945ms
2025-04-05 14:07:45.006 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:07:45.008 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 20.3623ms
2025-04-05 14:07:45.375 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-05 14:07:45.379 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:07:45.380 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-05 14:07:45.380 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-05 14:07:45.384 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:07:45.387 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:07:45.388 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.584ms
2025-04-05 14:07:45.389 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-05 14:07:45.390 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 15.3317ms
2025-04-05 14:07:49.564 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:07:49.569 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:07:49.571 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:07:49.573 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:07:49.577 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:07:49.580 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:07:49.581 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.8478ms
2025-04-05 14:07:49.582 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:07:49.584 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 19.472ms
2025-04-05 14:07:50.821 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:07:50.822 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:07:50.824 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:07:50.827 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:07:50.829 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:07:50.829 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:07:50.830 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:07:50.831 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:07:50.835 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:07:50.839 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:07:50.841 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 8.3071ms
2025-04-05 14:07:50.843 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:07:50.845 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 23.943ms
2025-04-05 14:07:50.861 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:07:50.866 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:07:50.867 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 31.0736ms
2025-04-05 14:07:50.868 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:07:50.870 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 48.502ms
2025-04-05 14:08:52.249 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/31 - null null
2025-04-05 14:08:52.254 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:08:52.255 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/31 - 204 null null 7.5241ms
2025-04-05 14:08:52.279 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/31 - application/json 123
2025-04-05 14:08:52.287 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:08:52.288 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateItem (DMCheckSheetAPI)'
2025-04-05 14:08:52.302 +07:00 [INF] Route matched with {action = "UpdateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateItem(Int32, DMCheckSheetAPI.Models.DTO.CheckSheetItem.UpdateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:08:52.340 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:08:52.367 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CheckSheetItemMST] SET [OrderNumber] = @p0, [UpdateAt] = @p1, [UpdateBy] = @p2
OUTPUT 1
WHERE [ItemId] = @p3;
2025-04-05 14:08:52.371 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-05 14:08:52.373 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateItem (DMCheckSheetAPI) in 68.1512ms
2025-04-05 14:08:52.375 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateItem (DMCheckSheetAPI)'
2025-04-05 14:08:52.376 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/31 - 200 null application/json; charset=utf-8 96.4495ms
2025-04-05 14:08:52.379 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:08:52.382 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:08:52.383 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:08:52.384 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:08:52.390 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:08:52.394 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:08:52.395 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 8.5846ms
2025-04-05 14:08:52.397 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:08:52.399 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 19.3357ms
2025-04-05 14:10:10.126 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:10:10.135 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:10:10.136 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:10:10.137 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:10:10.142 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:10:10.147 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:10:10.149 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.7223ms
2025-04-05 14:10:10.152 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:10:10.153 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 26.9707ms
2025-04-05 14:10:11.133 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:10:11.133 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:10:11.136 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:10:11.138 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:10:11.139 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:10:11.140 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:10:11.141 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:10:11.142 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:10:11.146 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:10:11.150 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:10:11.150 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:10:11.153 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:10:11.154 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 11.1193ms
2025-04-05 14:10:11.156 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.9302ms
2025-04-05 14:10:11.157 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:10:11.159 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:10:11.160 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 26.6831ms
2025-04-05 14:10:11.161 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 27.5098ms
2025-04-05 14:13:28.603 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:13:28.610 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:13:28.615 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:13:28.619 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:13:28.620 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:13:28.621 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:13:28.623 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:13:28.624 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:13:28.630 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:13:28.636 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:13:28.636 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:13:28.637 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 10.9532ms
2025-04-05 14:13:28.640 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:13:28.641 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:13:28.642 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.1608ms
2025-04-05 14:13:28.643 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 39.9992ms
2025-04-05 14:13:28.644 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:13:28.649 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 39.1444ms
2025-04-05 14:13:33.958 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:13:33.959 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:13:33.961 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:13:33.964 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:13:33.965 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:13:33.967 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:13:33.968 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:13:33.969 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:13:33.975 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:13:33.983 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:13:33.984 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:13:33.988 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:13:33.989 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 17.4723ms
2025-04-05 14:13:33.992 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 15.6832ms
2025-04-05 14:13:33.993 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:13:33.995 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:13:33.996 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 38.8628ms
2025-04-05 14:13:33.998 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 38.5406ms
2025-04-05 14:14:09.518 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:14:09.523 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:14:09.523 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 5.0028ms
2025-04-05 14:14:09.529 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 124
2025-04-05 14:14:09.532 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:14:09.533 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 14:14:09.534 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:14:09.555 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CheckSheetItemMST] ([CancelFlag], [Content], [CreateAt], [CreateBy], [DataType], [IsRequire], [OrderNumber], [ParentId], [SheetId], [UpdateAt], [UpdateBy])
OUTPUT INSERTED.[ItemId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-04-05 14:14:09.558 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-05 14:14:09.560 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 25.1126ms
2025-04-05 14:14:09.562 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-05 14:14:09.563 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 201 null application/json; charset=utf-8 33.9921ms
2025-04-05 14:14:09.570 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:14:09.573 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:14:09.574 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:14:09.575 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:14:09.580 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:14:09.583 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:14:09.584 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.342ms
2025-04-05 14:14:09.586 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:14:09.587 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 16.5505ms
2025-04-05 14:14:13.707 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:14:13.709 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:14:13.711 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:14:13.713 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:14:13.714 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:14:13.715 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:14:13.716 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:14:13.717 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:14:13.722 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:14:13.730 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:14:13.731 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 12.1001ms
2025-04-05 14:14:13.733 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:14:13.734 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 26.685ms
2025-04-05 14:14:13.754 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:14:13.758 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:14:13.760 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 36.0659ms
2025-04-05 14:14:13.761 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:14:13.762 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 53.8695ms
2025-04-05 14:14:50.174 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:14:50.179 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:14:50.180 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:14:50.181 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:14:50.186 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:14:50.189 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:14:50.191 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 7.6803ms
2025-04-05 14:14:50.192 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:14:50.194 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 20.1215ms
2025-04-05 14:29:14.614 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:29:14.619 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:29:14.620 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:29:14.621 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:29:14.637 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:29:14.640 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:29:14.642 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 18.1707ms
2025-04-05 14:29:14.644 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:29:14.645 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 30.5473ms
2025-04-05 14:32:35.604 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:32:35.612 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:32:35.613 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:32:35.614 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:32:35.619 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:32:35.626 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:32:35.627 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 11.9308ms
2025-04-05 14:32:35.629 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:32:35.630 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 26.2556ms
2025-04-05 14:32:57.601 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:32:57.607 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:32:57.608 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:32:57.609 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:32:57.614 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:32:57.620 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:32:57.621 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.8805ms
2025-04-05 14:32:57.623 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:32:57.624 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 23.5187ms
2025-04-05 14:33:08.607 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/[object Object]/cancel - null null
2025-04-05 14:33:08.610 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:33:08.610 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/[object Object]/cancel - 204 null null 4.2588ms
2025-04-05 14:33:08.617 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/[object Object]/cancel - null 0
2025-04-05 14:33:08.620 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:33:08.621 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:33:08.625 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:33:08.630 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-05 14:33:08.632 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 4.6518ms
2025-04-05 14:33:08.634 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:33:08.636 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/[object Object]/cancel - 400 null application/problem+json; charset=utf-8 18.5289ms
2025-04-05 14:33:59.547 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:33:59.555 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:33:59.556 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:33:59.557 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:33:59.562 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:33:59.565 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:33:59.567 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.0285ms
2025-04-05 14:33:59.569 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:33:59.570 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 23.7444ms
2025-04-05 14:34:01.656 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:34:01.658 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:34:01.665 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:34:01.668 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:34:01.669 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:34:01.669 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:34:01.671 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:34:01.672 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:34:01.677 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:34:01.686 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:34:01.695 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:34:01.696 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 21.6944ms
2025-04-05 14:34:01.700 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:34:01.702 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:34:01.703 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 25.5143ms
2025-04-05 14:34:01.704 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 47.4932ms
2025-04-05 14:34:01.705 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:34:01.709 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 50.6556ms
2025-04-05 14:34:12.632 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/[object Object]/cancel - null null
2025-04-05 14:34:12.635 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:34:12.636 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/[object Object]/cancel - 204 null null 3.8292ms
2025-04-05 14:34:12.639 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/[object Object]/cancel - null 0
2025-04-05 14:34:12.641 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:34:12.642 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:34:12.643 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:34:12.645 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-05 14:34:12.647 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 2.1121ms
2025-04-05 14:34:12.649 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:34:12.650 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/[object Object]/cancel - 400 null application/problem+json; charset=utf-8 11.0604ms
2025-04-05 14:37:52.170 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/30/cancel - null null
2025-04-05 14:37:52.179 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:37:52.180 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/30/cancel - 204 null null 10.062ms
2025-04-05 14:37:52.187 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/30/cancel - null 0
2025-04-05 14:37:52.190 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:37:52.191 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:37:52.193 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:37:52.200 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:37:52.218 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:37:52.315 +07:00 [INF] Executed DbCommand (93ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CheckSheetItemMST] SET [CancelFlag] = @p0
OUTPUT 1
WHERE [ItemId] = @p1;
2025-04-05 14:37:52.318 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-05 14:37:52.319 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 123.9219ms
2025-04-05 14:37:52.322 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:37:52.323 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/30/cancel - 200 null application/json; charset=utf-8 136.1817ms
2025-04-05 14:38:50.577 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:38:50.580 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:38:50.581 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:38:50.582 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:38:50.620 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:38:50.624 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:38:50.626 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 41.8734ms
2025-04-05 14:38:50.627 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:38:50.628 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 51.6169ms
2025-04-05 14:38:59.084 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/31/cancel - null null
2025-04-05 14:38:59.088 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:38:59.089 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/31/cancel - 204 null null 5.0409ms
2025-04-05 14:38:59.098 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/31/cancel - null 0
2025-04-05 14:38:59.102 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:38:59.103 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:38:59.105 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:38:59.108 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:38:59.112 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:38:59.115 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:38:59.134 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [CheckSheetItemMST] SET [CancelFlag] = @p0
OUTPUT 1
WHERE [ItemId] = @p1;
UPDATE [CheckSheetItemMST] SET [CancelFlag] = @p2
OUTPUT 1
WHERE [ItemId] = @p3;
2025-04-05 14:38:59.204 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-05 14:38:59.207 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 100.5501ms
2025-04-05 14:38:59.209 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:38:59.210 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/31/cancel - 200 null application/json; charset=utf-8 111.5635ms
2025-04-05 14:39:07.395 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/33/cancel - null null
2025-04-05 14:39:07.402 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:39:07.403 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/33/cancel - 204 null null 7.7267ms
2025-04-05 14:39:07.408 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/33/cancel - null 0
2025-04-05 14:39:07.410 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:39:07.412 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:39:07.413 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:39:07.417 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:39:07.420 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:39:07.424 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:39:07.427 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:39:07.560 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 145.1523ms
2025-04-05 14:39:07.563 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:39:07.565 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Collection was modified; enumeration operation may not execute.
   at System.Collections.Generic.List`1.Enumerator.MoveNext()
   at DMCheckSheetAPI.Repositories.Implementation.CheckSheetItemRepository.GetAllChildren(Int32 parentId) in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Repositories\Implementation\CheckSheetItemRepository.cs:line 179
   at DMCheckSheetAPI.Repositories.Implementation.CheckSheetItemRepository.UpdateCancelFlag(Int32 id) in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Repositories\Implementation\CheckSheetItemRepository.cs:line 166
   at DMCheckSheetAPI.Services.CheckSheetItemServices.UpdateCancelFlag(Int32 id) in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Services\CheckSheetItemServices.cs:line 54
   at DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag(Int32 id) in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Controllers\CheckSheetItemController.cs:line 61
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-05 14:39:07.574 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/33/cancel - 500 null text/plain; charset=utf-8 166.2847ms
2025-04-05 14:39:11.310 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/33/cancel - null 0
2025-04-05 14:39:11.313 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:39:11.313 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:39:11.314 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:39:11.319 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:39:11.351 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:39:11.372 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:39:11.379 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:39:11.492 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 175.7648ms
2025-04-05 14:39:11.494 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:39:11.496 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Collection was modified; enumeration operation may not execute.
   at System.Collections.Generic.List`1.Enumerator.MoveNext()
   at DMCheckSheetAPI.Repositories.Implementation.CheckSheetItemRepository.GetAllChildren(Int32 parentId) in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Repositories\Implementation\CheckSheetItemRepository.cs:line 179
   at DMCheckSheetAPI.Repositories.Implementation.CheckSheetItemRepository.UpdateCancelFlag(Int32 id) in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Repositories\Implementation\CheckSheetItemRepository.cs:line 166
   at DMCheckSheetAPI.Services.CheckSheetItemServices.UpdateCancelFlag(Int32 id) in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Services\CheckSheetItemServices.cs:line 54
   at DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag(Int32 id) in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Controllers\CheckSheetItemController.cs:line 61
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-05 14:39:11.503 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/33/cancel - 500 null text/plain; charset=utf-8 193.5555ms
2025-04-05 14:39:13.632 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:39:13.634 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:39:13.636 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:39:13.639 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:39:13.639 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:39:13.640 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:39:13.642 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:39:13.643 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:39:13.647 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:39:13.656 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:39:13.662 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 16.9638ms
2025-04-05 14:39:13.664 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:39:13.668 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 35.2068ms
2025-04-05 14:39:13.694 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:39:13.698 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:39:13.699 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 50.4513ms
2025-04-05 14:39:13.700 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:39:13.701 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 67.217ms
2025-04-05 14:39:22.156 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/33/cancel - null null
2025-04-05 14:39:22.160 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:39:22.161 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/33/cancel - 204 null null 4.4342ms
2025-04-05 14:39:22.165 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/33/cancel - null 0
2025-04-05 14:39:22.167 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:39:22.168 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:39:22.170 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:39:22.174 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:39:22.178 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:39:22.181 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:39:22.184 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:39:22.294 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 121.7783ms
2025-04-05 14:39:22.296 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:39:22.297 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Collection was modified; enumeration operation may not execute.
   at System.Collections.Generic.List`1.Enumerator.MoveNext()
   at DMCheckSheetAPI.Repositories.Implementation.CheckSheetItemRepository.GetAllChildren(Int32 parentId) in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Repositories\Implementation\CheckSheetItemRepository.cs:line 179
   at DMCheckSheetAPI.Repositories.Implementation.CheckSheetItemRepository.UpdateCancelFlag(Int32 id) in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Repositories\Implementation\CheckSheetItemRepository.cs:line 166
   at DMCheckSheetAPI.Services.CheckSheetItemServices.UpdateCancelFlag(Int32 id) in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Services\CheckSheetItemServices.cs:line 54
   at DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag(Int32 id) in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Controllers\CheckSheetItemController.cs:line 61
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-05 14:39:22.303 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/33/cancel - 500 null text/plain; charset=utf-8 138.3981ms
2025-04-05 14:43:50.017 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/33/cancel - null null
2025-04-05 14:43:50.024 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:43:50.025 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/33/cancel - 204 null null 8.1809ms
2025-04-05 14:43:50.032 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/33/cancel - null 0
2025-04-05 14:43:50.035 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:43:50.036 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:43:50.037 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:43:50.052 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:43:50.055 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:43:50.058 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:43:50.060 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:43:50.165 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 125.8569ms
2025-04-05 14:43:50.167 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:43:50.169 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Collection was modified; enumeration operation may not execute.
   at System.Collections.Generic.List`1.Enumerator.MoveNext()
   at DMCheckSheetAPI.Repositories.Implementation.CheckSheetItemRepository.GetAllChildren(Int32 parentId) in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Repositories\Implementation\CheckSheetItemRepository.cs:line 179
   at DMCheckSheetAPI.Repositories.Implementation.CheckSheetItemRepository.UpdateCancelFlag(Int32 id) in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Repositories\Implementation\CheckSheetItemRepository.cs:line 166
   at DMCheckSheetAPI.Services.CheckSheetItemServices.UpdateCancelFlag(Int32 id) in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Services\CheckSheetItemServices.cs:line 54
   at DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag(Int32 id) in D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI\Controllers\CheckSheetItemController.cs:line 61
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-05 14:43:50.175 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/33/cancel - 500 null text/plain; charset=utf-8 142.949ms
2025-04-05 14:44:28.242 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/34/cancel - null null
2025-04-05 14:44:28.248 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:44:28.249 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/34/cancel - 204 null null 7.4712ms
2025-04-05 14:44:28.257 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/34/cancel - null 0
2025-04-05 14:44:28.260 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:44:28.262 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:44:28.263 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:44:28.268 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:44:28.275 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:44:28.279 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:44:28.286 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [CheckSheetItemMST] SET [CancelFlag] = @p0
OUTPUT 1
WHERE [ItemId] = @p1;
UPDATE [CheckSheetItemMST] SET [CancelFlag] = @p2
OUTPUT 1
WHERE [ItemId] = @p3;
2025-04-05 14:44:28.299 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-05 14:44:28.300 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 35.0644ms
2025-04-05 14:44:28.302 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:44:28.303 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/34/cancel - 200 null application/json; charset=utf-8 46.3271ms
2025-04-05 14:44:35.602 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/33/cancel - null null
2025-04-05 14:44:35.605 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:44:35.606 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/33/cancel - 204 null null 4.4949ms
2025-04-05 14:44:35.610 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/33/cancel - null 0
2025-04-05 14:44:35.614 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:44:35.615 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:44:35.616 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:44:35.620 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:44:35.627 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:44:35.637 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CheckSheetItemMST] SET [CancelFlag] = @p0
OUTPUT 1
WHERE [ItemId] = @p1;
2025-04-05 14:44:35.641 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-05 14:44:35.642 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 24.2227ms
2025-04-05 14:44:35.644 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:44:35.646 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/33/cancel - 200 null application/json; charset=utf-8 35.61ms
2025-04-05 14:44:41.001 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/31/cancel - null null
2025-04-05 14:44:41.004 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:44:41.005 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/31/cancel - 204 null null 3.8919ms
2025-04-05 14:44:41.009 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/31/cancel - null 0
2025-04-05 14:44:41.013 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:44:41.014 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:44:41.016 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:44:41.020 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:44:41.023 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:44:41.025 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 7.6271ms
2025-04-05 14:44:41.027 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:44:41.029 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/31/cancel - 404 null application/json; charset=utf-8 19.6184ms
2025-04-05 14:44:46.169 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/31/cancel - null null
2025-04-05 14:44:46.172 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:44:46.173 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/31/cancel - 204 null null 3.8325ms
2025-04-05 14:44:46.177 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/31/cancel - null 0
2025-04-05 14:44:46.181 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:44:46.182 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:44:46.183 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:44:46.187 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:44:46.190 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:44:46.191 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 6.3472ms
2025-04-05 14:44:46.193 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:44:46.194 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/31/cancel - 404 null application/json; charset=utf-8 17.3309ms
2025-04-05 14:45:07.534 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:45:07.536 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:45:07.541 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:45:07.544 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:45:07.545 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:45:07.546 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:45:07.547 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:45:07.548 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:45:07.553 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:45:07.560 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:45:07.567 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 16.8678ms
2025-04-05 14:45:07.569 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:45:07.570 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 35.3164ms
2025-04-05 14:45:07.599 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:45:07.602 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:45:07.604 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 50.0348ms
2025-04-05 14:45:07.605 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:45:07.606 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 69.8552ms
2025-04-05 14:45:19.748 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/33/cancel - null null
2025-04-05 14:45:19.751 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:45:19.752 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/33/cancel - 204 null null 4.3724ms
2025-04-05 14:45:19.755 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/33/cancel - null 0
2025-04-05 14:45:19.758 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:45:19.759 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:45:19.760 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:45:19.764 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:45:19.767 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:45:19.768 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 6.1529ms
2025-04-05 14:45:19.770 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:45:19.771 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/33/cancel - 404 null application/json; charset=utf-8 15.6404ms
2025-04-05 14:45:27.665 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/36/cancel - null null
2025-04-05 14:45:27.668 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:45:27.669 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/36/cancel - 204 null null 4.1204ms
2025-04-05 14:45:27.673 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/36/cancel - null 0
2025-04-05 14:45:27.677 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:45:27.678 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:45:27.679 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:45:27.682 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:45:27.685 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:45:27.686 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 5.9666ms
2025-04-05 14:45:27.688 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:45:27.689 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/36/cancel - 404 null application/json; charset=utf-8 15.7659ms
2025-04-05 14:45:30.364 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/36/cancel - null 0
2025-04-05 14:45:30.367 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:45:30.368 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:45:30.369 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:45:30.373 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:45:30.376 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:45:30.378 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 7.1732ms
2025-04-05 14:45:30.379 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:45:30.380 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/36/cancel - 404 null application/json; charset=utf-8 16.3184ms
2025-04-05 14:45:32.458 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/34/cancel - null null
2025-04-05 14:45:32.462 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:45:32.463 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/34/cancel - 204 null null 4.9212ms
2025-04-05 14:45:32.467 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/34/cancel - null 0
2025-04-05 14:45:32.470 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:45:32.471 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:45:32.472 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:45:32.476 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:45:32.478 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:45:32.480 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 5.7418ms
2025-04-05 14:45:32.481 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:45:32.482 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/34/cancel - 404 null application/json; charset=utf-8 15.099ms
2025-04-05 14:45:36.175 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:45:36.177 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:45:36.178 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:45:36.181 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:45:36.182 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:45:36.182 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:45:36.184 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:45:36.185 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:45:36.189 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:45:36.197 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:45:36.198 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 12.0049ms
2025-04-05 14:45:36.201 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:45:36.203 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:45:36.204 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 28.7346ms
2025-04-05 14:45:36.207 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:45:36.213 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 23.8177ms
2025-04-05 14:45:36.215 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:45:36.217 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 40.6402ms
2025-04-05 14:45:43.276 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/35/cancel - null null
2025-04-05 14:45:43.279 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:45:43.280 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/35/cancel - 204 null null 3.5909ms
2025-04-05 14:45:43.283 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/35/cancel - null 0
2025-04-05 14:45:43.286 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:45:43.287 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:45:43.288 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:45:43.292 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:45:43.297 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:45:43.312 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CheckSheetItemMST] SET [CancelFlag] = @p0
OUTPUT 1
WHERE [ItemId] = @p1;
2025-04-05 14:45:43.315 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-05 14:45:43.316 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 26.543ms
2025-04-05 14:45:43.318 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:45:43.319 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/35/cancel - 200 null application/json; charset=utf-8 35.5644ms
2025-04-05 14:45:48.802 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/30/cancel - null null
2025-04-05 14:45:48.805 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:45:48.807 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/30/cancel - 204 null null 5.0612ms
2025-04-05 14:45:48.811 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/30/cancel - null 0
2025-04-05 14:45:48.815 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:45:48.816 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:45:48.817 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:45:48.821 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:45:48.824 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:45:48.825 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 5.9019ms
2025-04-05 14:45:48.826 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:45:48.828 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/30/cancel - 404 null application/json; charset=utf-8 16.5254ms
2025-04-05 14:45:52.526 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:45:52.527 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:45:52.529 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:45:52.532 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:45:52.533 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:45:52.534 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:45:52.536 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:45:52.538 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:45:52.543 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:45:52.552 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:45:52.555 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 14.888ms
2025-04-05 14:45:52.558 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:45:52.560 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 34.4814ms
2025-04-05 14:45:52.571 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:45:52.575 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:45:52.576 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 31.7477ms
2025-04-05 14:45:52.578 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:45:52.579 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 52.4659ms
2025-04-05 14:45:55.281 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/14/cancel - null null
2025-04-05 14:45:55.284 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:45:55.285 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/14/cancel - 204 null null 3.8892ms
2025-04-05 14:45:55.289 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/14/cancel - null 0
2025-04-05 14:45:55.292 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:45:55.293 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:45:55.294 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:45:55.298 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:45:55.301 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:45:55.304 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:45:55.311 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [CheckSheetItemMST] SET [CancelFlag] = @p0
OUTPUT 1
WHERE [ItemId] = @p1;
UPDATE [CheckSheetItemMST] SET [CancelFlag] = @p2
OUTPUT 1
WHERE [ItemId] = @p3;
2025-04-05 14:45:55.323 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-05 14:45:55.326 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 30.4538ms
2025-04-05 14:45:55.328 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:45:55.329 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/14/cancel - 200 null application/json; charset=utf-8 39.8933ms
2025-04-05 14:46:05.264 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:46:05.265 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:46:05.267 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:46:05.270 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:46:05.271 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:46:05.271 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:46:05.272 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:46:05.274 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:46:05.278 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:46:05.283 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:46:05.284 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 8.2712ms
2025-04-05 14:46:05.285 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:46:05.286 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 22.6506ms
2025-04-05 14:46:05.299 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
		                        c.OrderNumber,
                                c.DataType,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:46:05.303 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:46:05.304 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 24.9957ms
2025-04-05 14:46:05.306 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:46:05.307 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 41.8447ms
2025-04-05 14:46:18.266 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/30/cancel - null null
2025-04-05 14:46:18.269 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:46:18.270 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/30/cancel - 204 null null 4.0204ms
2025-04-05 14:46:18.274 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/30/cancel - null 0
2025-04-05 14:46:18.278 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:46:18.279 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:46:18.280 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:46:18.284 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:46:18.288 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:46:18.290 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 8.3834ms
2025-04-05 14:46:18.292 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:46:18.293 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/30/cancel - 404 null application/json; charset=utf-8 19.6912ms
2025-04-05 14:46:22.921 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/35/cancel - null null
2025-04-05 14:46:22.925 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:46:22.925 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/35/cancel - 204 null null 4.5859ms
2025-04-05 14:46:22.929 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/35/cancel - null 0
2025-04-05 14:46:22.931 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:46:22.932 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:46:22.934 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:46:22.937 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:46:22.941 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:46:22.942 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 6.7973ms
2025-04-05 14:46:22.944 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:46:22.945 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/35/cancel - 404 null application/json; charset=utf-8 16.106ms
2025-04-05 14:53:07.840 +07:00 [INF] User profile is available. Using 'C:\Users\24182\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-05 14:53:08.072 +07:00 [INF] Now listening on: http://localhost:5118
2025-04-05 14:53:08.157 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-05 14:53:08.159 +07:00 [INF] Hosting environment: Development
2025-04-05 14:53:08.161 +07:00 [INF] Content root path: D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI
2025-04-05 14:53:10.072 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/index.html - null null
2025-04-05 14:53:10.340 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/index.html - 200 null text/html;charset=utf-8 273.1744ms
2025-04-05 14:53:10.479 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/index.js - null null
2025-04-05 14:53:10.485 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/index.js - 200 null application/javascript;charset=utf-8 6.7751ms
2025-04-05 14:53:10.485 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/_framework/aspnetcore-browser-refresh.js - null null
2025-04-05 14:53:10.489 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/_vs/browserLink - null null
2025-04-05 14:53:10.495 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 9.4527ms
2025-04-05 14:53:10.527 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.3384ms
2025-04-05 14:53:10.706 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/v1/swagger.json - null null
2025-04-05 14:53:10.811 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 105.253ms
2025-04-05 14:55:09.430 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:55:09.445 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:55:09.448 +07:00 [WRN] Failed to determine the https port for redirect.
2025-04-05 14:55:09.471 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:55:09.486 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:55:09.532 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:55:09.532 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:55:09.555 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:55:09.555 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:55:10.775 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:55:10.787 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:55:10.817 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:55:10.817 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:55:10.835 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 1273.4692ms
2025-04-05 14:55:10.838 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:55:10.838 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 1277.4128ms
2025-04-05 14:55:10.842 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:55:10.848 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 1382.6672ms
2025-04-05 14:55:10.848 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 1418.3272ms
2025-04-05 14:55:21.073 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/24/cancel - null null
2025-04-05 14:55:21.077 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:55:21.079 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/24/cancel - 204 null null 6.5865ms
2025-04-05 14:55:21.084 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/24/cancel - null 0
2025-04-05 14:55:21.088 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:55:21.092 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:55:21.102 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:55:21.195 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:55:21.253 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:55:21.261 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:55:21.336 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [CheckSheetItemMST] SET [CancelFlag] = @p0
OUTPUT 1
WHERE [ItemId] = @p1;
UPDATE [CheckSheetItemMST] SET [CancelFlag] = @p2
OUTPUT 1
WHERE [ItemId] = @p3;
2025-04-05 14:55:21.380 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-05 14:55:21.385 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 280.3581ms
2025-04-05 14:55:21.387 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:55:21.388 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/24/cancel - 200 null application/json; charset=utf-8 304.3833ms
2025-04-05 14:55:28.119 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/27/cancel - null null
2025-04-05 14:55:28.123 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:55:28.124 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/27/cancel - 204 null null 5.0283ms
2025-04-05 14:55:28.129 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/27/cancel - null 0
2025-04-05 14:55:28.133 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:55:28.134 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:55:28.136 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:55:28.146 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:55:28.150 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:55:28.209 +07:00 [INF] Executed DbCommand (56ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CheckSheetItemMST] SET [CancelFlag] = @p0
OUTPUT 1
WHERE [ItemId] = @p1;
2025-04-05 14:55:28.212 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-05 14:55:28.214 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 74.2311ms
2025-04-05 14:55:28.215 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:55:28.216 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/27/cancel - 200 null application/json; charset=utf-8 87.4363ms
2025-04-05 14:55:31.438 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/28/cancel - null null
2025-04-05 14:55:31.442 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:55:31.443 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/28/cancel - 204 null null 4.9711ms
2025-04-05 14:55:31.449 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/28/cancel - null 0
2025-04-05 14:55:31.451 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:55:31.453 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:55:31.454 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:55:31.461 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:55:31.466 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:55:31.484 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CheckSheetItemMST] SET [CancelFlag] = @p0
OUTPUT 1
WHERE [ItemId] = @p1;
2025-04-05 14:55:31.487 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-05 14:55:31.489 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 32.3516ms
2025-04-05 14:55:31.492 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:55:31.493 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/28/cancel - 200 null application/json; charset=utf-8 44.6959ms
2025-04-05 14:55:33.222 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/29/cancel - null null
2025-04-05 14:55:33.226 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:55:33.227 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/29/cancel - 204 null null 5.0635ms
2025-04-05 14:55:33.232 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/29/cancel - null 0
2025-04-05 14:55:33.234 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:55:33.235 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:55:33.236 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:55:33.241 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:55:33.250 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:55:33.255 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CheckSheetItemMST] SET [CancelFlag] = @p0
OUTPUT 1
WHERE [ItemId] = @p1;
2025-04-05 14:55:33.259 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-05 14:55:33.261 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 23.2266ms
2025-04-05 14:55:33.263 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-05 14:55:33.264 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/29/cancel - 200 null application/json; charset=utf-8 32.7779ms
2025-04-05 14:55:36.398 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-05 14:55:36.400 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-05 14:55:36.401 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:55:36.404 +07:00 [INF] CORS policy execution successful.
2025-04-05 14:55:36.405 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:55:36.406 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:55:36.407 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-05 14:55:36.408 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-05 14:55:36.413 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-05 14:55:36.417 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:55:36.420 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.2551ms
2025-04-05 14:55:36.421 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-05 14:55:36.423 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 24.4951ms
2025-04-05 14:55:36.455 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-05 14:55:36.458 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-05 14:55:36.460 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 47.7235ms
2025-04-05 14:55:36.462 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-05 14:55:36.463 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 63.2962ms
2025-04-06 08:53:27.709 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 08:53:27.715 +07:00 [INF] CORS policy execution successful.
2025-04-06 08:53:27.721 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 08:53:27.756 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 08:53:27.758 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 08:53:27.761 +07:00 [INF] CORS policy execution successful.
2025-04-06 08:53:27.764 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 08:53:27.765 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 08:53:27.797 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 08:53:27.802 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 08:53:27.803 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 08:53:27.805 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 42.1486ms
2025-04-06 08:53:27.808 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 08:53:27.809 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 08:53:27.810 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 42.3979ms
2025-04-06 08:53:27.812 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 103.0419ms
2025-04-06 08:53:27.813 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 08:53:27.818 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 61.4668ms
2025-04-06 08:53:57.952 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 08:53:57.960 +07:00 [INF] CORS policy execution successful.
2025-04-06 08:53:57.961 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 08:53:57.963 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 08:53:57.966 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 08:53:57.973 +07:00 [INF] CORS policy execution successful.
2025-04-06 08:53:57.974 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 08:53:57.975 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 08:53:57.982 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 08:53:57.989 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 08:53:57.991 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 23.3852ms
2025-04-06 08:53:57.992 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 08:53:57.993 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 41.6717ms
2025-04-06 08:53:58.003 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 08:53:58.007 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 08:53:58.008 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 30.1898ms
2025-04-06 08:53:58.010 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 08:53:58.012 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 46.906ms
2025-04-06 08:57:36.440 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 08:57:36.447 +07:00 [INF] CORS policy execution successful.
2025-04-06 08:57:36.448 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 08:57:36.450 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 08:57:36.456 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 08:57:36.464 +07:00 [INF] CORS policy execution successful.
2025-04-06 08:57:36.466 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 08:57:36.467 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 08:57:36.471 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 08:57:36.472 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 08:57:36.474 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 21.9179ms
2025-04-06 08:57:36.478 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 08:57:36.481 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 42.5003ms
2025-04-06 08:57:36.502 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 08:57:36.505 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 08:57:36.507 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 30.4887ms
2025-04-06 08:57:36.508 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 08:57:36.509 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 53.5536ms
2025-04-06 08:57:57.036 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 08:57:57.043 +07:00 [INF] CORS policy execution successful.
2025-04-06 08:57:57.044 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 08:57:57.046 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 08:57:57.052 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 08:57:57.055 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 08:57:57.059 +07:00 [INF] CORS policy execution successful.
2025-04-06 08:57:57.062 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 08:57:57.062 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 08:57:57.064 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 15.247ms
2025-04-06 08:57:57.065 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 08:57:57.067 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 08:57:57.070 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 35.1466ms
2025-04-06 08:57:57.079 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 08:57:57.086 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 08:57:57.089 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 19.4772ms
2025-04-06 08:57:57.090 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 08:57:57.091 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 39.0609ms
2025-04-06 08:58:31.619 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 08:58:31.622 +07:00 [INF] CORS policy execution successful.
2025-04-06 08:58:31.623 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 08:58:31.625 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 08:58:31.637 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 08:58:31.644 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 08:58:31.645 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 15.618ms
2025-04-06 08:58:31.646 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 08:58:31.648 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 29.1157ms
2025-04-06 08:58:33.029 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 08:58:33.034 +07:00 [INF] CORS policy execution successful.
2025-04-06 08:58:33.036 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 08:58:33.037 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 08:58:33.044 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 08:58:33.047 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 08:58:33.049 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 8.6745ms
2025-04-06 08:58:33.051 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 08:58:33.052 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 23.1064ms
2025-04-06 08:58:34.470 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 08:58:34.472 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 08:58:34.474 +07:00 [INF] CORS policy execution successful.
2025-04-06 08:58:34.477 +07:00 [INF] CORS policy execution successful.
2025-04-06 08:58:34.478 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 08:58:34.479 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 08:58:34.480 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 08:58:34.481 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 08:58:34.491 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 08:58:34.493 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 08:58:34.499 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 08:58:34.502 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 08:58:34.503 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 15.9905ms
2025-04-06 08:58:34.504 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 20.7263ms
2025-04-06 08:58:34.506 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 08:58:34.507 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 08:58:34.508 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 36.5995ms
2025-04-06 08:58:34.509 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 39.0431ms
2025-04-06 08:59:59.641 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 08:59:59.647 +07:00 [INF] CORS policy execution successful.
2025-04-06 08:59:59.649 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 08:59:59.650 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 08:59:59.656 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 08:59:59.656 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 08:59:59.662 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 08:59:59.665 +07:00 [INF] CORS policy execution successful.
2025-04-06 08:59:59.666 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 14.0078ms
2025-04-06 08:59:59.667 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 08:59:59.669 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 08:59:59.670 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 08:59:59.671 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 31.4959ms
2025-04-06 08:59:59.702 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 08:59:59.706 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 08:59:59.708 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 34.4924ms
2025-04-06 08:59:59.710 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 08:59:59.712 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 56.1679ms
2025-04-06 09:00:02.155 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 09:00:02.158 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:00:02.159 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:00:02.161 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 09:00:02.162 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 09:00:02.171 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:00:02.172 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:00:02.174 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:00:02.175 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 09:00:02.176 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.5043ms
2025-04-06 09:00:02.177 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 09:00:02.178 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:00:02.181 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 26.3575ms
2025-04-06 09:00:02.184 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 09:00:02.188 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:00:02.190 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 9.9105ms
2025-04-06 09:00:02.191 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 09:00:02.193 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 31.19ms
2025-04-06 09:01:32.628 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 09:01:32.635 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 09:01:32.644 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:01:32.644 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:01:32.645 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:01:32.646 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 09:01:32.649 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 09:01:32.649 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 09:01:32.656 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:01:32.657 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 09:01:32.662 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:01:32.666 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:01:32.666 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 15.0042ms
2025-04-06 09:01:32.668 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 14.3249ms
2025-04-06 09:01:32.669 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:01:32.670 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 09:01:32.671 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 42.68ms
2025-04-06 09:01:32.672 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 36.9164ms
2025-04-06 09:02:47.625 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 09:02:47.631 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:02:47.631 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:02:47.632 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 09:02:47.646 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:02:47.649 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:02:47.654 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 20.1551ms
2025-04-06 09:02:47.656 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:02:47.657 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 33.2911ms
2025-04-06 09:03:05.442 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 09:03:05.446 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:03:05.447 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:03:05.448 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 09:03:05.461 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 09:03:05.464 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:03:05.465 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 09:03:05.467 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:03:05.467 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 09:03:05.475 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:03:05.480 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 29.2109ms
2025-04-06 09:03:05.482 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:03:05.484 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 41.9158ms
2025-04-06 09:03:05.523 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 09:03:05.527 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:03:05.528 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 50.6645ms
2025-04-06 09:03:05.530 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 09:03:05.531 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 69.7736ms
2025-04-06 09:03:24.438 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 09:03:24.441 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:03:24.447 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/ - 204 null null 9.971ms
2025-04-06 09:03:24.452 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - application/json 95
2025-04-06 09:03:24.454 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:03:24.455 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-06 09:03:24.461 +07:00 [INF] Route matched with {action = "CreateItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItem(DMCheckSheetAPI.Models.DTO.CheckSheetItem.CreateItemDTO) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 09:03:24.539 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CheckSheetItemMST] ([CancelFlag], [Content], [CreateAt], [CreateBy], [DataType], [IsRequire], [OrderNumber], [ParentId], [SheetId], [UpdateAt], [UpdateBy])
OUTPUT INSERTED.[ItemId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-04-06 09:03:24.553 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-06 09:03:24.567 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI) in 103.9924ms
2025-04-06 09:03:24.570 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.CreateItem (DMCheckSheetAPI)'
2025-04-06 09:03:24.571 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/CheckSheetItem/ - 201 null application/json; charset=utf-8 119.3501ms
2025-04-06 09:03:24.575 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 09:03:24.578 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:03:24.579 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 09:03:24.580 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 09:03:24.620 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 09:03:24.626 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:03:24.627 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 45.5763ms
2025-04-06 09:03:24.629 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 09:03:24.630 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 54.5281ms
2025-04-06 09:04:04.607 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 09:04:04.620 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:04:04.622 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:04:04.625 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 09:04:04.636 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:04:04.645 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:04:04.647 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 20.0774ms
2025-04-06 09:04:04.649 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:04:04.650 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 43.7372ms
2025-04-06 09:04:22.343 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 09:04:22.345 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:04:22.347 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:04:22.348 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 09:04:22.355 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:04:22.359 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:04:22.361 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.723ms
2025-04-06 09:04:22.363 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:04:22.364 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 21.7402ms
2025-04-06 09:04:33.057 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 09:04:33.061 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:04:33.062 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:04:33.063 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 09:04:33.067 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:04:33.070 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:04:33.072 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.3261ms
2025-04-06 09:04:33.075 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:04:33.076 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 30.1714ms
2025-04-06 09:05:24.525 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 09:05:24.532 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:05:24.532 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 09:05:24.534 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 09:05:24.537 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:05:24.538 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 09:05:24.539 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:05:24.541 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 09:05:24.547 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:05:24.556 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:05:24.558 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 13.3474ms
2025-04-06 09:05:24.559 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:05:24.560 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 28.0142ms
2025-04-06 09:05:24.569 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 09:05:24.573 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:05:24.574 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 33.8837ms
2025-04-06 09:05:24.576 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 09:05:24.577 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 52.4101ms
2025-04-06 09:06:11.978 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 09:06:11.981 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:06:11.982 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:06:11.984 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 09:06:11.989 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:06:11.992 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:06:11.994 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.1625ms
2025-04-06 09:06:11.996 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:06:11.997 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 18.9811ms
2025-04-06 09:06:16.240 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 09:06:16.243 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:06:16.244 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 09:06:16.245 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 09:06:16.246 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 09:06:16.249 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:06:16.252 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:06:16.255 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 09:06:16.263 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:06:16.266 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:06:16.268 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.0342ms
2025-04-06 09:06:16.270 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:06:16.272 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 27.1802ms
2025-04-06 09:06:16.277 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 09:06:16.280 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:06:16.282 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 30.9885ms
2025-04-06 09:06:16.283 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 09:06:16.284 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 44.787ms
2025-04-06 09:06:33.377 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 09:06:33.380 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:06:33.382 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:06:33.383 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 09:06:33.390 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:06:33.393 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:06:33.395 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 8.2517ms
2025-04-06 09:06:33.396 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:06:33.397 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 20.9736ms
2025-04-06 09:06:38.781 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 09:06:38.782 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 09:06:38.784 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:06:38.787 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:06:38.788 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:06:38.789 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 09:06:38.790 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 09:06:38.791 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 09:06:38.796 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:06:38.806 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:06:38.808 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 14.8189ms
2025-04-06 09:06:38.809 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:06:38.810 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 29.5835ms
2025-04-06 09:06:38.839 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 09:06:38.842 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:06:38.843 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 47.3203ms
2025-04-06 09:06:38.845 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 09:06:38.846 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 63.4102ms
2025-04-06 09:06:52.002 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/37/cancel - null null
2025-04-06 09:06:52.005 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:06:52.006 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/CheckSheetItem/37/cancel - 204 null null 3.7228ms
2025-04-06 09:06:52.009 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/37/cancel - null 0
2025-04-06 09:06:52.012 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:06:52.013 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-06 09:06:52.014 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 09:06:52.018 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ItemId] = @__id_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:06:52.022 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ItemId], [c].[CancelFlag], [c].[Content], [c].[CreateAt], [c].[CreateBy], [c].[DataType], [c].[IsRequire], [c].[OrderNumber], [c].[ParentId], [c].[SheetId], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetItemMST] AS [c]
WHERE [c].[ParentId] = @__parentId_0 AND [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:06:52.035 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CheckSheetItemMST] SET [CancelFlag] = @p0
OUTPUT 1
WHERE [ItemId] = @p1;
2025-04-06 09:06:52.038 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.CheckSheetItemMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-06 09:06:52.039 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI) in 23.265ms
2025-04-06 09:06:52.041 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-06 09:06:52.042 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/CheckSheetItem/37/cancel - 200 null application/json; charset=utf-8 32.7434ms
2025-04-06 09:07:39.474 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 09:07:39.478 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:07:39.487 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:07:39.489 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 09:07:39.499 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:07:39.505 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:07:39.506 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 15.8265ms
2025-04-06 09:07:39.508 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:07:39.509 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 34.6839ms
2025-04-06 09:07:40.114 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 09:07:40.117 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:07:40.118 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 09:07:40.121 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 09:07:40.133 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:07:40.136 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:07:40.140 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 15.3679ms
2025-04-06 09:07:40.141 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 09:07:40.143 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 29.2336ms
2025-04-06 09:07:40.574 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 09:07:40.577 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:07:40.578 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:07:40.579 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 09:07:40.583 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:07:40.586 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:07:40.587 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.5038ms
2025-04-06 09:07:40.589 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:07:40.590 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.0976ms
2025-04-06 09:07:41.090 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 09:07:41.091 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 09:07:41.093 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:07:41.096 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:07:41.096 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:07:41.097 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 09:07:41.098 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 09:07:41.099 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 09:07:41.109 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:07:41.116 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:07:41.118 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 17.2139ms
2025-04-06 09:07:41.120 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:07:41.121 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 31.0486ms
2025-04-06 09:07:41.130 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 09:07:41.135 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:07:41.136 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 32.5634ms
2025-04-06 09:07:41.138 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 09:07:41.139 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 48.4218ms
2025-04-06 09:15:04.205 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 09:15:04.208 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:15:04.209 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 09:15:04.210 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 09:15:04.235 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:15:04.237 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:15:04.239 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 26.3777ms
2025-04-06 09:15:04.240 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 09:15:04.242 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 36.9664ms
2025-04-06 09:15:05.124 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 09:15:05.124 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 09:15:05.127 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:15:05.131 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:15:05.136 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:15:05.136 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 09:15:05.138 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 09:15:05.139 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 09:15:05.150 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:15:05.156 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:15:05.161 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 19.6016ms
2025-04-06 09:15:05.165 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:15:05.166 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 42.8706ms
2025-04-06 09:15:05.198 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 09:15:05.202 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:15:05.204 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 59.0423ms
2025-04-06 09:15:05.205 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 09:15:05.206 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 82.4241ms
2025-04-06 09:15:05.693 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 09:15:05.696 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:15:05.697 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:15:05.699 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 09:15:05.702 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:15:05.705 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:15:05.706 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.8087ms
2025-04-06 09:15:05.707 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:15:05.709 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 15.5674ms
2025-04-06 09:15:06.216 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 09:15:06.220 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:15:06.221 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 09:15:06.222 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 09:15:06.227 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:15:06.230 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:15:06.231 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 7.2768ms
2025-04-06 09:15:06.233 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 09:15:06.234 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 17.7999ms
2025-04-06 09:44:28.929 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 09:44:28.933 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:44:28.934 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:44:28.935 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 09:44:28.943 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 09:44:28.946 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:44:28.947 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 09:44:28.948 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 09:44:28.960 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:44:28.962 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:44:28.965 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 09:44:28.966 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 27.954ms
2025-04-06 09:44:28.969 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:44:28.970 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:44:28.971 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 21.4152ms
2025-04-06 09:44:28.972 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 43.0232ms
2025-04-06 09:44:28.974 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 09:44:28.977 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 34.698ms
2025-04-06 09:45:19.905 +07:00 [INF] User profile is available. Using 'C:\Users\24182\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-06 09:45:20.223 +07:00 [INF] Now listening on: http://localhost:5118
2025-04-06 09:45:20.306 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-06 09:45:20.308 +07:00 [INF] Hosting environment: Development
2025-04-06 09:45:20.310 +07:00 [INF] Content root path: D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI
2025-04-06 09:45:28.134 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/index.html - null null
2025-04-06 09:45:29.776 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/index.html - 200 null text/html;charset=utf-8 1659.6365ms
2025-04-06 09:45:30.434 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/index.js - null null
2025-04-06 09:45:30.441 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/index.js - 200 null application/javascript;charset=utf-8 7.6718ms
2025-04-06 09:45:30.475 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/_framework/aspnetcore-browser-refresh.js - null null
2025-04-06 09:45:30.480 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 5.4102ms
2025-04-06 09:45:30.506 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/_vs/browserLink - null null
2025-04-06 09:45:31.540 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1033.7028ms
2025-04-06 09:45:32.127 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/v1/swagger.json - null null
2025-04-06 09:45:32.945 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 817.4375ms
2025-04-06 09:46:50.666 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 09:46:50.674 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:46:50.677 +07:00 [WRN] Failed to determine the https port for redirect.
2025-04-06 09:46:50.826 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:46:50.846 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 09:46:51.825 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 09:46:51.831 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:46:51.833 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 09:46:51.837 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 09:46:52.649 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:46:52.649 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:46:52.683 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:46:52.683 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:46:52.705 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 861.3915ms
2025-04-06 09:46:52.705 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 1852.9225ms
2025-04-06 09:46:52.707 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 09:46:52.708 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 09:46:52.716 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 891.0041ms
2025-04-06 09:46:52.716 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 2049.8085ms
2025-04-06 09:54:10.591 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 09:54:10.595 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:54:10.598 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 09:54:10.600 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 09:54:10.690 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:54:10.693 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:54:10.695 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 93.5284ms
2025-04-06 09:54:10.697 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 09:54:10.698 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 106.9151ms
2025-04-06 09:56:45.122 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 09:56:45.126 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:56:45.128 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 09:56:45.130 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 09:56:45.182 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:56:45.184 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:56:45.186 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 54.0542ms
2025-04-06 09:56:45.189 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 09:56:45.191 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 68.4907ms
2025-04-06 09:59:11.702 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 09:59:11.706 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:59:11.707 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 09:59:11.708 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 09:59:11.723 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:59:11.728 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:59:11.730 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 19.7468ms
2025-04-06 09:59:11.732 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 09:59:11.733 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 30.6872ms
2025-04-06 09:59:18.194 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 09:59:18.197 +07:00 [INF] CORS policy execution successful.
2025-04-06 09:59:18.199 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 09:59:18.200 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 09:59:18.205 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 09:59:18.208 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 09:59:18.210 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 8.2896ms
2025-04-06 09:59:18.212 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 09:59:18.214 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 19.8152ms
2025-04-06 10:00:00.044 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 10:00:00.049 +07:00 [INF] CORS policy execution successful.
2025-04-06 10:00:00.051 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 10:00:00.052 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 10:00:00.071 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 10:00:00.076 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 10:00:00.078 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 24.0552ms
2025-04-06 10:00:00.080 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 10:00:00.082 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 37.3161ms
2025-04-06 10:00:03.437 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 10:00:03.441 +07:00 [INF] CORS policy execution successful.
2025-04-06 10:00:03.442 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 10:00:03.444 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 10:00:03.460 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 10:00:03.466 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 10:00:03.468 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 21.5725ms
2025-04-06 10:00:03.470 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 10:00:03.472 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 34.8041ms
2025-04-06 10:00:38.664 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 10:00:38.668 +07:00 [INF] CORS policy execution successful.
2025-04-06 10:00:38.670 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 10:00:38.671 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 10:00:38.686 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 10:00:38.693 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 10:00:38.695 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 21.0955ms
2025-04-06 10:00:38.697 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 10:00:38.699 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 35.2143ms
2025-04-06 10:01:41.422 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 10:01:41.426 +07:00 [INF] CORS policy execution successful.
2025-04-06 10:01:41.428 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 10:01:41.429 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 10:01:41.449 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 10:01:41.457 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 10:01:41.459 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 23.5475ms
2025-04-06 10:01:41.461 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 10:01:41.463 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 40.5725ms
2025-04-06 10:02:07.915 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 10:02:07.920 +07:00 [INF] CORS policy execution successful.
2025-04-06 10:02:07.921 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 10:02:07.922 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 10:02:07.940 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 10:02:07.946 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 10:02:07.948 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 22.5041ms
2025-04-06 10:02:07.949 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 10:02:07.951 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 35.6937ms
2025-04-06 12:52:35.350 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 12:52:35.351 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 12:52:35.356 +07:00 [INF] CORS policy execution successful.
2025-04-06 12:52:35.358 +07:00 [INF] CORS policy execution successful.
2025-04-06 12:52:35.359 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 12:52:35.360 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 12:52:35.361 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 12:52:35.367 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 12:52:35.382 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 12:52:35.385 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 12:52:35.387 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 23.1382ms
2025-04-06 12:52:35.389 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 12:52:35.391 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 72.3745ms
2025-04-06 12:52:35.615 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 12:52:35.627 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 12:52:35.634 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 261.0481ms
2025-04-06 12:52:35.636 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 12:52:35.637 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 287.0009ms
2025-04-06 12:55:09.508 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 12:55:09.516 +07:00 [INF] CORS policy execution successful.
2025-04-06 12:55:09.517 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 12:55:09.518 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 12:55:09.524 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 12:55:09.528 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 12:55:09.530 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 9.068ms
2025-04-06 12:55:09.531 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 12:55:09.532 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 24.1743ms
2025-04-06 13:01:23.414 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:01:23.420 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:01:23.421 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:01:23.422 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:01:23.437 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:01:23.439 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:01:23.441 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 17.2659ms
2025-04-06 13:01:23.442 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:01:23.444 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 30.0304ms
2025-04-06 13:01:24.523 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:01:24.525 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 13:01:24.531 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:01:24.533 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:01:24.534 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:01:24.535 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:01:24.536 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:01:24.537 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 13:01:24.541 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:01:24.543 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:01:24.546 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.7099ms
2025-04-06 13:01:24.548 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:01:24.549 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 26.1411ms
2025-04-06 13:01:24.570 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 13:01:24.574 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:01:24.576 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 34.7173ms
2025-04-06 13:01:24.578 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:01:24.579 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 54.0237ms
2025-04-06 13:03:55.024 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:03:55.031 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:03:55.032 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:03:55.033 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:03:55.040 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:03:55.045 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:03:55.046 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 10.6102ms
2025-04-06 13:03:55.048 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:03:55.049 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 25.0673ms
2025-04-06 13:03:56.611 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:03:56.612 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 13:03:56.614 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:03:56.616 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:03:56.617 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:03:56.618 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:03:56.619 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:03:56.620 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 13:03:56.625 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:03:56.631 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:03:56.633 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 11.0873ms
2025-04-06 13:03:56.635 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:03:56.637 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 26.4366ms
2025-04-06 13:03:56.680 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 13:03:56.684 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:03:56.686 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 60.1743ms
2025-04-06 13:03:56.687 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:03:56.689 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 76.9174ms
2025-04-06 13:03:59.394 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:03:59.398 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:03:59.399 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:03:59.400 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:03:59.416 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:03:59.418 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:03:59.420 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 18.5323ms
2025-04-06 13:03:59.422 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:03:59.423 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 28.6336ms
2025-04-06 13:05:44.874 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:05:44.881 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:05:44.882 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:05:44.884 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:05:44.895 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:05:44.903 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:05:44.905 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 19.2721ms
2025-04-06 13:05:44.908 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:05:44.910 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 35.9419ms
2025-04-06 13:06:10.201 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:06:10.209 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:06:10.210 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:06:10.212 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:06:10.219 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:06:10.226 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:06:10.228 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 12.9092ms
2025-04-06 13:06:10.230 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:06:10.231 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 30.2981ms
2025-04-06 13:06:10.735 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:06:10.738 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:06:10.739 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:06:10.740 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:06:10.744 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:06:10.746 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:06:10.748 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.7933ms
2025-04-06 13:06:10.749 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:06:10.751 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 15.9873ms
2025-04-06 13:06:11.159 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:06:11.163 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:06:11.164 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:06:11.166 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:06:11.170 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:06:11.172 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:06:11.174 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.9036ms
2025-04-06 13:06:11.175 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:06:11.176 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 17.1427ms
2025-04-06 13:06:12.555 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:06:12.558 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:06:12.559 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:06:12.560 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:06:12.564 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:06:12.567 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:06:12.569 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 7.1513ms
2025-04-06 13:06:12.571 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:06:12.572 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 17.8993ms
2025-04-06 13:06:18.409 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:06:18.409 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 13:06:18.413 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:06:18.415 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:06:18.416 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:06:18.417 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:06:18.418 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:06:18.419 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 13:06:18.423 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:06:18.435 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:06:18.437 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 16.4986ms
2025-04-06 13:06:18.441 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:06:18.443 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 34.1331ms
2025-04-06 13:06:18.478 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 13:06:18.482 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:06:18.484 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 61.3528ms
2025-04-06 13:06:18.486 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:06:18.487 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 78.1225ms
2025-04-06 13:06:27.767 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:06:27.771 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:06:27.772 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:06:27.773 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:06:27.777 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:06:27.779 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:06:27.781 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.7225ms
2025-04-06 13:06:27.782 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:06:27.783 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 16.0581ms
2025-04-06 13:06:39.800 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:06:39.803 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:06:39.805 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:06:39.806 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:06:39.810 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:06:39.812 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:06:39.813 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.9689ms
2025-04-06 13:06:39.815 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:06:39.816 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 16.4648ms
2025-04-06 13:07:16.399 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:07:16.407 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:07:16.407 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:07:16.409 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:07:16.415 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:07:16.421 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:07:16.422 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 11.6253ms
2025-04-06 13:07:16.424 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:07:16.425 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 26.6278ms
2025-04-06 13:07:24.366 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:07:24.367 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 13:07:24.370 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:07:24.372 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:07:24.373 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:07:24.374 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:07:24.375 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:07:24.376 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 13:07:24.392 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:07:24.398 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 13:07:24.399 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:07:24.402 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:07:24.404 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 25.9283ms
2025-04-06 13:07:24.405 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 24.898ms
2025-04-06 13:07:24.407 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:07:24.408 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:07:24.409 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 43.2321ms
2025-04-06 13:07:24.410 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 43.4341ms
2025-04-06 13:08:25.278 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:08:25.279 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 13:08:25.285 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:08:25.288 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:08:25.289 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:08:25.289 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:08:25.291 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:08:25.292 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 13:08:25.301 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:08:25.308 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:08:25.310 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 16.9093ms
2025-04-06 13:08:25.311 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 13:08:25.312 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:08:25.315 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:08:25.316 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 37.9712ms
2025-04-06 13:08:25.318 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 18.8683ms
2025-04-06 13:08:25.322 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:08:25.323 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 43.6705ms
2025-04-06 13:08:37.549 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:08:37.552 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:08:37.554 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:08:37.555 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:08:37.559 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:08:37.562 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:08:37.563 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 6.8206ms
2025-04-06 13:08:37.565 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:08:37.566 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 17.0491ms
2025-04-06 13:08:55.370 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:08:55.374 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:08:55.376 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:08:55.378 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:08:55.384 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:08:55.387 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:08:55.389 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 8.0954ms
2025-04-06 13:08:55.391 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:08:55.392 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 22.0474ms
2025-04-06 13:10:09.052 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:10:09.060 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:10:09.062 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:10:09.063 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:10:09.068 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:10:09.074 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:10:09.075 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 9.5724ms
2025-04-06 13:10:09.077 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:10:09.078 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 26.1249ms
2025-04-06 13:10:09.463 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:10:09.468 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:10:09.469 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:10:09.470 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:10:09.474 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:10:09.476 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:10:09.478 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.2959ms
2025-04-06 13:10:09.479 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:10:09.480 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.5374ms
2025-04-06 13:10:38.249 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:10:38.257 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:10:38.258 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:10:38.259 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:10:38.264 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:10:38.270 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:10:38.271 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 9.6944ms
2025-04-06 13:10:38.273 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:10:38.274 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 25.4745ms
2025-04-06 13:10:40.695 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:10:40.698 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:10:40.699 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:10:40.700 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:10:40.704 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:10:40.706 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:10:40.708 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.148ms
2025-04-06 13:10:40.710 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:10:40.711 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.4737ms
2025-04-06 13:10:41.296 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:10:41.297 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 13:10:41.300 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:10:41.302 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:10:41.304 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:10:41.304 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:10:41.305 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:10:41.307 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 13:10:41.323 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:10:41.326 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:10:41.327 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 18.7513ms
2025-04-06 13:10:41.329 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:10:41.330 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 33.2735ms
2025-04-06 13:10:41.348 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 13:10:41.354 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:10:41.355 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 43.4535ms
2025-04-06 13:10:41.358 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:10:41.359 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 62.7136ms
2025-04-06 13:11:04.751 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:11:04.758 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:04.759 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:04.760 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:11:04.764 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:11:04.769 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:04.770 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 8.813ms
2025-04-06 13:11:04.772 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:04.774 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 22.8938ms
2025-04-06 13:11:05.678 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:11:05.682 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:05.683 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:11:05.684 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:11:05.687 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:11:05.691 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:05.693 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 7.6074ms
2025-04-06 13:11:05.695 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:11:05.696 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 17.9288ms
2025-04-06 13:11:06.487 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:11:06.490 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:06.491 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:06.492 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:11:06.496 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:11:06.498 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:06.499 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.4177ms
2025-04-06 13:11:06.501 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:06.502 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 15.6156ms
2025-04-06 13:11:07.936 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:11:07.940 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:07.941 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:11:07.942 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:11:07.946 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:11:07.951 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:07.953 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 9.0376ms
2025-04-06 13:11:07.954 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:11:07.955 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 18.9474ms
2025-04-06 13:11:08.605 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:11:08.609 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:08.610 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:08.611 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:11:08.614 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:11:08.617 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:08.618 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.5904ms
2025-04-06 13:11:08.619 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:08.620 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 15.1134ms
2025-04-06 13:11:09.133 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:11:09.134 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 13:11:09.137 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:09.140 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:09.140 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:09.141 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:11:09.142 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:11:09.143 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 13:11:09.152 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:11:09.155 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:09.156 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 11.6085ms
2025-04-06 13:11:09.158 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:09.159 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 26.6909ms
2025-04-06 13:11:09.173 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 13:11:09.178 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:09.180 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 32.4905ms
2025-04-06 13:11:09.182 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:11:09.184 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 50.1296ms
2025-04-06 13:11:10.228 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:11:10.231 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:10.232 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:10.233 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:11:10.237 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:11:10.240 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:10.241 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.2034ms
2025-04-06 13:11:10.242 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:10.243 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 15.8072ms
2025-04-06 13:11:32.023 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:11:32.025 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 13:11:32.030 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:32.032 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:32.033 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:32.033 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:11:32.034 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:11:32.035 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 13:11:32.044 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:11:32.046 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:32.048 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 10.883ms
2025-04-06 13:11:32.050 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:32.051 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 27.5188ms
2025-04-06 13:11:32.076 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 13:11:32.080 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:32.081 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 40.866ms
2025-04-06 13:11:32.083 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:11:32.084 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 59.6543ms
2025-04-06 13:11:33.746 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:11:33.750 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:33.751 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:33.752 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:11:33.757 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:11:33.763 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:33.764 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 10.4044ms
2025-04-06 13:11:33.766 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:33.767 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 20.6121ms
2025-04-06 13:11:34.135 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:11:34.140 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:34.141 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:11:34.143 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:11:34.147 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:11:34.150 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:34.151 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.1308ms
2025-04-06 13:11:34.152 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:11:34.154 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 18.346ms
2025-04-06 13:11:46.484 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:11:46.488 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:46.489 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:46.490 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:11:46.494 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:11:46.496 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:46.498 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.8465ms
2025-04-06 13:11:46.499 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:46.500 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.4248ms
2025-04-06 13:11:47.860 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:11:47.863 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:47.864 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:11:47.866 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:11:47.869 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:11:47.872 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:47.874 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.8711ms
2025-04-06 13:11:47.875 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:11:47.877 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 16.8068ms
2025-04-06 13:11:48.934 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:11:48.938 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:48.939 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:48.940 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:11:48.944 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:11:48.946 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:48.948 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.9427ms
2025-04-06 13:11:48.949 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:48.950 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.2199ms
2025-04-06 13:11:49.194 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:11:49.195 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 13:11:49.197 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:49.200 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:49.200 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:49.201 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:11:49.202 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:11:49.203 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 13:11:49.208 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:11:49.215 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:49.217 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 11.8553ms
2025-04-06 13:11:49.218 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:49.219 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 25.0017ms
2025-04-06 13:11:49.239 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 13:11:49.243 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:49.244 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 35.7721ms
2025-04-06 13:11:49.246 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:11:49.248 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 53.0016ms
2025-04-06 13:11:52.019 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:11:52.022 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:52.024 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:52.025 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:11:52.029 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:11:52.032 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:52.033 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.8103ms
2025-04-06 13:11:52.034 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:52.035 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.9705ms
2025-04-06 13:11:52.288 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:11:52.292 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:52.293 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:11:52.294 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:11:52.297 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:11:52.300 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:52.301 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.6488ms
2025-04-06 13:11:52.302 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:11:52.304 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 15.6355ms
2025-04-06 13:11:56.602 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:11:56.606 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:56.607 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:56.609 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:11:56.613 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:11:56.616 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:56.618 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.4959ms
2025-04-06 13:11:56.619 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:56.621 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 18.7811ms
2025-04-06 13:11:56.863 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:11:56.864 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 13:11:56.867 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:56.870 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:56.871 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:56.872 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:11:56.874 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:11:56.875 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 13:11:56.880 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:11:56.885 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:56.887 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 8.7626ms
2025-04-06 13:11:56.889 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:56.890 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 27.6563ms
2025-04-06 13:11:56.918 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 13:11:56.922 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:56.924 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 42.0845ms
2025-04-06 13:11:56.926 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:11:56.927 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 62.6089ms
2025-04-06 13:11:57.354 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:11:57.357 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:57.358 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:57.359 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:11:57.363 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:11:57.365 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:57.366 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.3136ms
2025-04-06 13:11:57.368 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:57.369 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 15.3622ms
2025-04-06 13:11:57.670 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:11:57.674 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:57.675 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:11:57.676 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:11:57.679 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:11:57.681 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:57.682 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.3205ms
2025-04-06 13:11:57.684 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:11:57.685 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 15.2526ms
2025-04-06 13:11:58.213 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:11:58.216 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:58.217 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:58.218 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:11:58.221 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:11:58.224 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:58.226 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.5426ms
2025-04-06 13:11:58.228 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:58.229 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 15.8639ms
2025-04-06 13:11:58.894 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:11:58.895 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 13:11:58.898 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:58.900 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:11:58.901 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:58.902 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:11:58.903 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:11:58.904 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 13:11:58.907 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:11:58.911 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:58.913 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.6378ms
2025-04-06 13:11:58.914 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:11:58.915 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 21.6491ms
2025-04-06 13:11:58.933 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 13:11:58.937 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:11:58.940 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 31.9752ms
2025-04-06 13:11:58.942 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:11:58.943 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 48.3124ms
2025-04-06 13:12:26.065 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:12:26.074 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:12:26.075 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:12:26.076 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:12:26.085 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:12:26.088 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:12:26.090 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 12.2822ms
2025-04-06 13:12:26.091 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:12:26.092 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 26.7857ms
2025-04-06 13:12:27.733 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:12:27.737 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:12:27.738 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:12:27.739 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:12:27.743 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:12:27.747 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:12:27.749 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 8.2242ms
2025-04-06 13:12:27.750 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:12:27.751 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 17.9699ms
2025-04-06 13:12:28.814 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:12:28.817 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:12:28.818 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:12:28.820 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:12:28.824 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:12:28.830 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:12:28.831 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 9.3979ms
2025-04-06 13:12:28.833 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:12:28.834 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 20.0129ms
2025-04-06 13:12:29.264 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:12:29.267 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:12:29.268 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:12:29.269 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:12:29.274 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:12:29.276 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:12:29.277 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.3762ms
2025-04-06 13:12:29.279 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:12:29.280 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 16.5427ms
2025-04-06 13:12:30.085 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:12:30.089 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:12:30.090 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:12:30.091 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:12:30.096 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:12:30.098 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:12:30.099 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.1693ms
2025-04-06 13:12:30.101 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:12:30.102 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.9295ms
2025-04-06 13:12:30.641 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:12:30.643 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 13:12:30.645 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:12:30.647 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:12:30.648 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:12:30.648 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:12:30.649 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:12:30.650 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 13:12:30.656 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:12:30.663 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:12:30.665 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 12.8371ms
2025-04-06 13:12:30.666 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:12:30.667 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 26.2167ms
2025-04-06 13:12:30.696 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 13:12:30.699 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:12:30.700 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 44.6298ms
2025-04-06 13:12:30.702 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:12:30.703 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 60.5107ms
2025-04-06 13:12:47.278 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:12:47.282 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:12:47.283 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:12:47.284 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:12:47.288 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:12:47.291 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:12:47.292 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.1055ms
2025-04-06 13:12:47.294 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:12:47.295 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.4911ms
2025-04-06 13:13:27.882 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:13:27.892 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:13:27.893 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:13:27.894 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:13:27.898 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:13:27.905 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:13:27.906 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 9.8859ms
2025-04-06 13:13:27.907 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:13:27.908 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 26.6313ms
2025-04-06 13:13:28.684 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:13:28.688 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:13:28.689 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:13:28.690 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:13:28.694 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:13:28.699 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:13:28.701 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 8.8488ms
2025-04-06 13:13:28.703 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:13:28.704 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 19.2485ms
2025-04-06 13:13:29.108 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:13:29.112 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:13:29.113 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:13:29.115 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:13:29.119 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:13:29.121 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:13:29.122 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.4675ms
2025-04-06 13:13:29.123 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:13:29.124 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 16.2075ms
2025-04-06 13:13:30.058 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:13:30.061 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:13:30.061 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:13:30.062 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:13:30.066 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:13:30.068 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:13:30.069 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.3543ms
2025-04-06 13:13:30.071 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:13:30.072 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 13.5804ms
2025-04-06 13:13:30.406 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:13:30.409 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:13:30.410 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:13:30.411 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:13:30.414 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:13:30.416 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:13:30.418 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.4778ms
2025-04-06 13:13:30.420 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:13:30.421 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 14.7476ms
2025-04-06 13:13:31.303 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:13:31.304 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 13:13:31.307 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:13:31.310 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:13:31.310 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:13:31.311 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:13:31.312 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:13:31.313 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 13:13:31.317 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:13:31.322 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:13:31.323 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 13:13:31.324 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 8.7604ms
2025-04-06 13:13:31.327 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:13:31.328 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:13:31.329 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 10.7909ms
2025-04-06 13:13:31.330 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 27.1953ms
2025-04-06 13:13:31.332 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:13:31.338 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 34.3231ms
2025-04-06 13:15:44.391 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:15:44.398 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:15:44.399 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:15:44.401 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:15:44.405 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:15:44.410 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:15:44.411 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 8.6676ms
2025-04-06 13:15:44.413 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:15:44.414 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 23.1925ms
2025-04-06 13:15:51.440 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/Device/ - null null
2025-04-06 13:15:51.443 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:15:51.446 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/Device/ - 204 null null 5.4012ms
2025-04-06 13:15:51.450 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5118/api/Device/ - application/json 88
2025-04-06 13:15:51.453 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:15:51.453 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.CreateDevice (DMCheckSheetAPI)'
2025-04-06 13:15:51.461 +07:00 [INF] Route matched with {action = "CreateDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDevice(DMCheckSheetAPI.Models.DTO.Device.CreateDeviceDTO) on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:15:51.693 +07:00 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 255), @p4='?' (Size = 500), @p5='?' (DbType = Int32), @p6='?' (Size = 500), @p7='?' (DbType = DateTime2), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DeviceMST] ([CancelFlag], [CreateAt], [CreateBy], [DeviceCode], [DeviceName], [Frequency], [Location], [UpdateAt], [UpdateBy])
OUTPUT INSERTED.[DeviceId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-04-06 13:15:51.716 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-06 13:15:51.732 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.CreateDevice (DMCheckSheetAPI) in 267.307ms
2025-04-06 13:15:51.734 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.CreateDevice (DMCheckSheetAPI)'
2025-04-06 13:15:51.735 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5118/api/Device/ - 201 null application/json; charset=utf-8 285.5324ms
2025-04-06 13:15:51.739 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:15:51.742 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:15:51.742 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:15:51.743 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:15:51.747 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:15:51.750 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:15:51.752 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 6.8954ms
2025-04-06 13:15:51.753 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:15:51.754 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 15.0935ms
2025-04-06 13:15:59.301 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/Device/12/cancel - null null
2025-04-06 13:15:59.304 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:15:59.305 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/Device/12/cancel - 204 null null 4.4257ms
2025-04-06 13:15:59.310 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/Device/12/cancel - null 0
2025-04-06 13:15:59.314 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:15:59.315 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-06 13:15:59.319 +07:00 [INF] Route matched with {action = "UpdateCancelFlag", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCancelFlag(Int32) on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:15:59.360 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[DeviceId] = @__p_0
2025-04-06 13:15:59.383 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DeviceMST] SET [CancelFlag] = @p0
OUTPUT 1
WHERE [DeviceId] = @p1;
2025-04-06 13:15:59.386 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-06 13:15:59.388 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.UpdateCancelFlag (DMCheckSheetAPI) in 66.6688ms
2025-04-06 13:15:59.389 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.UpdateCancelFlag (DMCheckSheetAPI)'
2025-04-06 13:15:59.390 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/Device/12/cancel - 200 null application/json; charset=utf-8 80.6063ms
2025-04-06 13:15:59.394 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:15:59.397 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:15:59.397 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:15:59.398 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:15:59.413 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:15:59.416 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:15:59.418 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 17.8379ms
2025-04-06 13:15:59.419 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:15:59.420 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 26.2736ms
2025-04-06 13:16:06.053 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:16:06.056 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:16:06.057 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:16:06.058 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:16:06.062 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:16:06.065 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:16:06.066 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 6.7231ms
2025-04-06 13:16:06.068 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:16:06.069 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 16.3983ms
2025-04-06 13:16:06.358 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:16:06.361 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:16:06.362 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:16:06.363 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:16:06.367 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:16:06.372 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:16:06.374 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 8.5645ms
2025-04-06 13:16:06.375 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:16:06.376 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 18.4277ms
2025-04-06 13:16:10.316 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:16:10.317 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 13:16:10.320 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:16:10.322 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:16:10.323 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:16:10.324 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:16:10.326 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:16:10.327 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 13:16:10.334 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:16:10.337 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:16:10.339 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 8.5472ms
2025-04-06 13:16:10.339 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 13:16:10.340 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:16:10.347 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:16:10.348 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 32.5383ms
2025-04-06 13:16:10.351 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 16.0086ms
2025-04-06 13:16:10.355 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:16:10.356 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 39.7699ms
2025-04-06 13:16:43.877 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:16:43.885 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:16:43.886 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:16:43.888 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:16:43.892 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:16:43.898 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:16:43.900 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 10.1132ms
2025-04-06 13:16:43.901 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:16:43.902 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 25.402ms
2025-04-06 13:16:45.878 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:16:45.882 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:16:45.882 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:16:45.884 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:16:45.888 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:16:45.890 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:16:45.891 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.1647ms
2025-04-06 13:16:45.892 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:16:45.894 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 15.7851ms
2025-04-06 13:16:46.199 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:16:46.200 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 13:16:46.202 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:16:46.204 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:16:46.205 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:16:46.205 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:16:46.206 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:16:46.207 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 13:16:46.212 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:16:46.219 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:16:46.221 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 11.887ms
2025-04-06 13:16:46.222 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:16:46.223 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 24.1038ms
2025-04-06 13:16:46.259 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 13:16:46.263 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:16:46.265 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 52.8534ms
2025-04-06 13:16:46.267 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:16:46.268 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 68.3552ms
2025-04-06 13:16:46.886 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:16:46.890 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:16:46.891 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:16:46.892 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:16:46.896 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:16:46.898 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:16:46.900 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.6331ms
2025-04-06 13:16:46.901 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:16:46.902 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.2276ms
2025-04-06 13:16:47.228 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:16:47.229 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 13:16:47.232 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:16:47.235 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:16:47.236 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:16:47.237 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:16:47.238 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:16:47.238 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 13:16:47.247 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:16:47.252 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:16:47.254 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 13.0695ms
2025-04-06 13:16:47.255 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:16:47.257 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 28.3113ms
2025-04-06 13:16:47.272 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 13:16:47.276 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:16:47.278 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 30.5966ms
2025-04-06 13:16:47.280 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:16:47.281 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 52.0464ms
2025-04-06 13:17:50.526 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:17:50.533 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:17:50.533 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:17:50.534 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:17:50.541 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:17:50.545 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:17:50.546 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 10.2736ms
2025-04-06 13:17:50.548 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:17:50.549 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 22.1431ms
2025-04-06 13:17:51.242 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:17:51.246 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:17:51.246 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:17:51.247 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:17:51.251 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:17:51.256 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:17:51.258 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 9.0572ms
2025-04-06 13:17:51.259 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:17:51.261 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 19.1535ms
2025-04-06 13:18:34.048 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:18:34.053 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:18:34.054 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:18:34.056 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:18:34.061 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:18:34.066 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:18:34.068 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 9.1363ms
2025-04-06 13:18:34.069 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:18:34.070 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 22.3068ms
2025-04-06 13:18:38.189 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:18:38.192 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:18:38.193 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:18:38.194 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:18:38.199 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:18:38.207 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:18:38.208 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 11.3632ms
2025-04-06 13:18:38.210 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:18:38.211 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 22.2293ms
2025-04-06 13:18:45.873 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/Device/[object Object] - null null
2025-04-06 13:18:45.877 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:18:45.878 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/Device/[object Object] - 204 null null 5.6432ms
2025-04-06 13:18:45.882 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/Device/[object Object] - null 0
2025-04-06 13:18:45.884 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:18:45.885 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.UpdateDevice (DMCheckSheetAPI)'
2025-04-06 13:18:45.889 +07:00 [INF] Route matched with {action = "UpdateDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDevice(Int32, DMCheckSheetAPI.Models.DTO.Device.UpdateDeviceDTO) on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:18:45.895 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-06 13:18:45.909 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.UpdateDevice (DMCheckSheetAPI) in 18.4534ms
2025-04-06 13:18:45.911 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.UpdateDevice (DMCheckSheetAPI)'
2025-04-06 13:18:45.913 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/Device/[object Object] - 415 null application/problem+json; charset=utf-8 31.2566ms
2025-04-06 13:18:45.917 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:18:45.920 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:18:45.921 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:18:45.922 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:18:45.927 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:18:45.930 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:18:45.932 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 7.8929ms
2025-04-06 13:18:45.934 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:18:45.936 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 19.5102ms
2025-04-06 13:19:22.024 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:19:22.027 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:19:22.027 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:19:22.028 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:19:22.032 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:19:22.038 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:19:22.039 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 9.4324ms
2025-04-06 13:19:22.041 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:19:22.042 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 17.6454ms
2025-04-06 13:19:28.064 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/Device/[object Object] - null null
2025-04-06 13:19:28.067 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:19:28.068 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/Device/[object Object] - 204 null null 3.9582ms
2025-04-06 13:19:28.072 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/Device/[object Object] - null 0
2025-04-06 13:19:28.076 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:19:28.077 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.UpdateDevice (DMCheckSheetAPI)'
2025-04-06 13:19:28.078 +07:00 [INF] Route matched with {action = "UpdateDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDevice(Int32, DMCheckSheetAPI.Models.DTO.Device.UpdateDeviceDTO) on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:19:28.081 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-06 13:19:28.083 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.UpdateDevice (DMCheckSheetAPI) in 2.6885ms
2025-04-06 13:19:28.085 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.UpdateDevice (DMCheckSheetAPI)'
2025-04-06 13:19:28.086 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/Device/[object Object] - 415 null application/problem+json; charset=utf-8 14.8887ms
2025-04-06 13:19:28.090 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:19:28.093 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:19:28.094 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:19:28.096 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:19:28.100 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:19:28.106 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:19:28.108 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 9.4011ms
2025-04-06 13:19:28.109 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:19:28.110 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 20.1578ms
2025-04-06 13:22:06.519 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:22:06.523 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:22:06.523 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:22:06.524 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:22:06.529 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:22:06.535 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:22:06.536 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 10.4834ms
2025-04-06 13:22:06.538 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:22:06.539 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 19.7379ms
2025-04-06 13:22:09.216 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:22:09.222 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:22:09.224 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:22:09.225 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:22:09.229 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:22:09.232 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:22:09.234 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 6.2412ms
2025-04-06 13:22:09.235 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:22:09.237 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 20.4086ms
2025-04-06 13:22:19.048 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:22:19.052 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:22:19.053 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:22:19.054 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:22:19.058 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:22:19.061 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:22:19.063 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 6.3777ms
2025-04-06 13:22:19.064 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:22:19.066 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 18.532ms
2025-04-06 13:22:25.040 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:22:25.044 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:22:25.045 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:22:25.047 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:22:25.051 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:22:25.057 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:22:25.059 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 9.4469ms
2025-04-06 13:22:25.061 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:22:25.062 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 21.3947ms
2025-04-06 13:22:34.342 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:22:34.346 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:22:34.347 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:22:34.348 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:22:34.353 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:22:34.357 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:22:34.358 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 6.8872ms
2025-04-06 13:22:34.360 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:22:34.361 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 18.5532ms
2025-04-06 13:23:09.532 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:23:09.540 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:23:09.541 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:23:09.543 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:23:09.549 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:23:09.553 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:23:09.555 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 9.1366ms
2025-04-06 13:23:09.557 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:23:09.558 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 25.2206ms
2025-04-06 13:23:12.684 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:23:12.688 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:23:12.689 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:23:12.690 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:23:12.694 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:23:12.700 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:23:12.701 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 9.3731ms
2025-04-06 13:23:12.702 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:23:12.703 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 19.4917ms
2025-04-06 13:23:17.783 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:23:17.786 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:23:17.787 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:23:17.789 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:23:17.796 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:23:17.800 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:23:17.802 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 10.3927ms
2025-04-06 13:23:17.804 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:23:17.805 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 22.3582ms
2025-04-06 13:23:45.810 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:23:45.819 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:23:45.820 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:23:45.821 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:23:45.825 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:23:45.832 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:23:45.834 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 11.1581ms
2025-04-06 13:23:45.835 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:23:45.837 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 26.3745ms
2025-04-06 13:23:51.414 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:23:51.417 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:23:51.418 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:23:51.419 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:23:51.423 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:23:51.426 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:23:51.427 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.9783ms
2025-04-06 13:23:51.429 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:23:51.430 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 16.1114ms
2025-04-06 13:28:29.799 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/Device/11 - application/json 118
2025-04-06 13:28:29.807 +07:00 [INF] CORS policy execution failed.
2025-04-06 13:28:29.808 +07:00 [INF] Request origin http://localhost:5118 does not have permission to access the resource.
2025-04-06 13:28:29.809 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.UpdateDevice (DMCheckSheetAPI)'
2025-04-06 13:28:29.810 +07:00 [INF] Route matched with {action = "UpdateDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDevice(Int32, DMCheckSheetAPI.Models.DTO.Device.UpdateDeviceDTO) on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:28:29.832 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[DeviceId] = @__p_0
2025-04-06 13:28:29.867 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 500), @p1='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DeviceMST] SET [DeviceName] = @p0, [UpdateBy] = @p1
OUTPUT 1
WHERE [DeviceId] = @p2;
2025-04-06 13:28:29.871 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-06 13:28:29.872 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.UpdateDevice (DMCheckSheetAPI) in 59.5852ms
2025-04-06 13:28:29.874 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.UpdateDevice (DMCheckSheetAPI)'
2025-04-06 13:28:29.875 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/Device/11 - 200 null application/json; charset=utf-8 75.7214ms
2025-04-06 13:28:34.074 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:28:34.078 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:28:34.079 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:28:34.080 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:28:34.085 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:28:34.091 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:28:34.092 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 10.1425ms
2025-04-06 13:28:34.094 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:28:34.095 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 20.2255ms
2025-04-06 13:32:42.513 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:32:42.519 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:32:42.520 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:32:42.521 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:32:42.535 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:32:42.538 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:32:42.539 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 16.8758ms
2025-04-06 13:32:42.541 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:32:42.542 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 29.7432ms
2025-04-06 13:33:03.854 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:33:03.861 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:33:03.862 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:33:03.864 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:33:03.869 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:33:03.876 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:33:03.878 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 11.7245ms
2025-04-06 13:33:03.880 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:33:03.882 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 27.8343ms
2025-04-06 13:34:37.515 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:34:37.522 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:34:37.523 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:34:37.524 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:34:37.528 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:34:37.533 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:34:37.535 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 9.3402ms
2025-04-06 13:34:37.536 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:34:37.538 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 23.026ms
2025-04-06 13:34:45.703 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/Device/ - null null
2025-04-06 13:34:45.706 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:34:45.708 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:34:45.709 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:34:45.714 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:34:45.717 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:34:45.722 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 10.9096ms
2025-04-06 13:34:45.724 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:34:45.725 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/Device/ - 200 null application/json; charset=utf-8 22.5491ms
2025-04-06 13:36:50.529 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/device/ - null null
2025-04-06 13:36:50.538 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:36:50.539 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:36:50.541 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:36:50.545 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:36:50.553 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:36:50.555 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 11.5028ms
2025-04-06 13:36:50.557 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:36:50.558 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/device/ - 200 null application/json; charset=utf-8 28.3116ms
2025-04-06 13:36:54.503 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/device/ - null null
2025-04-06 13:36:54.506 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:36:54.506 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:36:54.508 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:36:54.512 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:36:54.517 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:36:54.519 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 9.1925ms
2025-04-06 13:36:54.520 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:36:54.521 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/device/ - 200 null application/json; charset=utf-8 17.9522ms
2025-04-06 13:36:58.425 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/device/11 - null null
2025-04-06 13:36:58.428 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:36:58.429 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/device/11 - 204 null null 3.2951ms
2025-04-06 13:36:58.433 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/device/11 - application/json 253
2025-04-06 13:36:58.435 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:36:58.436 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.UpdateDevice (DMCheckSheetAPI)'
2025-04-06 13:36:58.437 +07:00 [INF] Route matched with {action = "UpdateDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDevice(Int32, DMCheckSheetAPI.Models.DTO.Device.UpdateDeviceDTO) on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:36:58.442 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[DeviceId] = @__p_0
2025-04-06 13:36:58.459 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DeviceMST] SET [DeviceName] = @p0
OUTPUT 1
WHERE [DeviceId] = @p1;
2025-04-06 13:36:58.463 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-06 13:36:58.464 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.UpdateDevice (DMCheckSheetAPI) in 25.7418ms
2025-04-06 13:36:58.466 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.UpdateDevice (DMCheckSheetAPI)'
2025-04-06 13:36:58.467 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/device/11 - 200 null application/json; charset=utf-8 34.4012ms
2025-04-06 13:36:58.471 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/device/ - null null
2025-04-06 13:36:58.473 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:36:58.474 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:36:58.475 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:36:58.478 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:36:58.480 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:36:58.482 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.8215ms
2025-04-06 13:36:58.484 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:36:58.485 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/device/ - 200 null application/json; charset=utf-8 14.1378ms
2025-04-06 13:43:37.472 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/device/ - null null
2025-04-06 13:43:37.478 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:43:37.478 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:43:37.479 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:43:37.494 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:43:37.496 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:43:37.498 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 16.4036ms
2025-04-06 13:43:37.499 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:43:37.500 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/device/ - 200 null application/json; charset=utf-8 28.534ms
2025-04-06 13:43:47.393 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/device/ - null null
2025-04-06 13:43:47.397 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:43:47.399 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:43:47.400 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:43:47.406 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:43:47.411 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:43:47.412 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 8.9007ms
2025-04-06 13:43:47.414 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:43:47.415 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/device/ - 200 null application/json; charset=utf-8 21.4571ms
2025-04-06 13:43:49.856 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:43:49.857 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 13:43:49.860 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:43:49.862 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:43:49.863 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:43:49.864 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:43:49.865 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:43:49.866 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 13:43:49.876 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:43:49.881 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:43:49.889 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 13:43:49.890 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 22.2495ms
2025-04-06 13:43:49.893 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:43:49.895 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:43:49.896 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 26.0076ms
2025-04-06 13:43:49.898 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 41.3785ms
2025-04-06 13:43:49.899 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 13:43:49.903 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 46.0836ms
2025-04-06 13:43:59.659 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:43:59.663 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:43:59.664 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:43:59.665 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:43:59.669 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:43:59.671 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:43:59.672 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.2378ms
2025-04-06 13:43:59.674 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:43:59.675 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 15.6367ms
2025-04-06 13:44:04.440 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/device/ - null null
2025-04-06 13:44:04.444 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:44:04.445 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:44:04.447 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:44:04.451 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:44:04.456 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:44:04.458 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 9.5275ms
2025-04-06 13:44:04.459 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:44:04.460 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/device/ - 200 null application/json; charset=utf-8 20.2812ms
2025-04-06 13:44:05.544 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/device/ - null null
2025-04-06 13:44:05.547 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:44:05.548 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:44:05.549 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 13:44:05.553 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:44:05.556 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:44:05.557 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.329ms
2025-04-06 13:44:05.558 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 13:44:05.559 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/device/ - 200 null application/json; charset=utf-8 15.8179ms
2025-04-06 13:44:05.913 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 13:44:05.917 +07:00 [INF] CORS policy execution successful.
2025-04-06 13:44:05.918 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:44:05.919 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 13:44:05.923 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 13:44:05.925 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 13:44:05.926 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.431ms
2025-04-06 13:44:05.928 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 13:44:05.929 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 16.033ms
2025-04-06 14:17:38.312 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/device/ - null null
2025-04-06 14:17:38.317 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:17:38.318 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 14:17:38.320 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 14:17:38.338 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 14:17:38.340 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:17:38.341 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 19.7601ms
2025-04-06 14:17:38.342 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 14:17:38.344 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/device/ - 200 null application/json; charset=utf-8 31.8828ms
2025-04-06 14:17:45.364 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 14:17:45.368 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:17:45.369 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 14:17:45.370 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 14:17:45.374 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 14:17:45.377 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:17:45.378 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.469ms
2025-04-06 14:17:45.380 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 14:17:45.382 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 17.6715ms
2025-04-06 14:17:45.604 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 14:17:45.605 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 14:17:45.607 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:17:45.610 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:17:45.611 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 14:17:45.612 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 14:17:45.614 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 14:17:45.615 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 14:17:45.620 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 14:17:45.628 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:17:45.630 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 13.1978ms
2025-04-06 14:17:45.632 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 14:17:45.635 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 31.3896ms
2025-04-06 14:17:45.636 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 14:17:45.641 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:17:45.642 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 21.1653ms
2025-04-06 14:17:45.644 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 14:17:45.645 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 39.7528ms
2025-04-06 14:17:48.330 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/device/ - null null
2025-04-06 14:17:48.334 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:17:48.335 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 14:17:48.336 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 14:17:48.340 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 14:17:48.342 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:17:48.343 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.2689ms
2025-04-06 14:17:48.344 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 14:17:48.345 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/device/ - 200 null application/json; charset=utf-8 15.5148ms
2025-04-06 14:17:51.914 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/device/11 - null null
2025-04-06 14:17:51.917 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:17:51.918 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/device/11 - 204 null null 3.8654ms
2025-04-06 14:17:51.921 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/device/11 - application/json 254
2025-04-06 14:17:51.923 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:17:51.924 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.UpdateDevice (DMCheckSheetAPI)'
2025-04-06 14:17:51.925 +07:00 [INF] Route matched with {action = "UpdateDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDevice(Int32, DMCheckSheetAPI.Models.DTO.Device.UpdateDeviceDTO) on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 14:17:51.930 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[DeviceId] = @__p_0
2025-04-06 14:17:51.944 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DeviceMST] SET [DeviceName] = @p0
OUTPUT 1
WHERE [DeviceId] = @p1;
2025-04-06 14:17:51.948 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-06 14:17:51.951 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.UpdateDevice (DMCheckSheetAPI) in 24.9284ms
2025-04-06 14:17:51.953 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.UpdateDevice (DMCheckSheetAPI)'
2025-04-06 14:17:51.954 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/device/11 - 200 null application/json; charset=utf-8 33.3081ms
2025-04-06 14:17:51.958 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/device/ - null null
2025-04-06 14:17:51.960 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:17:51.961 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 14:17:51.962 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 14:17:51.965 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 14:17:51.968 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:17:51.970 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 6.348ms
2025-04-06 14:17:51.971 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 14:17:51.972 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/device/ - 200 null application/json; charset=utf-8 14.5097ms
2025-04-06 14:18:07.946 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5118/api/device/11 - null null
2025-04-06 14:18:07.950 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:18:07.951 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5118/api/device/11 - 204 null null 5.0416ms
2025-04-06 14:18:07.955 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5118/api/device/11 - application/json 252
2025-04-06 14:18:07.957 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:18:07.958 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.UpdateDevice (DMCheckSheetAPI)'
2025-04-06 14:18:07.959 +07:00 [INF] Route matched with {action = "UpdateDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDevice(Int32, DMCheckSheetAPI.Models.DTO.Device.UpdateDeviceDTO) on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 14:18:07.965 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[DeviceId] = @__p_0
2025-04-06 14:18:07.978 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DeviceMST] SET [DeviceName] = @p0
OUTPUT 1
WHERE [DeviceId] = @p1;
2025-04-06 14:18:07.981 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-06 14:18:07.984 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.UpdateDevice (DMCheckSheetAPI) in 22.521ms
2025-04-06 14:18:07.986 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.UpdateDevice (DMCheckSheetAPI)'
2025-04-06 14:18:07.988 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5118/api/device/11 - 200 null application/json; charset=utf-8 33.4981ms
2025-04-06 14:18:07.993 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/device/ - null null
2025-04-06 14:18:07.995 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:18:07.996 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 14:18:07.998 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 14:18:08.003 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 14:18:08.006 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:18:08.007 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 6.4907ms
2025-04-06 14:18:08.009 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 14:18:08.010 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/device/ - 200 null application/json; charset=utf-8 17.5125ms
2025-04-06 14:18:20.524 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 14:18:20.528 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:18:20.528 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 14:18:20.530 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 14:18:20.534 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 14:18:20.537 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:18:20.538 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.4206ms
2025-04-06 14:18:20.540 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 14:18:20.542 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 17.214ms
2025-04-06 14:18:20.841 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 14:18:20.842 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - null null
2025-04-06 14:18:20.845 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:18:20.849 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:18:20.849 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 14:18:20.850 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 14:18:20.851 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 14:18:20.852 +07:00 [INF] Route matched with {action = "GetListItem", controller = "CheckSheetItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListItem() on controller DMCheckSheetAPI.Controllers.CheckSheetItemController (DMCheckSheetAPI).
2025-04-06 14:18:20.856 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 14:18:20.861 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:18:20.862 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 8.4635ms
2025-04-06 14:18:20.864 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 14:18:20.865 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 24.3254ms
2025-04-06 14:18:20.888 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                            WITH RecursiveCheckSheet AS (
                            -- Lấy danh sách cha (ParentId IS NULL)
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                0 AS Level,
                                CAST(c.ItemId AS VARCHAR(MAX)) AS Path,
                                CAST(RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            WHERE c.ParentId IS NULL

                            UNION ALL

                            -- Lấy danh sách con và tiếp tục tạo thứ tự OrderPath
                            SELECT 
                                c.SheetId,
                                c.ItemId, 
                                c.ParentId, 
                                c.Content, 
                                c.OrderNumber,
                                c.DataType,
                                c.CancelFlag,
                                rc.Level + 1, 
                                CAST(rc.Path + '.' + CAST(c.ItemId AS VARCHAR(MAX)) AS VARCHAR(MAX)) AS Path,
                                CAST(rc.OrderPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY c.SheetId, c.ParentId ORDER BY c.OrderNumber) AS VARCHAR(MAX)), 3) AS VARCHAR(MAX)) AS OrderPath
                            FROM CheckSheetItemMST c
                            INNER JOIN RecursiveCheckSheet rc ON c.ParentId = rc.ItemId
                        )
                        SELECT cs.SheetId, cs.FormNO, cs.SheetCode, cs.SheetName, r.ItemId, r.ParentId, r.Content, r.OrderNumber, r.DataType, r.Level, r.OrderPath, r.CancelFlag
                        FROM RecursiveCheckSheet as r
                        LEFT JOIN CheckSheetMST as cs ON r.SheetId = cs.SheetId
                        WHERE r.CancelFlag = 0
                        ORDER BY r.SheetId, r.OrderPath;
2025-04-06 14:18:20.893 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.DTO.CheckSheetItem.ItemDTO, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:18:20.894 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI) in 37.484ms
2025-04-06 14:18:20.896 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetItemController.GetListItem (DMCheckSheetAPI)'
2025-04-06 14:18:20.898 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetItem/ - 200 null application/json; charset=utf-8 55.3029ms
2025-04-06 14:23:53.076 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 14:23:53.081 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:23:53.081 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 14:23:53.083 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 14:23:53.088 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 14:23:53.096 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:23:53.098 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 13.3745ms
2025-04-06 14:23:53.101 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 14:23:53.102 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 26.1261ms
2025-04-06 14:23:58.285 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/device/ - null null
2025-04-06 14:23:58.289 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:23:58.290 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 14:23:58.291 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 14:23:58.296 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 14:23:58.299 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:23:58.301 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 7.2725ms
2025-04-06 14:23:58.302 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 14:23:58.305 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/device/ - 200 null application/json; charset=utf-8 19.6095ms
2025-04-06 14:24:09.139 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 14:24:09.143 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:24:09.144 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 14:24:09.146 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 14:24:09.151 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 14:24:09.154 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:24:09.156 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 7.8885ms
2025-04-06 14:24:09.157 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 14:24:09.159 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 19.9024ms
2025-04-06 14:24:17.597 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/device/ - null null
2025-04-06 14:24:17.601 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:24:17.602 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 14:24:17.604 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 14:24:17.608 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 14:24:17.619 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:24:17.623 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 16.8475ms
2025-04-06 14:24:17.625 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 14:24:17.626 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/device/ - 200 null application/json; charset=utf-8 28.9735ms
2025-04-06 14:24:17.841 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 14:24:17.845 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:24:17.847 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 14:24:17.848 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 14:24:17.852 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 14:24:17.855 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:24:17.857 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.915ms
2025-04-06 14:24:17.858 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 14:24:17.859 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 18.448ms
2025-04-06 14:24:18.294 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/device/ - null null
2025-04-06 14:24:18.298 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:24:18.299 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 14:24:18.300 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 14:24:18.305 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 14:24:18.308 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:24:18.310 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 7.4409ms
2025-04-06 14:24:18.312 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 14:24:18.314 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/device/ - 200 null application/json; charset=utf-8 19.6691ms
2025-04-06 14:24:19.907 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 14:24:19.911 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:24:19.912 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 14:24:19.913 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 14:24:19.917 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 14:24:19.920 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:24:19.921 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 5.9552ms
2025-04-06 14:24:19.923 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 14:24:19.925 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 17.7206ms
2025-04-06 14:24:20.394 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/device/ - null null
2025-04-06 14:24:20.398 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:24:20.399 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 14:24:20.400 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 14:24:20.406 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 14:24:20.409 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:24:20.411 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 7.8954ms
2025-04-06 14:24:20.413 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 14:24:20.414 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/device/ - 200 null application/json; charset=utf-8 20.2117ms
2025-04-06 14:24:20.818 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 14:24:20.822 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:24:20.823 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 14:24:20.824 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 14:24:20.831 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 14:24:20.837 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:24:20.839 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 12.6332ms
2025-04-06 14:24:20.842 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 14:24:20.844 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 26.0812ms
2025-04-06 14:24:21.433 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/device/ - null null
2025-04-06 14:24:21.438 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:24:21.439 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 14:24:21.441 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 14:24:21.444 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 14:24:21.446 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:24:21.448 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.1461ms
2025-04-06 14:24:21.449 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 14:24:21.451 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/device/ - 200 null application/json; charset=utf-8 17.1266ms
2025-04-06 14:24:22.203 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/device/ - null null
2025-04-06 14:24:22.208 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:24:22.209 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 14:24:22.210 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 14:24:22.214 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 14:24:22.216 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:24:22.218 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 5.528ms
2025-04-06 14:24:22.220 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 14:24:22.221 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/device/ - 200 null application/json; charset=utf-8 17.8277ms
2025-04-06 14:24:22.612 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - null null
2025-04-06 14:24:22.616 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:24:22.617 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 14:24:22.619 +07:00 [INF] Route matched with {action = "GetListCheckSheet", controller = "CheckSheet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheet() on controller DMCheckSheetAPI.Controllers.CheckSheetController (DMCheckSheetAPI).
2025-04-06 14:24:22.623 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[SheetId], [c].[CancelFlag], [c].[CreateAt], [c].[CreateBy], [c].[FormNO], [c].[SheetCode], [c].[SheetName], [c].[UpdateAt], [c].[UpdateBy]
FROM [CheckSheetMST] AS [c]
WHERE [c].[CancelFlag] = CAST(0 AS bit)
2025-04-06 14:24:22.626 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:24:22.628 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI) in 6.8473ms
2025-04-06 14:24:22.630 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetController.GetListCheckSheet (DMCheckSheetAPI)'
2025-04-06 14:24:22.631 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheet/ - 200 null application/json; charset=utf-8 19.1515ms
2025-04-06 14:24:24.454 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/device/ - null null
2025-04-06 14:24:24.459 +07:00 [INF] CORS policy execution successful.
2025-04-06 14:24:24.460 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 14:24:24.461 +07:00 [INF] Route matched with {action = "GetListDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDevice() on controller DMCheckSheetAPI.Controllers.DeviceController (DMCheckSheetAPI).
2025-04-06 14:24:24.465 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[CancelFlag], [d].[CreateAt], [d].[CreateBy], [d].[DeviceCode], [d].[DeviceName], [d].[Frequency], [d].[Location], [d].[UpdateAt], [d].[UpdateBy]
FROM [DeviceMST] AS [d]
WHERE [d].[CancelFlag] = CAST(0 AS bit)
2025-04-06 14:24:24.467 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.DeviceMST, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 14:24:24.469 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI) in 6.7379ms
2025-04-06 14:24:24.471 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.DeviceController.GetListDevice (DMCheckSheetAPI)'
2025-04-06 14:24:24.473 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/device/ - 200 null application/json; charset=utf-8 19.2878ms
2025-04-06 16:10:48.317 +07:00 [INF] User profile is available. Using 'C:\Users\24182\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-06 16:10:48.679 +07:00 [INF] Now listening on: http://localhost:5118
2025-04-06 16:10:48.785 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-06 16:10:48.788 +07:00 [INF] Hosting environment: Development
2025-04-06 16:10:48.788 +07:00 [INF] Content root path: D:\IT-03-Code\01-MAIN\02.DM-CheckSheet\API\DMCheckSheetAPI\DMCheckSheetAPI
2025-04-06 16:10:51.948 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/index.html - null null
2025-04-06 16:10:52.198 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/index.html - 200 null text/html;charset=utf-8 257.0581ms
2025-04-06 16:10:52.207 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/_framework/aspnetcore-browser-refresh.js - null null
2025-04-06 16:10:52.213 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 7.3469ms
2025-04-06 16:10:52.223 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/index.js - null null
2025-04-06 16:10:52.227 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/index.js - 200 null application/javascript;charset=utf-8 4.4855ms
2025-04-06 16:10:52.342 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/_vs/browserLink - null null
2025-04-06 16:10:52.374 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.4815ms
2025-04-06 16:10:52.504 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/swagger/v1/swagger.json - null null
2025-04-06 16:10:52.626 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 121.6765ms
2025-04-06 16:11:00.299 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetDevice - null null
2025-04-06 16:11:00.308 +07:00 [WRN] Failed to determine the https port for redirect.
2025-04-06 16:11:00.424 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetDeviceController.GetListCheckSheetDevice (DMCheckSheetAPI)'
2025-04-06 16:11:00.446 +07:00 [INF] Route matched with {action = "GetListCheckSheetDevice", controller = "CheckSheetDevice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListCheckSheetDevice() on controller DMCheckSheetAPI.Controllers.CheckSheetDeviceController (DMCheckSheetAPI).
2025-04-06 16:11:01.869 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CheckSheetId], [c].[DeviceId]
FROM [CheckSheetDevices] AS [c]
2025-04-06 16:11:01.896 +07:00 [INF] Executing OkObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.Collections.Generic.List`1[[DMCheckSheetAPI.Models.Domain.CheckSheetDevice, DMCheckSheetAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 16:11:01.914 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetDeviceController.GetListCheckSheetDevice (DMCheckSheetAPI) in 1463.4903ms
2025-04-06 16:11:01.918 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetDeviceController.GetListCheckSheetDevice (DMCheckSheetAPI)'
2025-04-06 16:11:01.925 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetDevice - 200 null application/json; charset=utf-8 1625.5498ms
2025-04-06 16:17:33.917 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5118/api/CheckSheetDevice/1 - null null
2025-04-06 16:17:33.933 +07:00 [INF] Executing endpoint 'DMCheckSheetAPI.Controllers.CheckSheetDeviceController.GetCheckSheetDeviceById (DMCheckSheetAPI)'
2025-04-06 16:17:33.943 +07:00 [INF] Route matched with {action = "GetCheckSheetDeviceById", controller = "CheckSheetDevice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCheckSheetDeviceById(Int32) on controller DMCheckSheetAPI.Controllers.CheckSheetDeviceController (DMCheckSheetAPI).
2025-04-06 16:17:34.096 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CheckSheetId], [c].[DeviceId]
FROM [CheckSheetDevices] AS [c]
WHERE [c].[Id] = @__p_0
2025-04-06 16:17:34.100 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'DMCheckSheetAPI.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-06 16:17:34.103 +07:00 [INF] Executed action DMCheckSheetAPI.Controllers.CheckSheetDeviceController.GetCheckSheetDeviceById (DMCheckSheetAPI) in 156.0449ms
2025-04-06 16:17:34.105 +07:00 [INF] Executed endpoint 'DMCheckSheetAPI.Controllers.CheckSheetDeviceController.GetCheckSheetDeviceById (DMCheckSheetAPI)'
2025-04-06 16:17:34.107 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5118/api/CheckSheetDevice/1 - 404 null application/json; charset=utf-8 190.3217ms
